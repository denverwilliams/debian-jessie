<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Capítulo 5. Problemas que debe tener en cuenta para jessie</title><link rel="stylesheet" type="text/css" href="debian.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.es.html" title="Notas de publicación de Debian 8 (jessie), 64-bit PC" /><link rel="up" href="index.es.html" title="Notas de publicación de Debian 8 (jessie), 64-bit PC" /><link rel="prev" href="ch-upgrading.es.html" title="Capítulo 4. Actualizaciones desde Debian 7 (wheezy)" /><link rel="next" href="ch-moreinfo.es.html" title="Capítulo 6. Más información sobre Debian" /><meta xmlns="" name="viewport" content="width=device-width, initial-scale=1" /><style xmlns="" type="text/css">
      body {
        background-repeat: no-repeat;
        background-image: none;
      }
    </style></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Capítulo 5. Problemas que debe tener en cuenta para jessie</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch-upgrading.es.html"><img src="images/prev.png" alt="Anterior" /></a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch-moreinfo.es.html"><img src="images/next.png" alt="Siguiente" /></a></td></tr></table><hr /></div><div xml:lang="es" class="chapter" lang="es"><div class="titlepage"><div><div><h1 class="title"><a id="ch-information"></a>Capítulo 5. Problemas que debe tener en cuenta para jessie</h1></div></div></div><div class="toc"><p><strong>Tabla de contenidos</strong></p><dl class="toc"><dt><span class="section"><a href="ch-information.es.html#limited-security-support">5.1. Limitaciones en el soporte de seguridad</a></span></dt><dd><dl><dt><span class="section"><a href="ch-information.es.html#browser-security">5.1.1. Estado de seguridad en los navegadores web</a></span></dt><dt><span class="section"><a href="ch-information.es.html#libv8">5.1.2. Sin soporte de seguridad para el ecosistema construído alrededor de libv8 y
Node.js</a></span></dt><dt><span class="section"><a href="ch-information.es.html#mediawiki-security">5.1.3. Terminación prematura del soporte de seguridad de MediaWiki</a></span></dt></dl></dd><dt><span class="section"><a href="ch-information.es.html#openssh">5.2. El servidor OpenSSH por omisión se configura con "PermitRootLogin
without-password"</a></span></dt><dt><span class="section"><a href="ch-information.es.html#puppet">5.3. Compatibilidad con Puppet 2.7 / 3.7</a></span></dt><dt><span class="section"><a href="ch-information.es.html#php-incompat">5.4. Cambios de comportamiento en la actualización de PHP 5.6</a></span></dt><dt><span class="section"><a href="ch-information.es.html#apache-httpd-incomat">5.5. Cambios incompatibles en Apache HTTPD 2.4</a></span></dt><dt><span class="section"><a href="ch-information.es.html#systemd-upgrade-default-init-system">5.6. La actualización instala el nuevo sistema de arranque predeterminado para
Jessie</a></span></dt><dd><dl><dt><span class="section"><a href="ch-information.es.html#systemd-auto-mounts-incompat">5.6.1. Gestión más estricta de fallos en el montaje de sistemas durante el arranque
con systemd</a></span></dt><dt><span class="section"><a href="ch-information.es.html#idp42263600">5.6.2. Deben purgarse los programas de arranque obsoletos</a></span></dt><dt><span class="section"><a href="ch-information.es.html#idp42267552">5.6.3. Los guiones de inicio modificados localmente tienen que ser migrados a
systemd</a></span></dt><dt><span class="section"><a href="ch-information.es.html#plymouth-required-for-boot-prompts">5.6.4. Necesidad de Plymouth para opciones de inicio en arranque con systemd</a></span></dt><dt><span class="section"><a href="ch-information.es.html#idp42289248">5.6.5. Interacción entre logind y acpid</a></span></dt><dt><span class="section"><a href="ch-information.es.html#systemd-cryptsetup-unsupported-features">5.6.6. Funciones de crypttab no disponibles con systemd (e.g. "keyscript=...")</a></span></dt><dt><span class="section"><a href="ch-information.es.html#systemd-sigkill-regression">5.6.7. systemd: issues SIGKILL too early [fixed in 8.1]</a></span></dt><dt><span class="section"><a href="ch-information.es.html#systemd-halt-behavior">5.6.8. systemd: behavior of 'halt' command</a></span></dt></dl></dd><dt><span class="section"><a href="ch-information.es.html#required-kernel-config-options">5.7. Opciones de configuración necesarias para Jessie</a></span></dt><dt><span class="section"><a href="ch-information.es.html#lxc-upgrade-issues">5.8. Consideraciones de actualización de los equipos LXC y contenedores</a></span></dt><dd><dl><dt><span class="section"><a href="ch-information.es.html#issues-lxc-wheezy-host">5.8.1. Actualización de huéspedes LXC que se ejecutan en anfitriones Wheezy</a></span></dt><dt><span class="section"><a href="ch-information.es.html#issues-lxc-jessie-host">5.8.2. Actualizar huéspedes LXC que se ejecutan en anfitriones Jessie</a></span></dt><dt><span class="section"><a href="ch-information.es.html#issues-lxc-further-docu">5.8.3. Más información</a></span></dt></dl></dd><dt><span class="section"><a href="ch-information.es.html#cryptsetup-luks-whirlpool">5.9. Migración manual de discos cifrados con «LUKS whirlpool» (instalaciones no
estándar)</a></span></dt><dt><span class="section"><a href="ch-information.es.html#gnome-3d">5.10. El escritorio de GNOME requiere gráficos 3D básicos</a></span></dt><dt><span class="section"><a href="ch-information.es.html#gnome-fglrx">5.11. El escritorio de GNOME no funciona con el controlador propietario FGLRX de
AMD</a></span></dt><dt><span class="section"><a href="ch-information.es.html#gnome-shortcuts">5.12. Cambios en los atajos de teclado predeterminados en GNOME</a></span></dt><dt><span class="section"><a href="ch-information.es.html#base-passwd-hardening">5.13. Cambios al intérprete de órdenes por omisión para los usuarios del sistema
ofrecidas por <code class="systemitem">base-passwd</code></a></span></dt><dt><span class="section"><a href="ch-information.es.html#kde-kontact">5.14. Migración a los nuevos KDE E-mail, Calendar y Contacts (Kontact)</a></span></dt><dt><span class="section"><a href="ch-information.es.html#missing-virtual-consoles">5.15. Las consolas virtuales («getty») no aparecen en entornos con múltiples
escritorios</a></span></dt><dt><span class="section"><a href="ch-information.es.html#idp42402992">5.16. "VGA signal out of range" / pantalla en blanco durante el arranque con
grub-pc</a></span></dt><dt><span class="section"><a href="ch-information.es.html#idp42408480">5.17. Validación más estricta de los archivos de cron en crontab</a></span></dt><dt><span class="section"><a href="ch-information.es.html#perl-module-load-permissions">5.18. Cambios en la gestión de módulos en rutas no legibles por <code class="systemitem">perl</code></a></span></dt><dt><span class="section"><a href="ch-information.es.html#ganeti-upgrade-issues">5.19. Consideraciones en la actualización de clústers Ganeti</a></span></dt><dd><dl><dt><span class="section"><a href="ch-information.es.html#ganeti-upgrade-DRBD-UUIDs">5.19.1. Problem upgrading Ganeti clusters with DRBD-backed instances [fixed in 8.1]</a></span></dt><dt><span class="section"><a href="ch-information.es.html#ganeti-upgrade-general">5.19.2. Notas generales sobre la actualización de clústers Ganeti</a></span></dt></dl></dd><dt><span class="section"><a href="ch-information.es.html#idp42430704">5.20. Nuevos requisitos para la ejecución de archivos en Samba4</a></span></dt><dt><span class="section"><a href="ch-information.es.html#cryptsetup-busybox">5.21. Cryptsetup puede romper el arranque si se utiliza BUSYBOX=n</a></span></dt><dt><span class="section"><a href="ch-information.es.html#squid-incompat">5.22. Backwards incompatible changes in the Squid webproxy</a></span></dt></dl></div><p>
Algunas veces los cambios tienen efectos colaterales que no podemos evitar,
o aparecen fallos en otro lugar. A continuación se documentan los problemas
que conocemos. Puede leer también la fe de erratas, la documentación de los
paquetes relevantes, los informes de fallos, y otra información mencionada
en <a class="xref" href="ch-moreinfo.es.html#morereading" title="6.1. Para leer más">Sección 6.1, “Para leer más”</a>.
</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="limited-security-support"></a>5.1. Limitaciones en el soporte de seguridad</h2></div></div></div><p>
    Hay algunos paquetes para los que Debian no puede comprometerse a
proporcionar versiones actualizadas resolviendo problemas de seguridad. La
información de estos paquetes se cubre en las siguientes subsecciones.
  </p><p>
    Tenga en cuenta que el paquete  <code class="systemitem">debian-security-support</code><a id="idp42163504" class="indexterm"></a>, introducido en
Jessie, ayuda a supervisar el estado de soporte de seguridad de los
paquetes instalados en el sistema.
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="browser-security"></a>5.1.1. Estado de seguridad en los navegadores web</h3></div></div></div><p>
Debian 8 incluye varios motores de navegadores web que están
afectados por un flujo constante de vulnerabilidades de seguridad. La alta
tasa de vulnerabilidades y la falta de un soporte por parte de los
desarrolladores a versiones anteriores hace muy difícil dar soporte a estos
navegadores con arreglos de seguridad preparados para las versiones
distribuidas. Además, las interdependencias entre bibliotecas hacen
imposible actualizar a las nuevas versiones distribuidas. Por tanto, los
navegadores basados en los motores de webkit, qtwebkit y khtml están
incluidos en Jessie, pero no están cubiertos por el soporte completo
de seguridad. No deberían utilizarse estos navegadores para acceder a sitios
no confiables.
</p><p>
Para el uso general de navegación web recomendamos el uso de Iceweasel o
Chromium.
</p><p>
Chromium, aunque basado en el código fuente de Webkit, es un paquete
menor. Este paquete se mantendrá actualizado compilando las versiones
actuales de Chromium para la versión «estable» de Debian. Iceweasel y
Icedove también se mantendrán actualizadas recompilando la última versión de
ESR para la versión «estable».
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="libv8"></a>5.1.2. Sin soporte de seguridad para el ecosistema construído alrededor de libv8 y
Node.js</h3></div></div></div><p>
   La plataforma Node.js está construida sobre el paquete <code class="systemitem">libv8-3.14</code><a id="idp42171696" class="indexterm"></a>, que ha tenido múltiples problemas de
seguridad en el pasado. Actualmente no hay suficientes voluntarios dentro
del proyecto o del equipo de seguridad interesados y dispuestos a dedicar el
elevado tiempo necesario para resolver los problemas de seguridad que puedan
aparecer en el futuro.
</p><p>
   Esto significa que, desgraciadamente, que los paquetes <code class="systemitem">libv8-3.14</code><a id="idp42174416" class="indexterm"></a>, <code class="systemitem">nodejs</code><a id="idp42176080" class="indexterm"></a>, y el ecosistema de paquetes node-* no
deberían utilizarse junto con contenido no confiable, como pueda ser datos
no sanizados obtenidos de Internet.
</p><p>
   Adicionalmente, no se va a proporcionar actualizaciones de seguridad para
estos paquetes durante el ciclo de vida de Jessie.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="mediawiki-security"></a>5.1.3. Terminación prematura del soporte de seguridad de MediaWiki</h3></div></div></div><p>
  El soporte de seguridad de los desarrolladores para la serie 1.19 de
<code class="systemitem">mediawiki</code><a id="idp42180256" class="indexterm"></a> termina durante el ciclo
de vida esperado de Jessie. El paquete <code class="systemitem">mediawiki</code><a id="idp42182000" class="indexterm"></a> se ha incluido en Jessie para
satisfacer las dependencias con otros paquetes.
</p><p>
  El soporte de seguridad para <code class="systemitem">mediawiki</code> terminará
conjuntamente con el soporte de Wheezy en abril de 2016.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="openssh"></a>5.2. El servidor OpenSSH por omisión se configura con "PermitRootLogin
without-password"</h2></div></div></div><p>
    Para intentar proteger la configuración predeterminada, la configuración de
<code class="systemitem">openssh-server</code><a id="idp42186960" class="indexterm"></a> ahora estará fijada
«PermitRootLogin without-password». Este cambio le afectará si utiliza la
autenticación mediante contraseña para el usuario <code class="literal">root</code>.
  </p><p>
    El paquete <code class="systemitem">openssh-server</code><a id="idp42190080" class="indexterm"></a> intentará
detectar estos casos e incrementará la prioridad de su pregunta debconf.
  </p><p>
    Si quiere mantener la autenticación mediante contraseña para el usuario
<code class="literal">root</code> también puede preconfigurar esta pregunta utilizando
lo siguiente:
    </p><pre class="screen">
# The "false" value is in fact correct despite being confusing.
$ echo 'openssh-server openssh-server/permit-root-login boolean false' | debconf-set-selections
</pre><p>
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="puppet"></a>5.3. Compatibilidad con Puppet 2.7 / 3.7</h2></div></div></div><p>
  Ha de tener en cuenta si utiliza Puppet que la versión 3.7 no es compatible
hacia atrás con la versión 2.7. Por varias razones, entre otras, que las
reglas de ámbito han cambiado y se han eliminado muchas definiciones
obsoletas. Encontrará más información de estos cambios en las <a class="ulink" href="https://docs.puppetlabs.com/puppet/3/reference/release_notes.html#puppet-300" target="_top">notas
de publicación de la versión 3.x de Puppet</a>, pero ha de tener en
cuenta que hay más cambios en la versión 3.7.
</p><p>
  Será más fácil completar la actualización si revisa los archivos de registro
de su «puppetmaster» actual en busca de avisos de módulos obsoletos y si
resuelve todos esos avisos antes de continuar con la actualización. También
puede, en lugar de hacer ésto o como un paso adicional, comprobar los
manifiestos con una herramienta como  <a class="ulink" href="https://github.com/duritong/puppet_catalog_test" target="_top">Prueba de catálogo de
Puppet</a> («Puppet catalog test», N. del T.) que le ayudará a encontrar
problemas potenciales antes de hacer la actualización.
</p><p>
  Cuando se actualiza un sistema gestionado mediante Puppet de Wheezy a
Squeeze debe asegurarse que el «puppetmaster» que lo gestiona está
ejecutando al menos la versión 3.7 de Puppet. Si el gestor está ejecutando
la versión de Wheezy de <code class="systemitem">puppetmaster</code><a id="idp42200160" class="indexterm"></a>, el sistema gestionado Jessie no
podrá conectarse a él.
</p><p>
  Consulte los documentos <a class="ulink" href="https://projects.puppetlabs.com/projects/puppet/wiki/Telly_Upgrade_Issues" target="_top">Problemas
conocidos en la actualización</a> y <a class="ulink" href="http://somethingsinistral.net/blog/the-angry-guide-to-puppet-3/" target="_top">«La
guía enfadada de Puppet 3"</a> para más información de los problemas de
incompatibilidad.
</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="php-incompat"></a>5.4. Cambios de comportamiento en la actualización de PHP 5.6</h2></div></div></div><p>
    La actualización a Jessie incluye una actualización de la versión PHP de 5.4
a 5.6. Esta actualización puede afectar a programas PHP locales, por lo que
se recomienda revisar estos programas antes de actualizar. A continuación se
listan un conjunto de estos problemas:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
        Los flujos cliente ahora verifican los certificados de servidor de forma
predeterminada para prevenir contra ataques de tercero interpuesto en los
intercambios de información cifrados.
      </p><p>
        Debido a este cambio, el código que utilice ssl:// o tls:// en envoltorios
de flujo (p.ej.  file_get_contents(), fsockopen(), o stream_socket_client())
pueden no ser capaces de conectarse con éxito a otros servidores si no se
deshabilita la verificación de servidor a través de la opción de
configuración «verify_peer» en el contexto del flujo.
      </p><p>
        Consulte  <a class="ulink" href="https://wiki.php.net/rfc/tls-peer-verification" target="_top">este
documento</a> para obtener más información de este tema concreto.
      </p></li><li class="listitem"><p>
        PHP cambia la forma de gestionar la sensibilidad a mayúsculas y minúsculas
en muchas situaciones:
      </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
            Toda la gestión interna de la sensibilidad a mayúsculas y minúsculas para
clases, funciones y nombres de constantes se realiza conforme a las reglas
ASCII. Se ignoran las opciones de configuración del entorno de localización.
          </p></li><li class="listitem"><p>
            Las palabras clave «self», «parent», y «static» ahora siempre son
insensibles a las mayúsculas y minúsculas.
          </p></li><li class="listitem"><p>
            La función The json_decode() ya no acepta las versiones en minúculas de los
valores «boolean».
          </p></li></ul></div></li><li class="listitem"><p>
        Se ha eliminado el logo de la función GUID (p.ej. php_logo_guid()).
      </p></li><li class="listitem"><p>
        Ya no es posible sobrescribir claves en matrices estáticas
escalares. Consulte la <a class="ulink" href="https://bugs.php.net/bug.php?id=66015" target="_top">errata PHP 66015</a> para
ver un ejemplo y más información sobre este tema en particular.
      </p></li><li class="listitem"><p>
        Las funciones mcrypt_encrypt(), mcrypt_decrypt() y mcrypt_{MODE}()  ya no
aceptan claves o vectores de inicialización (VI) cuando el tamaño no sea el
correcto. Además, ahora es necesario la utilización de un VI si el cifrado
por bloques que se utiliza lo requiere.
      </p></li><li class="listitem"><p>
        Por razones legales, la implementación de JSON que se distribuye con PHP se
ha reemplazado por la versión ofrecida por el módulo PECL «jsonc». Puede que
sea necesario revisar aquél código que haga suposiciones sobre los detalles
de implementación del analizador JSON de PHP.
      </p></li><li class="listitem"><p>
        The "short_open_tag" setting is now disabled by default.  The ASP variant of
the short tags ("&lt;%" and "%&gt;") are scheduled for removal in PHP7.
      </p></li></ul></div><p>
    Encontrará más información de todos los problemas potenciales en la lista de
los cambios incompatibles realizada por los desarrolladores para PHP <a class="ulink" href="https://php.net/manual/en/migration55.incompatible.php" target="_top">5.5</a> y
<a class="ulink" href="https://php.net/manual/en/migration56.incompatible.php" target="_top">5.6</a>.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="apache-httpd-incomat"></a>5.5. Cambios incompatibles en Apache HTTPD 2.4</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
      Esta sección sólo aplica a los sistemas que tienen instalado el servidor
Apache HTTPD y en los que éste se ha configurado manualmente.
    </p></td></tr></table></div><p>
    Ha habido una serie de cambios en la configuración del servidor Apache HTTPD
en la versión 2.4. La síntaxis ha cambiado en la versión original. Cabe
destacar que las directivas de control de acceso han cambiado
significativamente y será necesario migrar manualmente la configuración a
las nuevas directivas.
  </p><p>
    El módulo <code class="literal">mod_access_compat</code> se menciona en la guía de
actualización original como una posible alternativa para una migración
inmediata. Sin embargo, algunos informes sugieren que no siempre funciona.
  </p><p>
    La gestión de los archivos de configuración también ha cambiado en el
empaquetado en Debian. En particular, el nombre de todos los archivos de
configuración y sitios ahora tienen que terminar ahora en «.conf» para que
se traten de forma predeterminada. Este cambio también reemplaza el uso
actual de <code class="filename">/etc/apache2/conf.d/</code>.
  </p><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
      Durante la actualización también verá avisos sobre los archivos de
configuración que se encuentran en
<code class="filename">/etc/apache2/conf.d/</code>, que se ofrecen por paquetes en
Debian. Este aviso es evitable y no hace ningún daño puesto que los paquetes
aceptados moverán su configuración una vez se complete su actualización (lo
que generalmente sucede después de que Apache HTTPD muestre su aviso).

which are provided by packages from Debian.  This warning is unavoidable but
harmless as the affected packages will move their configuration once their
upgrade completes (which will generally happen after the Apache HTTPD emits
its warning).
    </p></td></tr></table></div><p>
    Para obtener más información y obtener la lista completa de los cambios,
puede consultar:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><a class="ulink" href="http://httpd.apache.org/docs/2.4/upgrading.html" target="_top">Actualización
de 2.4 a 2.2</a>, documento ofrecido por los desarrolladores principales
de Apache.
      </p></li><li class="listitem"><p>
        El archivo <code class="filename">/usr/share/doc/apache2/NEWS.Debian.gz</code> que se
incluye en el paquete <code class="systemitem">apache2</code><a id="idp42236320" class="indexterm"></a>.
      </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="systemd-upgrade-default-init-system"></a>5.6. La actualización instala el nuevo sistema de arranque predeterminado para
Jessie</h2></div></div></div><p>
    Jessie incluye <code class="systemitem">systemd-sysv</code><a id="idp42239920" class="indexterm"></a> como
sistema de inicio <span class="emphasis"><em>predeterminado</em></span>. Este paquete se
instala de forma automáticamente durante la actualización.
  </p><p>
    Si prefiere otro sistema de inicio como <code class="systemitem">sysvinit-core</code><a id="idp42242672" class="indexterm"></a> o <code class="systemitem">upstart</code><a id="idp42244336" class="indexterm"></a>, lo recomendable es utilizar el bloqueo
de APT antes de la actualización. Ésto será necesario si está actualizando
contenedores LXC antes que el huésped. En este caso, consulte <a class="xref" href="ch-information.es.html#issues-lxc-wheezy-host" title="5.8.1. Actualización de huéspedes LXC que se ejecutan en anfitriones Wheezy">Sección 5.8.1, “Actualización de huéspedes LXC que se ejecutan en anfitriones Wheezy”</a>.
  </p><p>Por ejemplo, para impedir que se instale <code class="systemitem">systemd-sysv</code><a id="idp42247392" class="indexterm"></a> durante la instalación, puede crear
un archivo con el nombre
<code class="filename">/etc/apt/preferences.d/local-pin-init</code> con los
siguientes contenidos:
  </p><pre class="screen">
Package: systemd-sysv
Pin: release o=Debian
Pin-Priority: -1
</pre><div class="caution"><table border="0" summary="Caution"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Atención]" src="images/caution.png" /></td><th align="left">Atención</th></tr><tr><td align="left" valign="top"><p>
      Tenga en cuenta que algunos paquetes pueden mostrar un comportamiento
degradado o perder algunas funcionalidades si se utiliza un sistema de
inicio distinto del predeterminado.
    </p></td></tr></table></div><p>
    Tenga en cuenta que la actualización puede instalar paquetes que contengan
«systemd» en su nombre aunque se configure el bloqueo de APT.  La
instalación de éstos <span class="emphasis"><em>no</em></span> cambia su sistema de
inicio. Para que systemd se utilice como sistema de inicio, debe instalarse
primero el paquete <code class="systemitem">systemd-sysv</code><a id="idp42252928" class="indexterm"></a>.
  </p><p>
    Si APT o aptitude tiene dificultades para determinar una ruta de
actualización cuando el bloqueo está configurado, puede ser capaz de
ayudarle instalando manualmente los paquetes <code class="systemitem">sysvinit-core</code><a id="idp42255392" class="indexterm"></a> y <code class="systemitem">systemd-shim</code><a id="idp42257056" class="indexterm"></a>.
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="systemd-auto-mounts-incompat"></a>5.6.1. Gestión más estricta de fallos en el montaje de sistemas durante el arranque
con systemd</h3></div></div></div><p>
    El nuvo sistema de inicio predeterminado <code class="systemitem">systemd-sysv</code><a id="idp42260320" class="indexterm"></a> gestiona de manera más estricta
fallos en los montajes «auto» durante el arranque en comparación con
sysvinit. Systemd mostrará un intérprete de órdenes de emergencia en lugar
de continuar el arranque si no es capaz de montar un sistema definido como
«auto» (si no utiliza la opción «nofail»).
  </p><p>
    Le recomendamos que todos los puntos de montaje de dispositivos removibles u
«opcionales» (p.ej. unidades de red no críticas) que estén listados en
<code class="filename">/etc/fstab</code> utilicen o bien la opción «noauto» o la
opción «nofail».
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp42263600"></a>5.6.2. Deben purgarse los programas de arranque obsoletos</h3></div></div></div><p>
    Su sistema puede contener guiones de inicio obsoletos incluídos en paquetes
(ahora) eliminados si está actualizando de versiones anteriores. Estos
programas pueden carecer de metadatos con dependencias o bien son
incompletos, lo que puede dar lugar a ciclos de dependencias en su
configuración de inicio.
  </p><p>
    Para evitar ésto, le recomendamos que analice y revise la lista de paquetes
que están en estado «rc» («Removed, but Config-files remain», «Eliminados,
pero con archivos de configuración», N. del T.), y purgar al menos todos
aquellos que contienen programas de inicio.
  </p><p>
    En <a class="xref" href="ch-upgrading.es.html#purge-removed-packages" title="4.8.1. Purgando los paquetes eliminados">Sección 4.8.1, “Purgando los paquetes eliminados”</a> encontrarán detalles sobre cómo
encontrar y purgar paquetes eliminados.
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp42267552"></a>5.6.3. Los guiones de inicio modificados localmente tienen que ser migrados a
systemd</h3></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
      Esta sección sólo aplica a los sistemas donde los programas de inicio
ofrecidos por Debian han sido modificados localmente.
    </p></td></tr></table></div><p>
    Ha de tener en cuenta que si ha modificado algunos de los programas de
inicio ofrecidos por Debian pueden haberse reemplazados por un archivo de
unidad de systemd o por el propio systemd. Puede buscar los programas de
inicio localmente modificados ejecutando la siguiente orden si tiene el
programa «debsums» instalado:
  </p><pre class="screen">
debsums -c -e | grep ^/etc/init.d
</pre><p>Otra opción, si no tiene instalado debsums, es utilizar la siguiente orden.
  </p><pre class="screen">
dpkg-query --show -f'${Conffiles}' | sed 's, /,\n/,g' | \
  grep /etc/init.d | awk 'NF,OFS="  " {print $2, $1}' | \
  md5sum --quiet -c
</pre><p>
    Si cualquiera de los programas marca cualquier archivo y sus paquetes
correspondientes <span class="emphasis"><em>o</em></span> el paquete <code class="systemitem">systemd</code><a id="idp42274096" class="indexterm"></a> incluye ahora un archivo de unidad de
systemd para ese servicio, el archivo de unidad de systemd tendrá
preferencia sobre su archivo de inicio modificado. Dependiendo de la
naturaleza del cambio, existen distintas formas de realizar la migración.
  </p><p>
    Si fuese necesario, es posible quitarle precedencia al archivo de unidad de
systemd para que arranque el guión de inicio. Puede consultar los siguientes
recursos para obtener más información sobre archivos de unidad de systemd.
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
        <a class="ulink" href="http://0pointer.de/blog/projects/systemd-for-admins-3.html" target="_top">¿Cómo
converto un programa de arranque SysV a un fichero de servicio de
systemd?</a>
      </p></li><li class="listitem"><p>
        <a class="ulink" href="http://0pointer.de/public/systemd-man/systemd.special.html" target="_top">systemd.special
— unidades especiales de units</a>
      </p></li><li class="listitem"><p><a class="ulink" href="http://www.freedesktop.org/wiki/Software/systemd/MyServiceCantGetRealtime/" target="_top">¡Mi
servicio no puede funcionar en tiempo real!</a> (también contiene una
pequeña mención describiendo cómo ejecutar programas de inicio desde
archivos de unidad).</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="plymouth-required-for-boot-prompts"></a>5.6.4. Necesidad de Plymouth para opciones de inicio en arranque con systemd</h3></div></div></div><p>
    Asegúrese de que <code class="systemitem">plymouth</code><a id="idp42283968" class="indexterm"></a> está
instalado y <span class="emphasis"><em>está configurado</em></span> si su arranque es
interactivo (p.ej. necesita una contraseña para acceder a un disco
cifrado). Consulte
<code class="filename">/usr/share/doc/plymouth/README.Debian</code> para más
información sobre la configuración de plymouth.
  </p><p>
    Puede encontrarse que la pregunta en el arranque no aparece si no tiene
<code class="systemitem">plymouth</code><a id="idp42287664" class="indexterm"></a> instalado. Los informes de
actualización sugieren que aún se puede responder a la pregunta de
cryptsetup aunque ésta no sea visible. Si se encuentra con este problema,
puede ser capaz de resolverlo escribiendo la contraseña correcta.
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp42289248"></a>5.6.5. Interacción entre logind y acpid</h3></div></div></div><p>
    Los eventos ACPI pueden gestionarse con logind o acpid. Si están los dos
instalados y configurados para gestionar eventos de distintas formas puede
obtener resultados no deseados.
  </p><p>
    Es recomendable migrar cualquier configuración no predeterminada a logind y
desintalar acpid. También es posible configurar logind para que ignore los
eventos ACPI añadiendo:
  </p><pre class="screen">
HandlePowerKey=ignore
HandleSuspendKey=ignore
HandleHibernateKey=ignore
HandleLidSwitch=ignore
</pre><p>
    a <code class="filename">/etc/systemd/logind.conf</code>. Tenga en cuenta que este
cambio puede modificar el comportamiento de los entornos de escritorio que
dependan de logind.
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="systemd-cryptsetup-unsupported-features"></a>5.6.6. Funciones de crypttab no disponibles con systemd (e.g. "keyscript=...")</h3></div></div></div><p>
    Algunas de las funcionalidades de cryptsetup desgraciadamente no están
soportados cuando se está utilizando systemd como mecanismo de inicio. Éstas
son:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>precheck</p></li><li class="listitem"><p>check</p></li><li class="listitem"><p>checkargs</p></li><li class="listitem"><p>noearly</p></li><li class="listitem"><p>loud</p></li><li class="listitem"><p>keyscript</p></li></ul></div><p>
    Tendrá que utilizar sysvinit <code class="systemitem">sysvinit-core</code><a id="idp42301760" class="indexterm"></a> como sistema de arranque si su
sistema depende de alguna de estas opciones para poder arrancar
correctamente. Consulte la sección  <a class="xref" href="ch-information.es.html#systemd-upgrade-default-init-system" title="5.6. La actualización instala el nuevo sistema de arranque predeterminado para Jessie">Sección 5.6, “La actualización instala el nuevo sistema de arranque predeterminado para
Jessie”</a> para más información sobre
cómo evitar un sistema de arranque particular.
  </p><p>
    Puede comprobar si está utilizando alguna de estas opciones en su sistema
ejecutando la siguiente orden:
  </p><pre class="screen">
grep -e precheck -e check -e checkargs -e noearly -e loud -e keyscript /etc/crypttab
</pre><p>
    Su sistema no utiliza ninguna de las opciones afectadas si no hay ninguna
salida al ejecutar la orden anterior.
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="systemd-sigkill-regression"></a>5.6.7. systemd: issues SIGKILL too early [fixed in 8.1]</h3></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
      This issue was fixed in the 8.1 Jessie point release.
    </p></td></tr></table></div><p>
    A regression was reported in systemd after the Jessie release.  The bug
occurs during shutdown or reboot, where systemd does not give any reasonable
delay before issuing SIGKILL to processes.  This can lead to data loss in
processes that have not saved all data at the time of the reboot
(e.g. running databases).
  </p><p>
    This issue is tracked in the <a class="ulink" href="https://bugs.debian.org/784720" target="_top">Debian bug
#784720</a>
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="systemd-halt-behavior"></a>5.6.8. systemd: behavior of 'halt' command</h3></div></div></div><p>
    The <code class="systemitem">sysvinit</code><a id="idp42311648" class="indexterm"></a> implementation of the
<span class="command"><strong>halt</strong></span> command powered off the machine as well.  The
<code class="systemitem">systemd-sysv</code><a id="idp42314096" class="indexterm"></a> implementation halts
the system, but does not power off the machine. To halt the machine and turn
it off, use the <span class="command"><strong>poweroff</strong></span> command.
  </p><p>
    See also <a class="ulink" href="https://bugs.debian.org/760923" target="_top">Debian bug #760923</a>
  </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="required-kernel-config-options"></a>5.7. Opciones de configuración necesarias para Jessie</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
      Esta sección sólo aplica a aquellas personas que compilan su propio
núcleo. Puede omitir esta sección si vd. utiliza los núcleos compilados por
Debian.
    </p></td></tr></table></div><p>
    Las opciones de configuración del kernel listadas a continuación son o bien
obligatorias o recomendadas para Jessie (además de las opciones existentes
de anteriores versiones):
  </p><pre class="screen">
# Necesario para udev
CONFIG_DEVTMPFS=y
# Necesario para *algunos* servicios systemd
CONFIG_DEVPTS_MULTIPLE_INSTANCES=y
# Necesario para "bluez" (GNOME)
CONFIG_BT=y
# Necesario para cups + systemd.
CONFIG_PPDEV=y
</pre><p>
    Los servicios de system que requieren «CONFIG_DEVPTS_MULTIPLE_INSTANCES=y»
habitualmente incluirán algunas de las siguientes directivas:
  </p><pre class="screen">
PrivateTmp=yes
PrivateDevices=yes
PrivateNetwork=yes
ProtectSystem=yes
</pre><p>
    Esta opción de configuración puede no ser necesaria para su sistema en
particular si no utiliza systemd o si puede asegurar que ninguno de los
servicios de systemd utiliza las directivas indicadas arriba.
  </p><p>
    Consulte la sección «REQUIREMENTS» («Requisitos», N. del T.) para más
información de los requisitos en el archivo <a class="ulink" href="https://sources.debian.net/src/systemd/jessie/README/" target="_top">README</a>
del paquete <code class="systemitem">systemd</code><a id="idp42325472" class="indexterm"></a>.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="lxc-upgrade-issues"></a>5.8. Consideraciones de actualización de los equipos LXC y contenedores</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
    Esta sección sólo aplica a los sistemas que tienen contenedores LXC y
sistemas. Los usuarios finales de sistemas normales habitualmente no tienen
éstos.
  </p></td></tr></table></div><p>
La actualización de Wheezy a Jessie migrará su sistema al mecanismo de
inicio systemd por omisión (consulte <a class="xref" href="ch-information.es.html#systemd-upgrade-default-init-system" title="5.6. La actualización instala el nuevo sistema de arranque predeterminado para Jessie">Sección 5.6, “La actualización instala el nuevo sistema de arranque predeterminado para
Jessie”</a>).
</p><p>
Cuando actualice un contenedor LXC o una máquina virtual LXC, ésto tendrá
distintas consecuencias dependiendo de si el <span class="emphasis"><em>equipo
anfitrión</em></span> se ha actualizado a Jessie o no.
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="issues-lxc-wheezy-host"></a>5.8.1. Actualización de huéspedes LXC que se ejecutan en anfitriones Wheezy</h3></div></div></div><p>
  Si está actualizando un huésped LXC en un contenedor que está ejecutándose
en un sistema <span class="emphasis"><em>anfitrión Wheezy</em></span>, tendrá que impedir que
se migre el huésped automáticamente a systemd. Puede impedir la migración
mediante bloqueos como se describe en <a class="xref" href="ch-information.es.html#systemd-upgrade-default-init-system" title="5.6. La actualización instala el nuevo sistema de arranque predeterminado para Jessie">Sección 5.6, “La actualización instala el nuevo sistema de arranque predeterminado para
Jessie”</a>.
</p><p>
  Ésto es necesario si el anfitrión Wheezy carece de la funcionalidad para
arrancar un sistema que está ejecutando systemd.
</p><p>
  Debería ser capaz de cambiar a systemd dentro de los huéspedes LXC una vez
ha actualizado el sistema <span class="emphasis"><em>anfitrión</em></span> a Jessie. Consulte
el siguiente párrafo para tener en cuenta las cosas que tiene que adaptar en
anfitriones Jessie.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="issues-lxc-jessie-host"></a>5.8.2. Actualizar huéspedes LXC que se ejecutan en anfitriones Jessie</h3></div></div></div><p>
  Para poder arrancar un huésped LXC con systemd tiene que adaptar la
configuración de su contenedor LXC. La configuración del contenedor
habitualmente se encuentra en
<code class="filename">/var/lib/lxc/<em class="replaceable"><code>NOMBRE_CONTENEDOR</code></em>/config</code>.
Tiene que añadir las dos opciones siguientes a la configuración:
</p><pre class="screen">
lxc.autodev = 1
lxc.kmsg = 0
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="issues-lxc-further-docu"></a>5.8.3. Más información</h3></div></div></div><p>
  Puede encontrar más información de LXC en Debian <a class="ulink" href="https://wiki.debian.org/LXC" target="_top">en el wiki de Debian</a>.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="cryptsetup-luks-whirlpool"></a>5.9. Migración manual de discos cifrados con «LUKS whirlpool» (instalaciones no
estándar)</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
      Esta sección es sólo para las personas que han configurado ellos mismos
discos LUKS cifrados utilizando el hash whirlpool. El instalador de Debian
<span class="emphasis"><em>nunca</em></span> ha dado soporte a este tipo de discos.
    </p></td></tr></table></div><p>
    Si ha configurado <span class="emphasis"><em>manually</em></span> un disco cifrado con LUKS
whirlpool tendrá que migrarlo manualmente a un hash más robusto. Puede
comprobar si su disco utiliza whirlpool con la siguiente orden:
  </p><pre class="screen">
# /sbin/cryptsetup luksDump <em class="replaceable"><code>&lt;dispositivo-de-disco&gt;</code></em> | grep -i whirlpool
</pre><p>
    Puede consultar el ítem «8.3 Gcrypt 1.6.x and later break Whirlpool» de
<a class="ulink" href="https://code.google.com/p/cryptsetup/wiki/FrequentlyAskedQuestions" target="_top">las
PUF de cryptsetup</a> para más información sobre cómo migrar.
  </p><div class="caution"><table border="0" summary="Caution"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Atención]" src="images/caution.png" /></td><th align="left">Atención</th></tr><tr><td align="left" valign="top"><p>
      Si tiene este tipo de disco, <code class="systemitem">cryptsetup</code><a id="idp42350288" class="indexterm"></a> no le permitirá descifrarlo por
omisión.  Si tiene cifrados con whirlpool su disco raíz o cualquier otro
disco del sistema (p.ej. /usr), debería migrarlos antes de hacer el primer
reinicio antes de actualizar <code class="systemitem">cryptsetup</code><a id="idp42352400" class="indexterm"></a>.
    </p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="gnome-3d"></a>5.10. El escritorio de GNOME requiere gráficos 3D básicos</h2></div></div></div><p>
    El entorno de escritorio GNOM 3.14 en Jessie ya no tiene soporte hacia atrás
para equipos que no disponen de una tarjeta básica de gráficos 3D. Para su
ejecución necesita o bien un PC suficientemente reciente (cualquier PC
construído en los últimos 10 años debería tener el soporte SSE2 necesario)
o, para arquitecturas que no son i386 ni amd64, un adaptador de gráficos con
aceleración 3D y con controladores EGL.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="gnome-fglrx"></a>5.11. El escritorio de GNOME no funciona con el controlador propietario FGLRX de
AMD</h2></div></div></div><p>
    El controlador AMD FGLRX para los adaptadores Radeon no tiene soporte de la
interfaz EGL, a diferencia de otras controladoras OpenGL. Por ello, algunas
aplicaciones de GNOME, incluyendo las básicas del escritorio de GNOME, no
arrancarán cuando se utilice este controlador.
  </p><p>
    Es recomendable el uso del controlador <code class="literal">radeon</code> libre, que
es el predeterminado en jessie.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="gnome-shortcuts"></a>5.12. Cambios en los atajos de teclado predeterminados en GNOME</h2></div></div></div><p>
    Los atajos de teclado predeterminados en GNOME han cambiado para que se
parezcan más a los de otros sistemas operativos.
  </p><p>
    La configuración se preservará durante la actualización si el usuario ha
modificado la configuración de los atajos de teclado. Estos valores aún son
configurables en el centrl de control de GNOME, accesible en el menú en el
punto alto y a la derecha de la mañana en el icono «configuración»
(«settings», N. del .T)
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="base-passwd-hardening"></a>5.13. Cambios al intérprete de órdenes por omisión para los usuarios del sistema
ofrecidas por <code class="systemitem">base-passwd</code><a id="idp42363904" class="indexterm"></a></h2></div></div></div><p>
    La actualización del paquete <code class="systemitem">base-passwd</code><a id="idp42365904" class="indexterm"></a> cambiará el intérprete de órdenes
que algunos usuarios del sistema utilizan a «nologin». Este cambio afecta a
los siguientes usuarios:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>daemon</p></li><li class="listitem"><p>bin</p></li><li class="listitem"><p>sys</p></li><li class="listitem"><p>sync</p></li><li class="listitem"><p>games</p></li><li class="listitem"><p>man</p></li><li class="listitem"><p>lp</p></li><li class="listitem"><p>mail</p></li><li class="listitem"><p>news</p></li><li class="listitem"><p>uucp</p></li><li class="listitem"><p>proxy</p></li><li class="listitem"><p>www-data</p></li><li class="listitem"><p>backup</p></li><li class="listitem"><p>list</p></li><li class="listitem"><p>irc</p></li><li class="listitem"><p>gnats</p></li><li class="listitem"><p>nobody</p></li></ul></div><p>
    Debería responder «no» a la pregunta que se le realizará sobre este cambio
si su instalación local necesita que alguno de estos usuarios tenga un
intérprete de órdenes válido, o migrar la configuración y después cambiar el
intérprete de órdenes de los usuarios corersopndientes. Un caso notable
incluye las copias de seguridad locales que se realizan utilizando el
usuario «backup» con la autenticación «ssh-key».
  </p><div class="caution"><table border="0" summary="Caution"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Atención]" src="images/caution.png" /></td><th align="left">Atención</th></tr><tr><td align="left" valign="top"><p>
      La migración se realizará de forma automática si su nivel configurado de
prioridad en las preguntas de debconf es «alto» o superior.
    </p></td></tr></table></div><p>
      Puede preconfigurar las preguntas si vd. conoce qué usuarios necesitan
mantener el intérprete de órdenes actuales. Para ello utilice lo siguiente:
  </p><pre class="screen">
echo 'base-passwd base-passwd/system/<em class="replaceable"><code>nombre_de_usuario</code></em>/shell/<em class="replaceable"><code>intérprete-actual-modificado</code></em>/_usr_sbin_nologin boolean false' | debconf-set-selections
</pre><p>
    Donde <em class="replaceable"><code>nombre_de_usuario</code></em> es el nombre del usuario
en cuestión y <em class="replaceable"><code>intérprete-actual-modificado</code></em> es el
nombre modificado del intérprete de órdenes. La modificación se realiza
susituyendo todos los carácteres que no son alfanuméricos, como por ejemplo
guiones o barras, por guiones bajos («_». Por ejemplo, el intérprete de
órdenes «/bin/bash» se convertiría en «_bin_bash».
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="kde-kontact"></a>5.14. Migración a los nuevos KDE E-mail, Calendar y Contacts (Kontact)</h2></div></div></div><p>
    El sistema de Gestión de Información Personal de Kontact ha recibido una
actualización importante. Esta nueva versión hace mucho más uso de
indexación con metadatos y los datos de cada usuario deben migrarse a estos
nuevos índices.
  </p><p>
    Se migrarán automáticamente los correos electrónicos, eventos de calendario
y contactos de la agenda cuando el usuario se conecte y arranque el
componente correspondiente. Algunas funciones avanzadas requieren de
intervención manual, es el caso de los filtros de correo electrónico y las
plantillas personales. Se recogen en el <a class="ulink" href="https://wiki.debian.org/KDE/Jessie/kontact" target="_top">Wiki de Debian</a> más
detalles y sugerencias para depurar el problema.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="missing-virtual-consoles"></a>5.15. Las consolas virtuales («getty») no aparecen en entornos con múltiples
escritorios</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
      This issue is currently reported as fixed in Jessie.  Should you still be
able to reproduce it, then please follow up to <a class="ulink" href="https://bugs.debian.org/766462" target="_top">Debian Bug#766462</a>.  Note that you may have to
unarchive the issue first (please refer to the <a class="ulink" href="https://www.debian.org/Bugs/server-control" target="_top">Debian BTS control
server</a> documentation on how to unarchive bugs).
    </p></td></tr></table></div><p>
    Puede que deje de ver la pregunta para el acceso al sistema de las «consolas
virtuales» si tiene instalados múltiples entornos de escritorio.
  </p><p>
    Este problema parece darse cuando están instalados <code class="systemitem">plymouth</code><a id="idp42397248" class="indexterm"></a>, <code class="systemitem">systemd</code><a id="idp42398912" class="indexterm"></a>, y GNOME. Este problema se ha reportado
como <a class="ulink" href="https://bugs.debian.org/766462" target="_top">Errata de Debian #766462</a>.
  </p><p>
     En algunos casos eliminando la opción «splash» de la línea de órdenes del
núcleo resuelve el problema. Consulte
<code class="filename">/etc/default/grub</code> y no se olvide de ejecutar
<code class="literal">update-grub</code> después de actualizar el fichero.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idp42402992"></a>5.16. "VGA signal out of range" / pantalla en blanco durante el arranque con
grub-pc</h2></div></div></div><p>
    Existen problemas de compatibilidad entre <code class="systemitem">grub-pc</code><a id="idp42404880" class="indexterm"></a> con tarjetas gráficas viejas (p.ej.  la
"ATI Rage 128 Pro Ultra TR") que pueden provocar que se muestre una pantalla
en blanco durante el arranque.  La pantalla puede llegar a mostrar un
mensaje «VGA signal out of range» («Señal de VGA fuera de límites», N. del
T.) u otro mensaje similar.
  </p><p>
    Una forma de evitar este problema es definir en
<code class="filename">/etc/default/grub</code> el valor
<code class="literal">GRUB_TERMINAL=console</code>.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idp42408480"></a>5.17. Validación más estricta de los archivos de cron en crontab</h2></div></div></div><p>
    El programa <code class="literal">crontab</code> ahora es más estricto y puede
rechazar guardar cambios a un archivo de cron si éste es inválido. Debe
revisar su lista de tareas planificadas («crontab») en búsqueda de posibles
problemas si la ejecución de <code class="literal">crontab -e</code> muestra algún
error.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="perl-module-load-permissions"></a>5.18. Cambios en la gestión de módulos en rutas no legibles por <code class="systemitem">perl</code><a id="idp42413472" class="indexterm"></a></h2></div></div></div><p>
     Perl saldrá con un error fatal si encuentra rutas de módulos ilegibles en
<code class="literal">@INC</code> a partir de la versión 5.18 (y 5.20, que es la
versión incluida en Jessie). El comportamiento anterior era omitir estas
entradas. Se recomienda revisar los contenidos de la definición de
<code class="literal">@INC</code> en su entorno para determinar si hay directorios que
no puedan leerlos todos los usuarios y tomar las medidas oportunas.
  </p><p>
    Puede consultar el valor predeterminado para <code class="literal">@INC</code> en Perl
ejecutando la orden <span class="command"><strong>perl -V</strong></span>.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="ganeti-upgrade-issues"></a>5.19. Consideraciones en la actualización de clústers Ganeti</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ganeti-upgrade-DRBD-UUIDs"></a>5.19.1. Problem upgrading Ganeti clusters with DRBD-backed instances [fixed in 8.1]</h3></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
        This issue was fixed in the 8.1 Jessie point release.
      </p></td></tr></table></div><p>
       La versión de <code class="systemitem">ganeti</code><a id="idp42422880" class="indexterm"></a> publicada en
Jessie (2.12.0-3) no da soporte a la migración de instalaciónes que estén
ejecutando la versión 2.5 o anteriores (incluyendo la versión distribuida en
Wheezy) en aquellos casos en los que las existan instancias con discos
DRBD. Este problema se espera que esté arreglado en la próxima actualización
de la publicación, y se recomienda que no se actualice los clústers Ganeti
afectados durante este tiempo. Puede encontrar más información de este
problema en <a class="ulink" href="https://bugs.debian.org/783186" target="_top">Debian Bug#783186</a>.
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ganeti-upgrade-general"></a>5.19.2. Notas generales sobre la actualización de clústers Ganeti</h3></div></div></div><p>
       El procedimiento recomendado para actualizar un clúster Ganeti la versión
<code class="systemitem">ganeti</code><a id="idp42427760" class="indexterm"></a> de Wheezy (2.5.2-1) a la de
Jessie (2.12.0-3) es parar todas las instancias y después actualizar y
reiniciar todos los nodos al mismo tiempo. Esto garantizará que todas las
instancias se ejecuten con la versión del hipervisor de Jessie y que todos
los nodos están ejecutando la misma versión de Ganeti y DRBD.
    </p><p>
       Tenga en cuenta que no se soporta la situación en la que un clúster ejecute
algunos nodos que estén en versión 2.5 y otros en versión 2.12. También ha
de tener en cuenta que, dependiendo del hipervisor, la migración en vivo de
las instancias puede no funcionar entre la versión del hipervisor de Wheezy
y el de Jessie.
    </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idp42430704"></a>5.20. Nuevos requisitos para la ejecución de archivos en Samba4</h2></div></div></div><p>
    Samba4 exigirá que el bit de ejecución este activo en un archivo, además de
los permisos habituales de lectura, si un cliente solicita un archivo que
debe «abrirse para ejecución». Esto también causa que los programas
«netlogon» se ignoren silenciosamente si no disponen de este bit activo.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="cryptsetup-busybox"></a>5.21. Cryptsetup puede romper el arranque si se utiliza BUSYBOX=n</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>Esta sección sólo aplica a aquellas personas que han modificado manualmente
su configuración en <code class="filename">/etc/initramfs-tools/initramfs.conf</code>
para no utilizar busybox.
    </p></td></tr></table></div><p>
    Puede darse el caso de que su sistema no arranque si tiene instalados
<span class="emphasis"><em>a la vez</em></span> <code class="systemitem">busybox</code><a id="idp42436928" class="indexterm"></a> y <code class="systemitem">cryptsetup</code><a id="idp42438592" class="indexterm"></a> y además ha configurado initramfs
para que <span class="emphasis"><em>no</em></span> utilice busybox.
  </p><p>
    Debe revisar el valor de su opción de configuración BUSYBOX en
<code class="filename">/etc/initramfs-tools/initramfs.conf</code> si tiene ambos
paquetes instalados.  En el momento de escribir estas líneas, la forma
conocida de resolver este problema es o bien desinstalar <code class="systemitem">busybox</code><a id="idp42442336" class="indexterm"></a> o bien configurar
<code class="literal">BUSYBOX=y</code> en
<code class="filename">/etc/initramfs-tools/initramfs.conf</code>.
  </p><div class="warning"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Aviso]" src="images/warning.png" /></td><th align="left">Aviso</th></tr><tr><td align="left" valign="top"><p>
      Si ha realizado cambios no se olvide de ejecutar  <code class="literal">update-initramfs
-u</code> para actualizar su initramfs.  Si no lo hace puede que acabe
también con un sistema de arranque roto.
    </p></td></tr></table></div><p>
    Si desea más información, consulte el informe de fallo <a class="ulink" href="https://bugs.debian.org//783297" target="_top">#783297</a>.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="squid-incompat"></a>5.22. Backwards incompatible changes in the Squid webproxy</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>This section only applies to people that have installed the squid webproxy.
    </p></td></tr></table></div><p>
    The configuration of squid has changed in an incompatible way.  Notably some
of the squid "helpers" have changed their name.  If your configuration
relies on old features no longer present or on the old names for the
helpers, your squid service may fail to start after the upgrade.
  </p><p>
    Please see the upstream release notes for more information.  These are:
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><a class="ulink" href="http://www.squid-cache.org/Versions/v3/3.2/RELEASENOTES.html" target="_top">
Release notes for Squid 3.2</a> (The renamed helpers can be found in
<a class="ulink" href="http://www.squid-cache.org/Versions/v3/3.2/RELEASENOTES.html#ss2.6" target="_top">2.6
Helper Name Changes</a>)
        </p></li><li class="listitem"><p><a class="ulink" href="http://www.squid-cache.org/Versions/v3/3.3/RELEASENOTES.html" target="_top">
Release notes for Squid 3.3</a>
        </p></li><li class="listitem"><p><a class="ulink" href="http://www.squid-cache.org/Versions/v3/3.4/RELEASENOTES.html" target="_top">
Release notes for Squid 3.4</a>
        </p></li></ul></div><p>
  </p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch-upgrading.es.html"><img src="images/prev.png" alt="Anterior" /></a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch-moreinfo.es.html"><img src="images/next.png" alt="Siguiente" /></a></td></tr><tr><td width="40%" align="left" valign="top">Capítulo 4. Actualizaciones desde Debian 7 (wheezy) </td><td width="20%" align="center"><a accesskey="h" href="index.es.html"><img src="images/home.png" alt="Inicio" /></a></td><td width="40%" align="right" valign="top"> Capítulo 6. Más información sobre Debian</td></tr></table></div></body></html>