<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Kapitola 5. Problémy vyskytujúce sa v jessie</title><link rel="stylesheet" type="text/css" href="debian.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.sk.html" title="Poznámky k vydaniu Debian 8 (jessie), 64-bit PC" /><link rel="up" href="index.sk.html" title="Poznámky k vydaniu Debian 8 (jessie), 64-bit PC" /><link rel="prev" href="ch-upgrading.sk.html" title="Kapitola 4. Aktualizácie z Debian 7 (wheezy)" /><link rel="next" href="ch-moreinfo.sk.html" title="Kapitola 6. Ďalšie informácie o Debiane" /><meta xmlns="" name="viewport" content="width=device-width, initial-scale=1" /><style xmlns="" type="text/css">
      body {
        background-repeat: no-repeat;
        background-image: none;
      }
    </style></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Kapitola 5. Problémy vyskytujúce sa v jessie</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch-upgrading.sk.html"><img src="images/prev.png" alt="Predchádzajúci" /></a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch-moreinfo.sk.html"><img src="images/next.png" alt="Nasledujúci" /></a></td></tr></table><hr /></div><div xml:lang="sk" class="chapter" lang="sk"><div class="titlepage"><div><div><h1 class="title"><a id="ch-information"></a>Kapitola 5. Problémy vyskytujúce sa v jessie</h1></div></div></div><div class="toc"><p><strong>Obsah</strong></p><dl class="toc"><dt><span class="section"><a href="ch-information.sk.html#limited-security-support">5.1. Obmedzenia bezpečnostnej podpory</a></span></dt><dd><dl><dt><span class="section"><a href="ch-information.sk.html#browser-security">5.1.1. Bezpečnostný status webových prehliadačov</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#libv8">5.1.2. Chýbajúca bezpečnostná podpora ekosystému okolo libv8 a Node.js</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#mediawiki-security">5.1.3. Predčasné ukončenie bezpečnostnej podpory MediaWiki</a></span></dt></dl></dd><dt><span class="section"><a href="ch-information.sk.html#openssh">5.2. Server OpenSSH má štandardne nastavenú voľbu „PermitRootLogin
without-password“</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#puppet">5.3. Kompatibilita Puppet 2.7 / 3.7</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#php-incompat">5.4. Aktualizácia PHP 5.6 sa prejaví zmenami v správaní</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#apache-httpd-incomat">5.5. Nekompatibilné zmeny v Apache HTTPD 2.4</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#systemd-upgrade-default-init-system">5.6. Aktualizácia na Jessie nainštaluje nový predvolený init systém</a></span></dt><dd><dl><dt><span class="section"><a href="ch-information.sk.html#systemd-auto-mounts-incompat">5.6.1. Prísnejší prístup k súborovým systémom, ktoré sa nepodarilo pripojiť počas
štartu pod systemd</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#idp56631696">5.6.2. Zastaralé init skripty by ste mali odstrániť (purge)</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#idp56634864">5.6.3. Locally modified init-scripts may need to be ported to systemd</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#plymouth-required-for-boot-prompts">5.6.4. Výzvy počas zavádzania systému so systemd vyžadujú Plymouth</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#idp56655552">5.6.5. Interakcia medzi logind a acpid</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#systemd-cryptsetup-unsupported-features">5.6.6. Nepodporované funkcie crypttab pod systemd (napríklad „keyscript=...“)</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#systemd-sigkill-regression">5.6.7. systemd: issues SIGKILL too early [fixed in 8.1]</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#systemd-halt-behavior">5.6.8. systemd: behavior of 'halt' command</a></span></dt></dl></dd><dt><span class="section"><a href="ch-information.sk.html#required-kernel-config-options">5.7. Požadované konfiguračné voľby jadra pre Jessie</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#lxc-upgrade-issues">5.8. Aktualizácia hostiteľov a kontajnerov LXC</a></span></dt><dd><dl><dt><span class="section"><a href="ch-information.sk.html#issues-lxc-wheezy-host">5.8.1. Aktualizácia hosťov LXC bežiacich na hostiteľoch Wheezy</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#issues-lxc-jessie-host">5.8.2. Aktualizácia hosťov LXC bežiacich na hostiteľoch Jessie</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#issues-lxc-further-docu">5.8.3. Ďalšie informácie</a></span></dt></dl></dd><dt><span class="section"><a href="ch-information.sk.html#cryptsetup-luks-whirlpool">5.9. Manual migration of disks encrypted with LUKS whirlpool (non-standard
setups)</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#gnome-3d">5.10. Pracovné prostredie GNOME vyžaduje základnú 3D grafiku</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#gnome-fglrx">5.11. Pracovné prostredie GNOME nefunguje s proprietárnym ovládačom FGLRX od AMD</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#gnome-shortcuts">5.12. Zmeny predvolených klávesových skratiek v GNOME</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#base-passwd-hardening">5.13. Changes to default shell of system users provided by <code class="systemitem">base-passwd</code></a></span></dt><dt><span class="section"><a href="ch-information.sk.html#kde-kontact">5.14. Migration to new KDE E-mail, Calendar, and Contacts (Kontact)</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#missing-virtual-consoles">5.15. Missing virtual consoles ("getty"s) with multiple desktop environments</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#idp56763392">5.16. "VGA signal out of range" / blank screen during boot with grub-pc</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#idp56768432">5.17. Stricter validation of cron files in crontab</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#perl-module-load-permissions">5.18. Change in handling of unreadable module paths by <code class="systemitem">perl</code></a></span></dt><dt><span class="section"><a href="ch-information.sk.html#ganeti-upgrade-issues">5.19. Upgrade considerations for Ganeti clusters</a></span></dt><dd><dl><dt><span class="section"><a href="ch-information.sk.html#ganeti-upgrade-DRBD-UUIDs">5.19.1. Problem upgrading Ganeti clusters with DRBD-backed instances [fixed in 8.1]</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#ganeti-upgrade-general">5.19.2. General notes on upgrading Ganeti clusters</a></span></dt></dl></dd><dt><span class="section"><a href="ch-information.sk.html#idp56788384">5.20. New requirements for file execution in Samba4</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#cryptsetup-busybox">5.21. Cryptsetup can break boot with BUSYBOX=n</a></span></dt><dt><span class="section"><a href="ch-information.sk.html#squid-incompat">5.22. Backwards incompatible changes in the Squid webproxy</a></span></dt></dl></div><p>
Niekedy majú zmeny zavedené v novom vydaní vedľajšie účinky, ktorým sa
nedokážeme rozumne vyhnúť alebo by spôsobili objavenie chýb inde. Tu
dokumentujeme problémy, ktorých sme si vedomí. Tiež si prosím prečítajte
errata, dokumentáciu relevantných balíkov, hlásenia o chybách a ďalšie
informácie, ktoré spomína <a class="xref" href="ch-moreinfo.sk.html#morereading" title="6.1. Ďalšie čítanie">Oddiel 6.1, “Ďalšie čítanie”</a>.
</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="limited-security-support"></a>5.1. Obmedzenia bezpečnostnej podpory</h2></div></div></div><p>
    Existujú niektoré balíky, pre ktoré Debian nemôže sľúbiť poskytovanie
minimálných spätných portov v prípade bezpečnostných problémov. Tieto sú
popísané v nasledovných častiach.
  </p><p>
    Balík <code class="systemitem">debian-security-support</code><a id="idp56538896" class="indexterm"></a>
pridaný vo vydaní Jessie pomáha sledovať stav bezpečnostnej podpory
nainštalovaných balíkov.
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="browser-security"></a>5.1.1. Bezpečnostný status webových prehliadačov</h3></div></div></div><p>
Debian 8 obsahuje niekoľko nových jadier prehliadačov, ktoré
postihuje neustály tok nových bezpečnostných zraniteľností. Vysoký tok
zraniteľností a čiastočný nedostatok podpory vo forme vetiev s dlhodobou
podporou znamená, že je pre nás veľmi ťažké podporovať tieto prehliadače
spätne portovanými bezpečnostnými opravami. Naviac, závislosti na
knižniciach znemožňujú aktualizáciu na novšie vydania od dodávateľa. Preto
sú prehliadače založené na jadrách webkit, qtwebkit a khtml súčasťou
Jessie, ale nevzťahuje sa na ne bezpečnostná podpora. Tieto
prehliadače by ste nemali používať na prístup k nedôveryhodným stránkam.
</p><p>
Ako všeobecný prehliadač odporúčame prehliadače Iceweasel alebo Chromium.
</p><p>
Chromium - hoci je postavený na kóde Webkit - je to tzv. listový balík,
ktorý bude priebežne aktualizovaný opätovným zostavením aktuálnej verzie
Chrome v prostredí stabilného vydania. Iceweasel a Icedove budú tiež
udržiavané aktuálne opätovným zostavením aktuálnej ESR verzie v prostredí
stabilného vydania.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="libv8"></a>5.1.2. Chýbajúca bezpečnostná podpora ekosystému okolo libv8 a Node.js</h3></div></div></div><p>
   Platforma Node.js je postavená na <code class="systemitem">libv8-3.14</code><a id="idp56546912" class="indexterm"></a>, ktoré postihuje veľké množstvo
bezpečnostných problémov, ale momentálne projekt nemá žiadnych dobrovoľníkov
ani bezpečnostný tím s dostatočným záujmom, ochotných stráviť veľké množstvo
času riešením tohto typu problémov.
</p><p>
   Unfortunately, this means that <code class="systemitem">libv8-3.14</code><a id="idp56549520" class="indexterm"></a>, <code class="systemitem">nodejs</code><a id="idp56551184" class="indexterm"></a>, and the associated node-* package
ecosystem should not currently be used with untrusted content, such as
unsanitized data from the Internet.
</p><p>
   Okrem toho tieto balíky nebudú dostávať žiadne bezpečnostné aktualizácie
počas životného cyklu vydania Jessie.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="mediawiki-security"></a>5.1.3. Predčasné ukončenie bezpečnostnej podpory MediaWiki</h3></div></div></div><p>
  Upstream security support for the 1.19 series of <code class="systemitem">mediawiki</code><a id="idp56555280" class="indexterm"></a> ends during the expected lifecycle of
Jessie. The <code class="systemitem">mediawiki</code><a id="idp56557008" class="indexterm"></a> package is
included in Jessie to satisfy dependencies in other packages.
</p><p>
  Security support for <code class="systemitem">mediawiki</code> will end in
conjunction with support for Wheezy in April 2016.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="openssh"></a>5.2. Server OpenSSH má štandardne nastavenú voľbu „PermitRootLogin
without-password“</h2></div></div></div><p>
    V snahe viac zabezpečiť predvolenú konfiguráciu bude mať odteraz balík
<code class="systemitem">openssh-server</code><a id="idp56561888" class="indexterm"></a> štandardne nastavenú
voľbu „PermitRootLogin without-password“. Ak potrebujete používať účet
používateľa <code class="literal">root</code> v spojení s prihlasovaním pomocou hesla,
táto zmena na vás môže mať vplyv.
  </p><p>
    <code class="systemitem">openssh-server</code><a id="idp56565072" class="indexterm"></a> sa pokúsi takéto
prípady detegovať a zvýši prioritu výzvy debconf.
  </p><p>
    Ak chcete zachovať prihlasovanie pomocou hesla pre používateľa
<code class="literal">root</code>, môžete tiež preseed na zodpovedanie tejto otázky
vopred pomocou:
    </p><pre class="screen">
# The "false" value is in fact correct despite being confusing.
$ echo 'openssh-server openssh-server/permit-root-login boolean false' | debconf-set-selections
</pre><p>
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="puppet"></a>5.3. Kompatibilita Puppet 2.7 / 3.7</h2></div></div></div><p>
  If you are using Puppet, please be aware that Puppet 3.7 is not backwards
compatible with Puppet 2.7.  Among other things, the scoping rules have
changed and many deprecated constructs have been removed.  See the <a class="ulink" href="https://docs.puppetlabs.com/puppet/3/reference/release_notes.html#puppet-300" target="_top">Puppet
3.x release notes</a> for some of the changes, although be aware that
there are further changes in 3.7.
</p><p>
  Checking the log files of your current puppetmaster for deprecation warnings
and resolving all of those warnings before proceeding with the upgrade will
make it much easier to complete the upgrade.  Alternatively, or
additionally, testing the manifests with a tool like <a class="ulink" href="https://github.com/duritong/puppet_catalog_test" target="_top">Puppet catalog
test</a> may also find potential issues prior to the upgrade.
</p><p>
  When upgrading a Puppet managed system from Wheezy to Jessie, you must
ensure that the corresponding puppetmaster runs at least Puppet version
3.7. If the master is running Wheezy's <code class="systemitem">puppetmaster</code><a id="idp56573760" class="indexterm"></a>, the managed Jessie system will not
be able to connect to it.
</p><p>
  For more information on incompatability changes, please have a look at
<a class="ulink" href="https://projects.puppetlabs.com/projects/puppet/wiki/Telly_Upgrade_Issues" target="_top">Telly
upgrade issues</a> and <a class="ulink" href="http://somethingsinistral.net/blog/the-angry-guide-to-puppet-3/" target="_top">"The
Angry Guide to Puppet 3"</a>.
</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="php-incompat"></a>5.4. Aktualizácia PHP 5.6 sa prejaví zmenami v správaní</h2></div></div></div><p>
    Aktualizácia na Jessie obsahuje aktualizáciu PHP z 5.4 na 5.6. To môže maž
vplyv na akékoľvek miestne skripty PHP a odporúčame vám skontrolovať tieto
skripty pred vykonaním aktualizácie. Nižšie je vybraná podmnožina týchto
problémov:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
        To prevent man-in-the-middle attacks against encrypted transfers, client
streams now verify peer certificates by default.
      </p><p>
        As a result of this change, existing code using ssl:// or tls:// stream
wrappers (e.g.  file_get_contents(), fsockopen(), stream_socket_client())
may no longer connect successfully without manually disabling peer
verification via the stream context's "verify_peer" setting.
      </p><p>
        For more information about this particular issue, please read <a class="ulink" href="https://wiki.php.net/rfc/tls-peer-verification" target="_top">this document</a>.
      </p></li><li class="listitem"><p>
        PHP v mnohých prípadoch mení rozlišovanie veľkosti písmen:
      </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
            All internal case insensitivity handling for class, function, and constant
names is done according to ASCII rules.  Current locale settings are
ignored.
          </p></li><li class="listitem"><p>
            The keywords "self", "parent", and "static" are now always case insensitive.
          </p></li><li class="listitem"><p>
            The json_decode() function no longer accepts non-lowercase variants of
"boolean" values.
          </p></li></ul></div></li><li class="listitem"><p>
        The logo GUID functions (e.g. php_logo_guid()) have been removed.
      </p></li><li class="listitem"><p>
        It is no longer possible to overwrite keys in static scalar arrays.  Please
see <a class="ulink" href="https://bugs.php.net/bug.php?id=66015" target="_top">PHP bug 66015</a>
for an example and more information about this particular issue.
      </p></li><li class="listitem"><p>
        The mcrypt_encrypt(), mcrypt_decrypt() and mcrypt_{MODE}()  functions no
longer accept keys or IVs with incorrect sizes. Furthermore an IV is now
required if the used block cipher mode requires it.
      </p></li><li class="listitem"><p>
        For legal reasons, the JSON implementation bundled with PHP has been
replaced with the version provided by the "jsonc" PECL module.  Code that
makes assumptions about the finer implementation details of the PHP JSON
parser may need to be reviewed.
      </p></li><li class="listitem"><p>
        The "short_open_tag" setting is now disabled by default.  The ASP variant of
the short tags ("&lt;%" and "%&gt;") are scheduled for removal in PHP7.
      </p></li></ul></div><p>
    For more information or the full list of potential issues, please have a
look at upstream's list of backwards incompatible changes for PHP <a class="ulink" href="https://php.net/manual/en/migration55.incompatible.php" target="_top">5.5</a> and
<a class="ulink" href="https://php.net/manual/en/migration56.incompatible.php" target="_top">5.6</a>.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="apache-httpd-incomat"></a>5.5. Nekompatibilné zmeny v Apache HTTPD 2.4</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Poznámka]" src="images/note.png" /></td><th align="left">Poznámka</th></tr><tr><td align="left" valign="top"><p>
      This section only applies to systems which have installed an Apache HTTPD
server and configured it manually.
    </p></td></tr></table></div><p>
    There have been a number of changes to the configuration of the Apache HTTPD
server in version 2.4.  On the upstream side, the syntax has changed.
Notably, the access control directives have changed considerably and will
need manual migration to the new directives.
  </p><p>
    The <code class="literal">mod_access_compat</code> module is mentioned in the upstream
upgrade guide as a possible alternative to immediate migration.  However,
the reports suggest it may not always work.
  </p><p>
    The managing of configuration files has also been changed in the Debian
packaging.  In particular, all configuration files and sites must now end
with ".conf" to be parsed by default.  This change also replaces the
existing use of <code class="filename">/etc/apache2/conf.d/</code>.
  </p><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Poznámka]" src="images/note.png" /></td><th align="left">Poznámka</th></tr><tr><td align="left" valign="top"><p>
      During the upgrade, you may also see warnings about configuration files
placed in <code class="filename">/etc/apache2/conf.d/</code>, which are provided by
packages from Debian.  This warning is unavoidable but harmless as the
affected packages will move their configuration once their upgrade completes
(which will generally happen after the Apache HTTPD emits its warning).
    </p></td></tr></table></div><p>
    Ďalšie informácie a úplný zoznam zmien nájdete v:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><a class="ulink" href="http://httpd.apache.org/docs/2.4/upgrading.html" target="_top">Upgrading to
2.4 from 2.2</a> document provided by Apache for the upstream side.
      </p></li><li class="listitem"><p>
        The <code class="filename">/usr/share/doc/apache2/NEWS.Debian.gz</code> file provided
by the <code class="systemitem">apache2</code><a id="idp56605344" class="indexterm"></a> package.
      </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="systemd-upgrade-default-init-system"></a>5.6. Aktualizácia na Jessie nainštaluje nový predvolený init systém</h2></div></div></div><p>
    Jessie sa dodáva s <span class="emphasis"><em>predvoleným</em></span> init systémom
<code class="systemitem">systemd-sysv</code><a id="idp56609424" class="indexterm"></a>. Tento balík  sa
nainštaluje automaticky počas aktualizácie.
  </p><p>
    Ak preferujete iný init systém ako <code class="systemitem">sysvinit-core</code><a id="idp56611728" class="indexterm"></a> alebo <code class="systemitem">upstart</code><a id="idp56613424" class="indexterm"></a>, odporúča sa nastaviť APT pinning pred
aktualizáciou. To môže byť nutné aj v prípade, že aktualizujete kontajnery
LXC pred aktualizáciou hostiteľa. V takom prípade si prosím prečítajte <a class="xref" href="ch-information.sk.html#issues-lxc-wheezy-host" title="5.8.1. Aktualizácia hosťov LXC bežiacich na hostiteľoch Wheezy">Oddiel 5.8.1, “Aktualizácia hosťov LXC bežiacich na hostiteľoch Wheezy”</a>.
  </p><p>Napríklad, aby ste zabránili inštalácii <code class="systemitem">systemd-sysv</code><a id="idp56616560" class="indexterm"></a> počas aktualizácie, môžete vytvoriť
súbor s názvom <code class="filename">/etc/apt/preferences.d/local-pin-init</code> s
nasledovným obsahom:
  </p><pre class="screen">
Package: systemd-sysv
Pin: release o=Debian
Pin-Priority: -1
</pre><div class="caution"><table border="0" summary="Caution"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Výstraha]" src="images/caution.png" /></td><th align="left">Výstraha</th></tr><tr><td align="left" valign="top"><p>
      Pamätajte, že niektoré balíky sa nemusia chovať úplne správne pod
neštandardným init systémom.
    </p></td></tr></table></div><p>
    Please note that the upgrade may install packages containing "systemd" in
their name even with APT pinning.  These alone do <span class="emphasis"><em>not</em></span>
change your init system.  To use systemd as your init system, the
<code class="systemitem">systemd-sysv</code><a id="idp56621872" class="indexterm"></a> package must be
installed first.
  </p><p>
    If APT or aptitude has issues computing an upgrade path with the pin in
place, you may be able to help it by manually installing both <code class="systemitem">sysvinit-core</code><a id="idp56624128" class="indexterm"></a> and <code class="systemitem">systemd-shim</code><a id="idp56625824" class="indexterm"></a>.
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="systemd-auto-mounts-incompat"></a>5.6.1. Prísnejší prístup k súborovým systémom, ktoré sa nepodarilo pripojiť počas
štartu pod systemd</h3></div></div></div><p>
    The new default init system, <code class="systemitem">systemd-sysv</code><a id="idp56629104" class="indexterm"></a>, has a stricter handling of failing
"auto" mounts during boot compared to sysvinit.  If it fails to mount an
"auto" mount (without the "nofail" option), systemd will drop to an
emergency shell rather than continuing the boot.
  </p><p>
    We recommend that all removable or "optional" mount points (e.g.
non-critical network drives) listed in <code class="filename">/etc/fstab</code>
either have the "noauto" or the "nofail" option.
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp56631696"></a>5.6.2. Zastaralé init skripty by ste mali odstrániť (purge)</h3></div></div></div><p>
    If you are upgrading from previous releases, your system may contain
obsolete init-scripts provided by (now) removed packages.  These scripts may
have inaccurate or no dependency metadata, which can lead to dependency
cycles in your init configuration.
  </p><p>
    To avoid this, we recommend that you go and review the list of packages that
are in the "rc" ("Removed, but Config-files remain") state, and purge at
least all those containing init-scripts.
  </p><p>
    Please see <a class="xref" href="ch-upgrading.sk.html#purge-removed-packages" title="4.8.1. Vyčistenie (purge) odstránených balíkov">Oddiel 4.8.1, “Vyčistenie (purge) odstránených balíkov”</a> for details on finding
and purging removed packages.
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp56634864"></a>5.6.3. Locally modified init-scripts may need to be ported to systemd</h3></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Poznámka]" src="images/note.png" /></td><th align="left">Poznámka</th></tr><tr><td align="left" valign="top"><p>
      This section only applies to systems where Debian-provided init scripts have
been modified locally.
    </p></td></tr></table></div><p>
    If you have modified some of the init scripts provided by Debian, please be
aware that these may now have been superseded by a systemd unit file or by
systemd itself.  If you have debsums installed, you can check for locally
modified init scripts by using the following shell command.
  </p><pre class="screen">
debsums -c -e | grep ^/etc/init.d
</pre><p>Alternatively, the following can be used in the absence of debsums.
  </p><pre class="screen">
dpkg-query --show -f'${Conffiles}' | sed 's, /,\n/,g' | \
  grep /etc/init.d | awk 'NF,OFS="  " {print $2, $1}' | \
  md5sum --quiet -c
</pre><p>
    If either command flags any files and their corresponding packages
<span class="emphasis"><em>or</em></span> the <code class="systemitem">systemd</code><a id="idp56641056" class="indexterm"></a>
now provides an systemd unit file for that service, the systemd unit file
will take precedence to your locally modified init script.  Depending on the
nature of the change, there are different way to perform the migration.
  </p><p>
    If necessary, it is possible to override the systemd unit file to have it
start the sysvinit script.  For more information on systemd unit files,
please have a look at the following resources.
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
        <a class="ulink" href="http://0pointer.de/blog/projects/systemd-for-admins-3.html" target="_top"> How
Do I Convert A SysV Init Script Into A systemd Service File? </a>
      </p></li><li class="listitem"><p>
        <a class="ulink" href="http://0pointer.de/public/systemd-man/systemd.special.html" target="_top">systemd.special
— Special systemd units</a>
      </p></li><li class="listitem"><p><a class="ulink" href="http://www.freedesktop.org/wiki/Software/systemd/MyServiceCantGetRealtime/" target="_top">My
Service Can't Get Realtime!</a> (also contains a very short mention on
invoking init scripts from unit files)</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="plymouth-required-for-boot-prompts"></a>5.6.4. Výzvy počas zavádzania systému so systemd vyžadujú Plymouth</h3></div></div></div><p>
    Ak zavádzanie vášho systému prebieha interaktívne (napríklad vyžaduje
zadanie hesla k šifrovanému disku), uistite sa, že máte nainštalovaný
<span class="emphasis"><em>a nakonfigurovaný</em></span> <code class="systemitem">plymouth</code><a id="idp56650928" class="indexterm"></a>.  Informácie o konfigurovaní plymouth
nájdete na <code class="filename">/usr/share/doc/plymouth/README.Debian</code>.
  </p><p>
    Ak nemáte <code class="systemitem">plymouth</code><a id="idp56653888" class="indexterm"></a>, môže sa stať, že
sa výzva počas zavádzania systému nezobrazí. Hlásenia naznačujú, že
cryptsetup síce prijíma vstup, no ten sa nezobrazuje. Ak narazíte na tento
problém, po napísaní správneho hesla by vám malo byť umožnené normálne
pokračovať ďalej.
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp56655552"></a>5.6.5. Interakcia medzi logind a acpid</h3></div></div></div><p>
    Udalosti ACPI môže spracovávať buď logind alebo acpid. V prípade, že sú obe
služby nakonfigurované, aby spracovávali udalosti rôznymi spôsobmi, môže to
viesť k nežiaducim výsledkom.
  </p><p>
    Odporúčame previesť akékoľvek neštandardné nastavenia do logind a
odinštalovať acpid. Alternatívou je nastaviť logind, aby ignoroval udalosti
ACPI, pridaním:
  </p><pre class="screen">
HandlePowerKey=ignore
HandleSuspendKey=ignore
HandleHibernateKey=ignore
HandleLidSwitch=ignore
</pre><p>
    do <code class="filename">/etc/systemd/logind.conf</code>. Všimnite si, že to môže
zmeniť správanie pracovných prostredí, ktoré závisia na logind.
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="systemd-cryptsetup-unsupported-features"></a>5.6.6. Nepodporované funkcie crypttab pod systemd (napríklad „keyscript=...“)</h3></div></div></div><p>
    Niektoré funkcie cryptsetup bohužiaľ nie sú podporované, ak používate
systemd ako init systém. Sú to:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>precheck</p></li><li class="listitem"><p>check</p></li><li class="listitem"><p>checkargs</p></li><li class="listitem"><p>noearly</p></li><li class="listitem"><p>loud</p></li><li class="listitem"><p>keyscript</p></li></ul></div><p>
    Ak úspešné zavedenie vášho systému spolieha na niektorú z týchto funkcií,
budete musieť ako init systém použiť sysvinit (<code class="systemitem">sysvinit-core</code><a id="idp56668352" class="indexterm"></a>). Informácie o tom, ako sa vyhnúť
konkrétnemu init systému nájdete v časti <a class="xref" href="ch-information.sk.html#systemd-upgrade-default-init-system" title="5.6. Aktualizácia na Jessie nainštaluje nový predvolený init systém">Oddiel 5.6, “Aktualizácia na Jessie nainštaluje nový predvolený init systém”</a>.
  </p><p>
    Ak chcete skontrolovať, či váš systém používa niektorú z týchto funkcií,
spustite nasledovný príkaz:
  </p><pre class="screen">
grep -e precheck -e check -e checkargs -e noearly -e loud -e keyscript /etc/crypttab
</pre><p>
    Ak vyššie uvedený príkaz nič nevypíše, váš systém nepoužíva žiadnu z
uvedených funkcií.
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="systemd-sigkill-regression"></a>5.6.7. systemd: issues SIGKILL too early [fixed in 8.1]</h3></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Poznámka]" src="images/note.png" /></td><th align="left">Poznámka</th></tr><tr><td align="left" valign="top"><p>
      This issue was fixed in the 8.1 Jessie point release.
    </p></td></tr></table></div><p>
    A regression was reported in systemd after the Jessie release.  The bug
occurs during shutdown or reboot, where systemd does not give any reasonable
delay before issuing SIGKILL to processes.  This can lead to data loss in
processes that have not saved all data at the time of the reboot
(e.g. running databases).
  </p><p>
    This issue is tracked in the <a class="ulink" href="https://bugs.debian.org/784720" target="_top">Debian bug
#784720</a>
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="systemd-halt-behavior"></a>5.6.8. systemd: behavior of 'halt' command</h3></div></div></div><p>
    The <code class="systemitem">sysvinit</code><a id="idp56678112" class="indexterm"></a> implementation of the
<span class="command"><strong>halt</strong></span> command powered off the machine as well.  The
<code class="systemitem">systemd-sysv</code><a id="idp56680560" class="indexterm"></a> implementation halts
the system, but does not power off the machine. To halt the machine and turn
it off, use the <span class="command"><strong>poweroff</strong></span> command.
  </p><p>
    See also <a class="ulink" href="https://bugs.debian.org/760923" target="_top">Debian bug #760923</a>
  </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="required-kernel-config-options"></a>5.7. Požadované konfiguračné voľby jadra pre Jessie</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Poznámka]" src="images/note.png" /></td><th align="left">Poznámka</th></tr><tr><td align="left" valign="top"><p>
      Táto časť je len pre ľudí, ktorí si zostavujú vlastné jadro. Ak používate
jadrá, ktoré zostavil Debian, môžete túto časť ignorovať.
    </p></td></tr></table></div><p>
    The following kernel configuration options are now either required or
recommended for Jessie (in addition to existing ones from previous
releases):
  </p><pre class="screen">
# Voľbu vyžaduje udev
CONFIG_DEVTMPFS=y
# Voľbu vyžadujú *niektoré* služby systemd
CONFIG_DEVPTS_MULTIPLE_INSTANCES=y
# Voľbu vyžaduje "bluez" (GNOME)
CONFIG_BT=y
# Voľbu vyžaduje cups + systemd.
CONFIG_PPDEV=y
</pre><p>
    The systemd services which require CONFIG_DEVPTS_MULTIPLE_INSTANCES=y will
typically contain at least one of the following directives:
  </p><pre class="screen">
PrivateTmp=yes
PrivateDevices=yes
PrivateNetwork=yes
ProtectSystem=yes
</pre><p>
    If you do not use systemd, or can assert that none of the systemd services
will use the above directives, the config option might not be required for
your particular system.
  </p><p>
    For more information about the requirements, please refer to the section
called "REQUIREMENTS" in the <a class="ulink" href="https://sources.debian.net/src/systemd/jessie/README/" target="_top">README</a>
file for the package <code class="systemitem">systemd</code><a id="idp56691408" class="indexterm"></a>.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="lxc-upgrade-issues"></a>5.8. Aktualizácia hostiteľov a kontajnerov LXC</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Poznámka]" src="images/note.png" /></td><th align="left">Poznámka</th></tr><tr><td align="left" valign="top"><p>
    Táto časť sa vzťahuje len na systémy, ktoré majú kontajnery alebo hostiteľa
LXC. Systémy bežných koncových používateľov ich zvyčajne nemajú.
  </p></td></tr></table></div><p>
The upgrade from Wheezy to Jessie will migrate your system to the systemd
init system by default (see <a class="xref" href="ch-information.sk.html#systemd-upgrade-default-init-system" title="5.6. Aktualizácia na Jessie nainštaluje nový predvolený init systém">Oddiel 5.6, “Aktualizácia na Jessie nainštaluje nový predvolený init systém”</a>).
</p><p>
When upgrading an LXC container or an LXC virtual machine, this will have
different consequences depending on whether the <span class="emphasis"><em>host
system</em></span> has already been upgraded to Jessie or not.
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="issues-lxc-wheezy-host"></a>5.8.1. Aktualizácia hosťov LXC bežiacich na hostiteľoch Wheezy</h3></div></div></div><p>
  If you are upgrading an LXC guest container that is running on a
<span class="emphasis"><em>Wheezy host</em></span> system, then you will need to prevent the
guest from being automatically migrated to systemd.  You prevent the
migration via pinning, as described in <a class="xref" href="ch-information.sk.html#systemd-upgrade-default-init-system" title="5.6. Aktualizácia na Jessie nainštaluje nový predvolený init systém">Oddiel 5.6, “Aktualizácia na Jessie nainštaluje nový predvolený init systém”</a>.
</p><p>
  This is required as the Wheezy host lacks functionality to boot a system
running systemd.
</p><p>
  You should be able to switch over to systemd inside the LXC guest once you
have upgraded the <span class="emphasis"><em>host</em></span> system to Jessie. See the next
paragraph for things that need to be adapted on Jessie hosts.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="issues-lxc-jessie-host"></a>5.8.2. Aktualizácia hosťov LXC bežiacich na hostiteľoch Jessie</h3></div></div></div><p>
  In order to be able to boot LXC guests with systemd, you need to adapt your
LXC container configuration.  The container configuration can usually be
found in
<code class="filename">/var/lib/lxc/<em class="replaceable"><code>CONTAINER_NAME</code></em>/config</code>
You need to add the following two settings to the configuration:
</p><pre class="screen">
lxc.autodev = 1
lxc.kmsg = 0
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="issues-lxc-further-docu"></a>5.8.3. Ďalšie informácie</h3></div></div></div><p>
  You can find further information on LXC in Debian <a class="ulink" href="https://wiki.debian.org/LXC" target="_top">in the Debian wiki</a>.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="cryptsetup-luks-whirlpool"></a>5.9. Manual migration of disks encrypted with LUKS whirlpool (non-standard
setups)</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Poznámka]" src="images/note.png" /></td><th align="left">Poznámka</th></tr><tr><td align="left" valign="top"><p>
      This section is only for people who have set up LUKS encrypted disks
themselves using the whirlpool hash.  The debian-installer has
<span class="emphasis"><em>never</em></span> supported creating such disks.
    </p></td></tr></table></div><p>
    If you have <span class="emphasis"><em>manually</em></span> set up an encrypted disk with LUKS
whirlpool, you will need to migrate it manually to a stronger hash.  You can
check if your disk is using whirlpool by using the following command:
  </p><pre class="screen">
# /sbin/cryptsetup luksDump <em class="replaceable"><code>&lt;disk-device&gt;</code></em> | grep -i whirlpool
</pre><p>
    For more information on migrating, please see item "8.3 Gcrypt 1.6.x and
later break Whirlpool" of the <a class="ulink" href="https://code.google.com/p/cryptsetup/wiki/FrequentlyAskedQuestions" target="_top">cryptsetup
FAQ</a>.
  </p><div class="caution"><table border="0" summary="Caution"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Výstraha]" src="images/caution.png" /></td><th align="left">Výstraha</th></tr><tr><td align="left" valign="top"><p>
      If you have such a disk, <code class="systemitem">cryptsetup</code><a id="idp56714272" class="indexterm"></a>
will refuse to decrypt it by default.  If your rootdisk or other system
disks (e.g. /usr) are encrypted with whirlpool, you should migrate them
prior to the first reboot after upgrading <code class="systemitem">cryptsetup</code><a id="idp56716144" class="indexterm"></a>.
    </p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="gnome-3d"></a>5.10. Pracovné prostredie GNOME vyžaduje základnú 3D grafiku</h2></div></div></div><p>
    Pracovné prostredie GNOME 3.14 v Jessie už viac neobsahuje záložnú podporu
pre počítače bez základného urýchľovania 3D grafiky. Aby správne bežalo,
potrebuje buď dostatočne nové PC (potrebnú podporu SSE2 by malo mať
akékoľvek PC zostavené v posledných 10 rokoch) alebo v prípade architektúr
iných ako i386 a amd64, grafická karta s 3D akceleráciou a ovládačom s
podporou EGL.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="gnome-fglrx"></a>5.11. Pracovné prostredie GNOME nefunguje s proprietárnym ovládačom FGLRX od AMD</h2></div></div></div><p>
    Na rozdiel od iných ovládačov OpenGL, ovládač AMD FGLRX pre karty Radeon
nepodporuje rozhranie EGL. Z toho dôvodu sa niekoľko aplikácií GNOME vrátane
jadra pracovného prostredia GNOME vôbec nespustí ak sa používa tento
ovládač.
  </p><p>
    Odporúča sa namiesto neho používať slobodný ovládač
<code class="literal">radeon</code>, ktorý je v jessie predvolený.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="gnome-shortcuts"></a>5.12. Zmeny predvolených klávesových skratiek v GNOME</h2></div></div></div><p>
    Predvolené klávesové skratky v GNOME sa zmenili, aby lepšie zodpovedali
svojim náprotivkom v niektorých iných operačných systémoch.
  </p><p>
    Shortcut settings previously modified by the user will be preserved upon
upgrade. These settings can still be configured from the GNOME control
center, accessible from the top right menu by clicking on the "settings"
icon.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="base-passwd-hardening"></a>5.13. Changes to default shell of system users provided by <code class="systemitem">base-passwd</code><a id="idp56727184" class="indexterm"></a></h2></div></div></div><p>
    The upgrade of the <code class="systemitem">base-passwd</code><a id="idp56729152" class="indexterm"></a>
package will reset the shell of some system users to the "nologin" shell.
This includes the following users:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>daemon</p></li><li class="listitem"><p>bin</p></li><li class="listitem"><p>sys</p></li><li class="listitem"><p>sync</p></li><li class="listitem"><p>games</p></li><li class="listitem"><p>man</p></li><li class="listitem"><p>lp</p></li><li class="listitem"><p>mail</p></li><li class="listitem"><p>news</p></li><li class="listitem"><p>uucp</p></li><li class="listitem"><p>proxy</p></li><li class="listitem"><p>www-data</p></li><li class="listitem"><p>backup</p></li><li class="listitem"><p>list</p></li><li class="listitem"><p>irc</p></li><li class="listitem"><p>gnats</p></li><li class="listitem"><p>nobody</p></li></ul></div><p>
    If your local setup requires that any of these users have a shell, you
should say no to migrating, or migrate and then change the shell of the
corresponding users.  Notable examples include local backups done via the
"backup" user with "ssh-key" authentication.
  </p><div class="caution"><table border="0" summary="Caution"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Výstraha]" src="images/caution.png" /></td><th align="left">Výstraha</th></tr><tr><td align="left" valign="top"><p>
      The migration will happen automatically if your debconf question priority is
"high" or above.
    </p></td></tr></table></div><p>
      If you know you want to keep the current shell of a given user, you can
preseed the questions by using the following:
  </p><pre class="screen">
echo 'base-passwd base-passwd/system/<em class="replaceable"><code>username</code></em>/shell/<em class="replaceable"><code>current-shell-mangled</code></em>/_usr_sbin_nologin boolean false' | debconf-set-selections
</pre><p>
    Where <em class="replaceable"><code>username</code></em> is the name of the user in
question and <em class="replaceable"><code>current-shell-mangled</code></em> is the mangled
name of the shell. The mangling is done by replacing all characters other
than alphanumerics, dashes, and underscores with underscores.
E.g. /bin/bash becomes _bin_bash.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="kde-kontact"></a>5.14. Migration to new KDE E-mail, Calendar, and Contacts (Kontact)</h2></div></div></div><p>
    The Kontact Personal Information Management system has received a major
upgrade. The new version makes much greater use of metadata indexing and
each user's data must be migrated into these new indices.
  </p><p>
    E-mail, calendar events, and addressbook contacts are automatically migrated
when the user logs in and the relevant component is started.  Some advanced
settings such as e-mail filters and custom templates require manual
intervention. Further details and troubleshooting suggestions are collected
on the <a class="ulink" href="https://wiki.debian.org/KDE/Jessie/kontact" target="_top">Debian
Wiki</a>.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="missing-virtual-consoles"></a>5.15. Missing virtual consoles ("getty"s) with multiple desktop environments</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Poznámka]" src="images/note.png" /></td><th align="left">Poznámka</th></tr><tr><td align="left" valign="top"><p>
      This issue is currently reported as fixed in Jessie.  Should you still be
able to reproduce it, then please follow up to <a class="ulink" href="https://bugs.debian.org/766462" target="_top">Debian Bug#766462</a>.  Note that you may have to
unarchive the issue first (please refer to the <a class="ulink" href="https://www.debian.org/Bugs/server-control" target="_top">Debian BTS control
server</a> documentation on how to unarchive bugs).
    </p></td></tr></table></div><p>
    If you have multiple desktop environments installed, you may experience that
none of the "virtual consoles" show a login prompt.
  </p><p>
    This issue seems to occur when <code class="systemitem">plymouth</code><a id="idp56757840" class="indexterm"></a>, <code class="systemitem">systemd</code><a id="idp56759504" class="indexterm"></a>, and GNOME are all installed.  This
issue is reported as <a class="ulink" href="https://bugs.debian.org/766462" target="_top">Debian Bug#766462</a>.
  </p><p>
     It has been reported that removing the "splash" argument from the kernel
command-line may work around the issue.  Please see
<code class="filename">/etc/default/grub</code> and remember to run
<code class="literal">update-grub</code> after updating the file.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idp56763392"></a>5.16. "VGA signal out of range" / blank screen during boot with grub-pc</h2></div></div></div><p>
    There is a compatibility issue in <code class="systemitem">grub-pc</code><a id="idp56765248" class="indexterm"></a> with older graphics cards (e.g.  the
"ATI Rage 128 Pro Ultra TR") that can cause it to show a blank screen during
boot.  The display may issue a "VGA signal out of range" message (or
something similar).
  </p><p>
    A simple work around is to set <code class="literal">GRUB_TERMINAL=console</code> in
<code class="filename">/etc/default/grub</code>.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idp56768432"></a>5.17. Stricter validation of cron files in crontab</h2></div></div></div><p>
    The <code class="literal">crontab</code> program is now more strict and may refuse to
save a changed cron file if it is invalid.  If you experience issues with
<code class="literal">crontab -e</code>, please review your crontab for existing
mistakes.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="perl-module-load-permissions"></a>5.18. Change in handling of unreadable module paths by <code class="systemitem">perl</code><a id="idp56772960" class="indexterm"></a></h2></div></div></div><p>
     From version 5.18 (and 5.20, which is included in Jessie), Perl will exit
with a fatal error if it encounters unreadable module paths in
<code class="literal">@INC</code>. The previous behavior was to skip such entries. It
is recommended to check the contents of <code class="literal">@INC</code> in your
environment for directories which are not world-readable, and take
appropriate action.
  </p><p>
    You can see the default <code class="literal">@INC</code> for Perl by running
<span class="command"><strong>perl -V</strong></span>.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="ganeti-upgrade-issues"></a>5.19. Upgrade considerations for Ganeti clusters</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ganeti-upgrade-DRBD-UUIDs"></a>5.19.1. Problem upgrading Ganeti clusters with DRBD-backed instances [fixed in 8.1]</h3></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Poznámka]" src="images/note.png" /></td><th align="left">Poznámka</th></tr><tr><td align="left" valign="top"><p>
        This issue was fixed in the 8.1 Jessie point release.
      </p></td></tr></table></div><p>
       The version of <code class="systemitem">ganeti</code><a id="idp56781904" class="indexterm"></a> (2.12.0-3)
released with Jessie does not support migrations from installations running
2.5 or earlier (including Wheezy) in cases where there are instances with
DRBD disks. It is hoped that this issue will be fixed in a point release,
and recommended that you do not upgrade affected Ganeti clusters in the
meantime. You can find more information about this issue at <a class="ulink" href="https://bugs.debian.org/783186" target="_top">Debian Bug#783186</a>.
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ganeti-upgrade-general"></a>5.19.2. General notes on upgrading Ganeti clusters</h3></div></div></div><p>
       The recommended procedure to upgrade a Ganeti cluster from Wheezy's
<code class="systemitem">ganeti</code><a id="idp56786272" class="indexterm"></a> version (2.5.2-1) to Jessie's
(2.12.0-3) is to stop all instances and then upgrade and reboot all nodes at
once. This will ensure that all instances run with Jessie's hypervisor
version and that all nodes run the same versions of Ganeti and DRBD.
    </p><p>
       Note that running a cluster with mixed 2.5 and 2.12 nodes is not
supported. Also note that, depending on the hypervisor, instance live
migrations may not work between Wheezy and Jessie hypervisor versions.
    </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idp56788384"></a>5.20. New requirements for file execution in Samba4</h2></div></div></div><p>
    If a client requests that a file should be "opened for execution", Samba4
will require the executable bit to be set on the file in addition to the
regular read permissions.  This also causes "netlogon" scripts to be
silently ignored if they lack this executable bit.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="cryptsetup-busybox"></a>5.21. Cryptsetup can break boot with BUSYBOX=n</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Poznámka]" src="images/note.png" /></td><th align="left">Poznámka</th></tr><tr><td align="left" valign="top"><p>This section only applies to people that have manually changed their
<code class="filename">/etc/initramfs-tools/initramfs.conf</code> to not use busybox.
    </p></td></tr></table></div><p>
    If you have <span class="emphasis"><em>both</em></span> <code class="systemitem">busybox</code><a id="idp56794000" class="indexterm"></a> and <code class="systemitem">cryptsetup</code><a id="idp56795696" class="indexterm"></a> installed plus configured initramfs
to <span class="emphasis"><em>not</em></span> use busybox, then it may render your system
unbootable.
  </p><p>
    Please check the value of your BUSYBOX setting in
<code class="filename">/etc/initramfs-tools/initramfs.conf</code> if you have both of
these packages installed.  At this time, known work arounds are uninstalling
<code class="systemitem">busybox</code><a id="idp56799152" class="indexterm"></a> or setting
<code class="literal">BUSYBOX=y</code> in
<code class="filename">/etc/initramfs-tools/initramfs.conf</code>.
  </p><div class="warning"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Varovanie]" src="images/warning.png" /></td><th align="left">Varovanie</th></tr><tr><td align="left" valign="top"><p>
      If you had to make any changes, please remember to run
<code class="literal">update-initramfs -u</code> to update your initramfs.  Otherwise,
you may still end up with a broken boot.
    </p></td></tr></table></div><p>
    Please see <a class="ulink" href="https://bugs.debian.org/783297" target="_top">Debian Bug#783297</a> for more
information.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="squid-incompat"></a>5.22. Backwards incompatible changes in the Squid webproxy</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Poznámka]" src="images/note.png" /></td><th align="left">Poznámka</th></tr><tr><td align="left" valign="top"><p>This section only applies to people that have installed the squid webproxy.
    </p></td></tr></table></div><p>
    The configuration of squid has changed in an incompatible way.  Notably some
of the squid "helpers" have changed their name.  If your configuration
relies on old features no longer present or on the old names for the
helpers, your squid service may fail to start after the upgrade.
  </p><p>
    Please see the upstream release notes for more information.  These are:
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><a class="ulink" href="http://www.squid-cache.org/Versions/v3/3.2/RELEASENOTES.html" target="_top">
Release notes for Squid 3.2</a> (The renamed helpers can be found in
<a class="ulink" href="http://www.squid-cache.org/Versions/v3/3.2/RELEASENOTES.html#ss2.6" target="_top">2.6
Helper Name Changes</a>)
        </p></li><li class="listitem"><p><a class="ulink" href="http://www.squid-cache.org/Versions/v3/3.3/RELEASENOTES.html" target="_top">
Release notes for Squid 3.3</a>
        </p></li><li class="listitem"><p><a class="ulink" href="http://www.squid-cache.org/Versions/v3/3.4/RELEASENOTES.html" target="_top">
Release notes for Squid 3.4</a>
        </p></li></ul></div><p>
  </p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch-upgrading.sk.html"><img src="images/prev.png" alt="Predchádzajúci" /></a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch-moreinfo.sk.html"><img src="images/next.png" alt="Nasledujúci" /></a></td></tr><tr><td width="40%" align="left" valign="top">Kapitola 4. Aktualizácie z Debian 7 (wheezy) </td><td width="20%" align="center"><a accesskey="h" href="index.sk.html"><img src="images/home.png" alt="Domov" /></a></td><td width="40%" align="right" valign="top"> Kapitola 6. Ďalšie informácie o Debiane</td></tr></table></div></body></html>