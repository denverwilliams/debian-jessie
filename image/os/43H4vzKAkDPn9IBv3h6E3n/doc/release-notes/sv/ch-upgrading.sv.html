<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Kapitel 4. Uppgraderingar från Debian 7 (wheezy)</title><link rel="stylesheet" type="text/css" href="debian.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.sv.html" title="Kommentarer till utgåvan Debian 8 (jessie), 64-bit PC" /><link rel="up" href="index.sv.html" title="Kommentarer till utgåvan Debian 8 (jessie), 64-bit PC" /><link rel="prev" href="ch-installing.sv.html" title="Kapitel 3. Installationssystem" /><link rel="next" href="ch-information.sv.html" title="Kapitel 5. Problemområden att känna till för utgåvan jessie" /><meta xmlns="" name="viewport" content="width=device-width, initial-scale=1" /><style xmlns="" type="text/css">
      body {
        background-repeat: no-repeat;
        background-image: none;
      }
    </style></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Kapitel 4. Uppgraderingar från Debian 7 (wheezy)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch-installing.sv.html"><img src="images/prev.png" alt="Föregående" /></a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch-information.sv.html"><img src="images/next.png" alt="Nästa" /></a></td></tr></table><hr /></div><div xml:lang="sv" class="chapter" lang="sv"><div class="titlepage"><div><div><h1 class="title"><a id="ch-upgrading"></a>Kapitel 4. Uppgraderingar från Debian 7 (wheezy)</h1></div></div></div><div class="toc"><p><strong>Innehållsförteckning</strong></p><dl class="toc"><dt><span class="section"><a href="ch-upgrading.sv.html#backup">4.1. Förberedelse inför uppgraderingen</a></span></dt><dd><dl><dt><span class="section"><a href="ch-upgrading.sv.html#data-backup">4.1.1. Säkerhetskopiera all data och konfigurationsinformation</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#inform-users">4.1.2. Informera användarna i förväg</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#services-downtime">4.1.3. Förbered för att tjänster blir oåtkomliga</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#recovery">4.1.4. Förbered för återställning</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#upgrade-preparations">4.1.5. Förbered en säker miljö för uppgraderingen</a></span></dt></dl></dd><dt><span class="section"><a href="ch-upgrading.sv.html#system-status">4.2. Kontrollera systemets status</a></span></dt><dd><dl><dt><span class="section"><a href="ch-upgrading.sv.html#review-actions">4.2.1. Kontrollera kommande åtgärder i pakethanteraren</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#disable-apt-pinning">4.2.2. Inaktivera APT-nålning</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#package-status">4.2.3. Kontrollera paketstatus</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#proposed-updates">4.2.4. Avsnittet proposed-updates</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#unofficial-sources">4.2.5. Unofficial sources</a></span></dt></dl></dd><dt><span class="section"><a href="ch-upgrading.sv.html#upgrade-process">4.3. Förbered källor för APT</a></span></dt><dd><dl><dt><span class="section"><a href="ch-upgrading.sv.html#network">4.3.1. Lägg till APT-källor på Internet</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#localmirror">4.3.2. Lägg till APT-källor för en lokal spegelserver</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#cdroms">4.3.3. Lägg till APT-källor från optisk media</a></span></dt></dl></dd><dt><span class="section"><a href="ch-upgrading.sv.html#upgradingpackages">4.4. Uppgradering av paket</a></span></dt><dd><dl><dt><span class="section"><a href="ch-upgrading.sv.html#record-session">4.4.1. Spela in sessionen</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#updating-lists">4.4.2. Uppdatering av paketlistan</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#sufficient-space">4.4.3. Se till att du har tillräckligt med utrymme för uppgraderingen</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#minimal-upgrade">4.4.4. Minimal systemuppgradering</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#upgrading-full">4.4.5. Uppgradering av systemet</a></span></dt></dl></dd><dt><span class="section"><a href="ch-upgrading.sv.html#trouble">4.5. Möjliga problem under uppgraderingen</a></span></dt><dd><dl><dt><span class="section"><a href="ch-upgrading.sv.html#immediate-configure">4.5.1. Dist-upgrade misslyckas med meddelandet <span class="quote">”<span class="quote">Could not perform immediate
configuration</span>”</span></a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#expected-removals">4.5.2. Förväntade raderingar</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#conflicts-loops">4.5.3. Konflikter vid förberoende-loop</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#file-conflicts">4.5.4. Filkonflikter</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#configuration-changes">4.5.5. Inställningsförändringar</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#console-change">4.5.6. Flytt av sessionen till konsoll</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#package-specific-issues">4.5.7. Speciell hantering av specifika paket</a></span></dt></dl></dd><dt><span class="section"><a href="ch-upgrading.sv.html#newkernel">4.6. Uppgradering av kärna och relaterade paket</a></span></dt><dd><dl><dt><span class="section"><a href="ch-upgrading.sv.html#kernel-metapackage">4.6.1. Installing a kernel metapackage</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#initramfs-tools-issues">4.6.2. Changes to root and <code class="filename">/usr</code> filesystem mounting and
checking</a></span></dt></dl></dd><dt><span class="section"><a href="ch-upgrading.sv.html#nownownow">4.7. Saker att göra före omstart</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#for-next">4.8. Förberedelse inför nästa utgåva</a></span></dt><dd><dl><dt><span class="section"><a href="ch-upgrading.sv.html#purge-removed-packages">4.8.1. Utrensning av borttagna paket</a></span></dt></dl></dd><dt><span class="section"><a href="ch-upgrading.sv.html#deprecated">4.9. Utfasade komponenter</a></span></dt><dt><span class="section"><a href="ch-upgrading.sv.html#obsolete">4.10. Föråldrade paket</a></span></dt><dd><dl><dt><span class="section"><a href="ch-upgrading.sv.html#dummy">4.10.1. Dummy-paket</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="backup"></a>4.1. Förberedelse inför uppgraderingen</h2></div></div></div><p>
We suggest that before upgrading you also read the information in <a class="xref" href="ch-information.sv.html" title="Kapitel 5. Problemområden att känna till för utgåvan jessie">Kapitel 5, <em>Problemområden att känna till för utgåvan jessie</em></a>.  That chapter covers potential issues which are
not directly related to the upgrade process but could still be important to
know about before you begin.
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="data-backup"></a>4.1.1. Säkerhetskopiera all data och konfigurationsinformation</h3></div></div></div><p>
Innan uppgradering av ditt system rekommenderas det starkt att du gör en
fullständig säkerhetskopia, eller åtminstone en säkerhetskopia av data eller
konfigurationsinformation som du inte vill riskera att
förlora. Uppgraderingsverktygen och -processen är tillförlitlig men ett
hårdvarufel mitt i en uppgradering kan resultera i ett allvarligt skadat
system.
</p><p>
De huvudsakliga delar du vill säkerhetskopiera är innehållet i
<code class="filename">/etc</code>, <code class="filename">/var/lib/dpkg</code>,
<code class="filename">/var/lib/apt/extended_states</code> och utdata från
<code class="literal">dpkg --get-selections "*"</code> (citationstecknen är
viktiga). Om du använder <span class="command"><strong>aptitude</strong></span> för att hantera paket
på ditt system vill du också göra en säkerhetskopia på
<code class="filename">/var/lib/aptitude/pkgstates</code>.
</p><p>
Själva uppgraderingsprocessen ändrar ingenting i katalogen
<code class="filename">/home</code>. Dock är det känt att vissa program (exempelvis
delar av Mozilla-sviten och skrivbordsmiljöerna GNOME och KDE) skriver över
befintliga användarinställningar med nya standardvärden när en ny version av
programmet startas för första gången av en användare. Som en
försiktighetsåtgård bör du göra en säkerhetskopia av de dolda filerna och
katalogerna (så kallade <span class="quote">”<span class="quote">punktfiler</span>”</span>) i användarnas
hemkataloger. Denna säkerhetskopia kan hjälpa till att återställa eller
återskapa de gamla inställningarna. Du kanske även vill informera dina
användare om det här.
</p><p>
Alla paketinstallationsåtgärder måste köras med superanvändarens
rättigheter, så logga in som root eller använd <span class="command"><strong>su</strong></span> eller
<span class="command"><strong>sudo</strong></span> för att få de nödvändiga åtkomsträttigheterna.
</p><p>
Uppgraderingen innebär att vissa förutsättningar måste mötas; du bör
kontrollera dem innan den faktiska uppgraderingen påbörjas.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="inform-users"></a>4.1.2. Informera användarna i förväg</h3></div></div></div><p>
Det är klokt att informera alla användare i förväg angående de
uppgraderingar som du planerar att göra, även om användarna som kommer åt
ditt system via en ssh-anslutning knappt kommer att märka det under
uppgraderingen, och bör kunna fortsätta att arbeta som vanligt. 
</p><p>
Om du vill vidta extra försiktighetsåtgärder bör du säkerhetskopiera eller
avmontera <code class="filename">/home</code> före uppgradering.
</p><p>
Du kommer behöva göra en kärnuppgradering vid uppgradering till
jessie, en omstart kommer alltså att vara nödvändig. Vanligen sker
detta efter uppgraderingen är klar.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="services-downtime"></a>4.1.3. Förbered för att tjänster blir oåtkomliga</h3></div></div></div><p>
Under uppgraderingsprocessen kan det finnas tjänster knutna till paket som
ingår i uppgraderingen. Om detta är fallet kommer dessa tjänster stoppas
under tiden som paketen byts ut och får nya inställningar. Under tiden
kommer dessa tjänster inte vara tillgängliga.
</p><p>
The precise downtime for these services will vary depending on the number of
packages being upgraded in the system, and it also includes the time the
system administrator spends answering any configuration questions from
package upgrades.  Notice that if the upgrade process is left unattended and
the system requests input during the upgrade there is a high possibility of
services being unavailable<a href="#ftn.idp57661696" class="footnote" id="idp57661696"><sup class="footnote">[1]</sup></a> for a
significant period of time.
</p><p>
Om systemet som uppgraderas tillhandahåller viktiga tjänster för användarna
på nätverket<a href="#ftn.idp57663296" class="footnote" id="idp57663296"><sup class="footnote">[2]</sup></a> kan du minska nedtiden
genom att göra en minimal systemuppgradering vilket beskrivs i <a class="xref" href="ch-upgrading.sv.html#minimal-upgrade" title="4.4.4. Minimal systemuppgradering">Avsnitt 4.4.4, ”Minimal systemuppgradering”</a>. Gör sedan en kärnuppgradering och en omstart,
uppdatera sedan paketen som rör de kritiska tjänsterna. Uppgradera dessa
paket innan en full uppgradering utförs enligt <a class="xref" href="ch-upgrading.sv.html#upgrading-full" title="4.4.5. Uppgradering av systemet">Avsnitt 4.4.5, ”Uppgradering av systemet”</a>. På detta sätt kan du säkerställa att dessa
viktiga tjänster körs och är tillgängliga genom hela den kompletta
uppgraderingsprocessen och att nedtiden reduceras.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="recovery"></a>4.1.4. Förbered för återställning</h3></div></div></div><p>
Även om Debian försöker säkerställa att ditt system kan starta vid varje
givet tillfälle finns det alltid en möjlighet att du kan uppleva problem med
att start om ditt system efter en uppgradering. Kända potentiella problem är
dokumenterade i detta och följande kapitel av Kommentarer till utgåvan.
</p><p>
For this reason it makes sense to ensure that you will be able to recover if
your system should fail to reboot or, for remotely managed systems, fail to
bring up networking.
</p><p>
If you are upgrading remotely via an <span class="command"><strong>ssh</strong></span> link it is
recommended that you take the necessary precautions to be able to access the
server through a remote serial terminal.  There is a chance that, after
upgrading the kernel and rebooting, you will have to fix the system
configuration through a local console.  Also, if the system is rebooted
accidentally in the middle of an upgrade there is a chance you will need to
recover using a local console.
</p><p>
Generally we recommend using the <span class="emphasis"><em>rescue mode</em></span> of the
jessie Debian Installer.  The advantage of using the installer is
that you can choose between its many methods to find one that best suits
your situation.  For more information, please consult the section
<span class="quote">”<span class="quote">Recovering a Broken System</span>”</span> in chapter 8 of the <a class="ulink" href="https://www.debian.org/releases/jessie/installmanual" target="_top">Installation Guide</a> and the <a class="ulink" href="https://wiki.debian.org/DebianInstaller/FAQ" target="_top">Debian Installer FAQ</a>.
</p><p>
Om det misslyckas behöver du ett alternativt sätt att starta upp ditt system
på så att du kan komma åt och reparera det. Ett alternativ är att använda en
speciell räddningsavbild eller en cd-skiva med ett körbart Linuxsystem
på. Efter att du har startat upp från en sådan skiva bör du kunna montera
ditt rotfilsystem och använda <code class="literal">chroot</code> in i det för att
undersöka och rätta till problemet.
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="recovery-initrd"></a>4.1.4.1. Felsökningsskal under uppstart med hjälp av initrd</h4></div></div></div><p>
The <code class="systemitem">initramfs-tools</code><a id="idp57677312" class="indexterm"></a> package includes
a debug shell<a href="#ftn.idp57678192" class="footnote" id="idp57678192"><sup class="footnote">[3]</sup></a> in the initrds it
generates.  If for example the initrd is unable to mount your root file
system, you will be dropped into this debug shell which has basic commands
available to help trace the problem and possibly fix it.
</p><p>
Grundläggande saker att kontrollera är: närvaron av korrekta enhetsfiler i
<code class="filename">/dev</code>; vilka moduler som läses in (<code class="literal">cat
/proc/modules</code>); utdata för <span class="command"><strong>dmesg</strong></span> efter fel vid
inläsning av drivrutiner. Utdata för <span class="command"><strong>dmesg</strong></span> kommer även
att visa vilka enhetsfiler som har tilldelats till vilka diskar; du bör
kontrollera det här mot utdata för <code class="literal">echo $ROOT</code> för att
försäkra dig om att rotfilsystemet finns på den förväntade enheten.
</p><p>
Om du lyckas rätta till problemet, skriv <code class="literal">exit</code> för att
avsluta felsökningsskalet och fortsätta uppstartsprocessen där felet
inträffade. Självfallet behöver du även rätta till det underliggande
problemet och generera om initrd-filen så att nästa uppstart inte
misslyckas.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="recovery-shell-systemd"></a>4.1.4.2. Debug shell during boot using systemd</h4></div></div></div><p>
    If the boot fails under systemd, it is possible to obtain a debug root shell
by changing the kernel command line.  If the basic boot succeeds, but some
services fail to start, it may be useful to add
<code class="literal">systemd.unit=rescue.target</code> to the kernel parameters.
  </p><p>
    Otherwise, the kernel parameter
<code class="literal">systemd.unit=emergency.target</code> will provide you with a
root shell at the earliest possible point.  However, this is done before
mounting the root file system with read-write permissions.  You will have to
do that manually with:
  </p><pre class="screen">
mount -o remount,rw /
</pre><p>
    More information on debugging a broken boot under systemd can be found in
the <a class="ulink" href="http://freedesktop.org/wiki/Software/systemd/Debugging/" target="_top">
Diagnosing Boot Problems</a> article.
  </p><p>
    If everything else fails, you might be able to boot via the old sysvinit
system.  This requires that <code class="systemitem">sysvinit</code><a id="idp57693472" class="indexterm"></a>
is still installed and the binary <code class="filename">/lib/sysvinit/init</code> is
included in your initramfs.  If these requirements are met, add
<code class="literal">init=/lib/sysvinit/init</code> on the kernel command-line and it
will boot with the sysvinit binary.
  </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="upgrade-preparations"></a>4.1.5. Förbered en säker miljö för uppgraderingen</h3></div></div></div><p>
Uppgradering av distributionen bör göras antingen lokalt från en virtuell
textkonsoll (eller en direktansluten serieterminal), eller från ett
fjärrsystem via en <span class="command"><strong>ssh</strong></span>-anslutning. 
</p><div class="important"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Viktigt]" src="images/important.png" /></td><th align="left">Viktigt</th></tr><tr><td align="left" valign="top"><p>
  Om du använder någon form av VPN-tjänst (exempelvis <code class="systemitem">tinc</code><a id="idp57700208" class="indexterm"></a>) är det möjligt att de inte är tillgängliga
under uppgraderingsprocessen. Läs mer i <a class="xref" href="ch-upgrading.sv.html#services-downtime" title="4.1.3. Förbered för att tjänster blir oåtkomliga">Avsnitt 4.1.3, ”Förbered för att tjänster blir oåtkomliga”</a>.
  </p></td></tr></table></div><p>
För att öka säkerhetsmarginalen vid en fjärruppgradering föreslår vi att du
kör uppgraderingsprocesser i den virtuella konsollen som tillhandahålls av
programmet <span class="command"><strong>screen</strong></span>, vilket gör att man säkert kan
återansluta till sessionen och försäkra sig om att uppgraderingsprocessen
inte avbryts även om fjärranslutningen avbryts.
</p><div class="important"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Viktigt]" src="images/important.png" /></td><th align="left">Viktigt</th></tr><tr><td align="left" valign="top"><p>
    You should <span class="emphasis"><em>not</em></span> upgrade using <span class="command"><strong>telnet</strong></span>,
<span class="command"><strong>rlogin</strong></span>, <span class="command"><strong>rsh</strong></span>, or from an X session
managed by <span class="command"><strong>xdm</strong></span>, <span class="command"><strong>gdm</strong></span> or
<span class="command"><strong>kdm</strong></span> etc. on the machine you are upgrading.  That is
because each of those services may well be terminated during the upgrade,
which can result in an <span class="emphasis"><em>inaccessible</em></span> system that is only
half-upgraded.  Use of the GNOME application
<span class="command"><strong>update-manager</strong></span> is <span class="emphasis"><em>strongly
discouraged</em></span> for upgrades to new releases, as this tool relies on
the desktop session remaining active.
  </p></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="system-status"></a>4.2. Kontrollera systemets status</h2></div></div></div><p>
Uppgraderingsprocessen som beskrivs i detta kapitel har tagits fram med
uppgradering från ett <span class="quote">”<span class="quote">rent</span>”</span> 7-system, utan några
tredjepartspaket, i åtanke. För störst tillförlitlighet i
uppgraderingsprocessen bör du ta bort eventuella tredjepartsprogram från
ditt system innan uppgraderingen påbörjas.
</p><p>
Direct upgrades from Debian releases older than 7
(wheezy)  are not supported.  Please follow the instructions in
the <a class="ulink" href="https://www.debian.org/releases/wheezy/releasenotes" target="_top">Release
Notes for Debian 7</a> to upgrade to 7 first.
</p><p>
Processen förutsätter även att ditt system har uppdaterats till den senaste
punkutgåven av 7. Om du inte har gjort detta eller är osäker,
följ instruktionerna i <a class="xref" href="ap-old-stuff.sv.html#old-upgrade" title="A.1. Uppgradering av ditt wheezy-system">Avsnitt A.1, ”Uppgradering av ditt wheezy-system”</a>.
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="review-actions"></a>4.2.1. Kontrollera kommande åtgärder i pakethanteraren</h3></div></div></div><p>
I vissa fall kan användandet av <span class="command"><strong>apt-get</strong></span> för installation
av paket istället för <span class="command"><strong>aptitude</strong></span> orsaka att
<span class="command"><strong>aptitude</strong></span> anser att ett paket är <span class="quote">”<span class="quote">oanvänt</span>”</span>
och markera det för radering. Tillse att ditt system är helt uppdaterat och
<span class="quote">”<span class="quote">rent</span>”</span> innan du fortsätter med uppgraderingen.
</p><p>
På grund av detta bör du kontrollera om det finns några kommande åtgärder i
pakethanteraren <span class="command"><strong>aptitude</strong></span>. Om ett paket är markerat för
radering eller uppdatering i pakethanteraren kan det innebära att
uppgraderingen drabbas negativt. Kom ihåg att detta endast kan åtgärdas om
din <code class="filename">sources.list</code> fortfarande pekar på
<span class="emphasis"><em>wheezy</em></span> och inte på
<span class="emphasis"><em>stable</em></span> eller <span class="emphasis"><em>jessie</em></span>, läs
mer i <a class="xref" href="ap-old-stuff.sv.html#old-sources" title="A.2. Kontrollera dina källistor">Avsnitt A.2, ”Kontrollera dina källistor”</a>.
</p><p>
För att genomföra denna granskning ska du köra <span class="command"><strong>aptitude</strong></span> i
<span class="quote">”<span class="quote">visuellt läge</span>”</span> och trycka <span class="keycap"><strong>g</strong></span>
(<span class="quote">”<span class="quote">Gå</span>”</span>). Om det indikerar att det finns åtgärder att utföra
kontrollera vad det är och lös dem eller kör föreslagen åtgärd. Om inga
åtgärder föreslås visas ett meddelande, <span class="quote">”<span class="quote">Inga paket är schemalagda för
installation, borttagning eller uppgradering</span>”</span>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="disable-apt-pinning"></a>4.2.2. Inaktivera APT-nålning</h3></div></div></div><p>
Om du har konfigurerat APT att installera vissa paket från en annan
distribution än den stabila (exempelvis från testing), kan du ändra din
konfiguration för paketnålning i APT (lagrad i
<code class="filename">/etc/apt/preferences</code> och
<code class="filename">/etc/apt/preferences.d/</code>) för att tillåta uppgraderingen
av paket till versionerna i den nya stabila utgåvan. Ytterligare information
om APT-nålning kan hittas i <span class="citerefentry"><span class="refentrytitle">apt_preferences</span>(5)</span>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="package-status"></a>4.2.3. Kontrollera paketstatus</h3></div></div></div><p>
Oavsett vilken metod som används för uppgradering, rekommenderas det att du
kontrollerar statusen på paketen först och verifierar att alla paket är
möjliga att uppgradera. Följande kommando kommer att visa de paket som har
statusen Half-Installed eller Failed-Config, och de som har någon form av
felstatus.
</p><pre class="screen">
# dpkg --audit
</pre><p>
Du kan även inspektera tillståndet för alla paket på ditt system med
<span class="command"><strong>aptitude</strong></span>, eller med kommandon som 
</p><pre class="screen">
# dpkg -l | pager
</pre><p>
eller
</p><pre class="screen">
# dpkg --get-selections "*" &gt; ~/curr-pkgs.txt
</pre><p>
Det är önskvärt att ta bort eventuella tillbakahållna paket innan
uppgradering. Om något paket är systemkritiskt och hålls tillbaka för
uppgraderingen, kommer uppgraderingen att misslyckas.
</p><p>
Observera att <span class="command"><strong>aptitude</strong></span> använder en annan metod för att
registrera paket som hålls tillbaka än <span class="command"><strong>apt-get</strong></span> och
<span class="command"><strong>dselect</strong></span>. Du kan identifiera paket som hålls tillbaka med
<span class="command"><strong>aptitude</strong></span> med 
</p><pre class="screen">
# aptitude search "~ahold" 
</pre><p>
Om du vill kontrollera vilka paket som hålls tillbaka vid användning av
<span class="command"><strong>apt-get</strong></span>, ska du använda
</p><pre class="screen">
# dpkg --get-selections | grep 'hold$'
</pre><p>
Om du ändrat och byggt om ett paket lokalt, och inte bytte namn på det eller
la in ett datum i versionen, måste du hålla tillbaka det för att förhindra
att det uppgraderas.
</p><p>
Pakettillståndet <span class="quote">”<span class="quote">hold</span>”</span>(håll) för <span class="command"><strong>apt-get</strong></span>
kan ändras med:
</p><pre class="screen">
# echo <em class="replaceable"><code>paketnamn</code></em> hold | dpkg --set-selections
</pre><p>
Ersätt <code class="literal">hold</code> med <code class="literal">unhold</code> för att ändra
<span class="quote">”<span class="quote">hold</span>”</span>-tillståndet.
</p><p>
Om det är någonting du behöver rätta till är det bäst att se till att din
<code class="filename">sources.list</code> fortfarande refererar till
wheezy vilket förklaras i <a class="xref" href="ap-old-stuff.sv.html#old-sources" title="A.2. Kontrollera dina källistor">Avsnitt A.2, ”Kontrollera dina källistor”</a>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="proposed-updates"></a>4.2.4. Avsnittet proposed-updates</h3></div></div></div><p>
    Om du har <code class="literal">proposed-updates</code> i din
<code class="filename">/etc/apt/sources.list</code> ska du ta bort det innan du
försöker uppdatera ditt system. Detta är en försiktighetsåtgärd för att
minska risken att konflikter uppstår.
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="unofficial-sources"></a>4.2.5. Unofficial sources</h3></div></div></div><p>
Om du har några icke-Debianpaket på ditt system, bör du tänka på att dessa
kan tas bort under uppgraderingen på grund av beroendekonflikter. Om dessa
paket blev installerade genom att lägga till extra paketarkiv i din
<code class="filename">/etc/apt/sources.list</code>, bör du kontrollera om det
arkivet även erbjuder paket som är byggda för jessie och ändra
källraden på lämpligt sätt samtidigt som dina källrader för Debian-paket.
</p><p>
Some users may have <span class="emphasis"><em>unofficial</em></span> backported
<span class="quote">”<span class="quote">newer</span>”</span> versions of packages that <span class="emphasis"><em>are</em></span> in
Debian installed on their wheezy system.  Such packages are most
likely to cause problems during an upgrade as they may result in file
conflicts<a href="#ftn.idp57762512" class="footnote" id="idp57762512"><sup class="footnote">[4]</sup></a>.  <a class="xref" href="ch-upgrading.sv.html#trouble" title="4.5. Möjliga problem under uppgraderingen">Avsnitt 4.5, ”Möjliga problem under uppgraderingen”</a>
has some information on how to deal with file conflicts if they should
occur.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="upgrade-process"></a>4.3. Förbered källor för APT</h2></div></div></div><p>
Innan du påbörjar uppgraderingen måste du redigera konfigurationsfilen för
paketlistor i <code class="systemitem">apt</code><a id="idp57766800" class="indexterm"></a>,
<code class="filename">/etc/apt/sources.list</code>.
</p><p>
<code class="systemitem">Apt</code><a id="idp57769472" class="indexterm"></a> kommer att överväga alla paket
som kan hittas via någon <span class="quote">”<span class="quote"><code class="literal">deb</code></span>”</span>-rad, och
installera paketet med högsta versionsnumret, där prioritet ges till de
förstnämnda raderna (om du nyttjar flera redundanta speglar, skulle du
vanligtvis först namnge en lokal hårddisk, sedan cd-skivor, och sedan
HTTP/FTP-speglar).
</p><p>
En utgåva kan ofta refereras till både dess kodnamn
(t.ex. <code class="literal">wheezy</code>,
<code class="literal">jessie</code>) och efter dess statusnamn (alltså
<code class="literal">oldstable</code>, <code class="literal">stable</code>,
<code class="literal">testing</code>, <code class="literal">unstable</code>). Att referera till
en utgåva efter dess kodnamn har fördelen att du aldrig blir överraskad av
en ny utgåva och av den anledningen används den här metoden här. Det kan
naturligtvis betyda att du själv måste hålla utkik efter nya utgåvor. Om du
istället använder statusnamnet kommer systemet automatiskt att uppgraderas
utan förvarning genom att uppdatera en mängd paket så snart en utgivning har
skett.
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="network"></a>4.3.1. Lägg till APT-källor på Internet</h3></div></div></div><p>
The default configuration is set up for installation from the main Debian
Internet servers, but you may wish to modify
<code class="filename">/etc/apt/sources.list</code> to use other mirrors, preferably
a mirror that is closest to you in network terms.
</p><p>
Adresserna till Debians HTTP- eller FTP-speglar kan hittas på <a class="ulink" href="https://www.debian.org/distrib/ftplist" target="_top">https://www.debian.org/distrib/ftplist</a> (se avsnittet <span class="quote">”<span class="quote">Listan över
Debianspeglingar</span>”</span>). HTTP-speglar är vanligtvis snabbare än
FTP-speglar.
</p><p>
Anta till exempel att din närmaste Debian-spegel är
<code class="literal">http://mirrors.kernel.org</code>. När den spegeln inspekteras med
en webbläsare eller FTP-program, kommer du att märka att huvudkatalogerna är
organiserade så här:
</p><pre class="programlisting">
http://mirrors.kernel.org/debian/dists/jessie/main/binary-<span class="phrase">amd64</span>/...
http://mirrors.kernel.org/debian/dists/jessie/contrib/binary-<span class="phrase">amd64</span>/...
</pre><p>
Lägg till den här raden i din <code class="filename">sources.list</code> för att
använda den här spegelservern med <code class="systemitem">apt</code><a id="idp57786928" class="indexterm"></a>:
</p><pre class="programlisting">deb http://mirrors.kernel.org/debian jessie main contrib</pre><p>
Note that the <span class="quote">”<span class="quote"><code class="literal">dists</code></span>”</span> is added implicitly,
and the arguments after the release name are used to expand the path into
multiple directories.
</p><p>
Efter att du har lagt till dina nya källor ska du inaktivera de tidigare
befintliga <span class="quote">”<span class="quote"><code class="literal">deb</code></span>”</span>-raderna i
<code class="filename">sources.list</code> genom att placera ett hash-tecken
(<code class="literal">#</code>) framför dem.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="localmirror"></a>4.3.2. Lägg till APT-källor för en lokal spegelserver</h3></div></div></div><p>
Istället för att använda HTTP- eller FTP-paketspeglar, kanske du önskar
ändra <code class="filename">/etc/apt/sources.list</code> till att använda en spegel
på en lokal hårddisk (möjligen monterad över <acronym title="Network File System">NFS</acronym>).
</p><p>
Din paketspegel kan exempelvis finnas under
<code class="filename">/var/ftp/debian/</code> och innehålla huvudkataloger som
dessa:
</p><pre class="programlisting">
/var/ftp/debian/dists/jessie/main/binary-<span class="phrase">amd64</span>/...
/var/ftp/debian/dists/jessie/contrib/binary-<span class="phrase">amd64</span>/...
</pre><p>
Lägg till den här raden till din <code class="filename">sources.list</code> för att
använda den här med <code class="systemitem">apt</code><a id="idp57801248" class="indexterm"></a>:
</p><pre class="programlisting">deb file:/var/ftp/debian jessie main contrib</pre><p>
Note that the <span class="quote">”<span class="quote"><code class="literal">dists</code></span>”</span> is added implicitly,
and the arguments after the release name are used to expand the path into
multiple directories.
</p><p>
Efter att du har lagt till dina nya källor ska du inaktivera de tidigare
befintliga <span class="quote">”<span class="quote"><code class="literal">deb</code></span>”</span>-raderna i
<code class="filename">sources.list</code> genom att placera ett hash-tecken
(<code class="literal">#</code>) framför dem.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="cdroms"></a>4.3.3. Lägg till APT-källor från optisk media</h3></div></div></div><p>
Om du <span class="emphasis"><em>endast</em></span> vill använda cd-skivor (eller DVD- eller
Blu-ray-skivor), kommentera ut de befintliga
<span class="quote">”<span class="quote"><code class="literal">deb</code></span>”</span>-raderna i
<code class="filename">/etc/apt/sources.list</code> genom att placera ett hash-tecken
(<code class="literal">#</code>) framför dem.
</p><p>
Make sure there is a line in <code class="filename">/etc/fstab</code> that enables
mounting your CD-ROM drive at the <code class="filename">/media/cdrom</code> mount
point.  For example, if <code class="filename">/dev/sr0</code> is your CD-ROM drive,
<code class="filename">/etc/fstab</code> should contain a line like:
</p><pre class="programlisting">
/dev/sr0 /media/cdrom auto noauto,ro 0 0
</pre><p>
Observera att det <span class="emphasis"><em>inte får finnas några blanksteg</em></span>
mellan orden <code class="literal">noauto,ro</code> i det fjärde fältet.
</p><p>
För att verifiera att det fungerar, mata in en cd och försök köra
</p><pre class="screen">
# mount /media/cdrom    # this will mount the CD to the mount point
# ls -alF /media/cdrom  # this should show the CD's root directory
# umount /media/cdrom   # this will unmount the CD
</pre><p>
Kör sedan:
</p><pre class="screen">
# apt-cdrom add
</pre><p>
för varje Debian cd-rom med binärer som du har tillgång till för att lägga
till data om varje cd till APT:s databas.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="upgradingpackages"></a>4.4. Uppgradering av paket</h2></div></div></div><p>
Det rekommenderade sättet att uppgradera från tidigare Debian utgåvor är
att använda pakethanteringsverktyget <span class="command"><strong>apt-get</strong></span>. I tidigare
utgåvor har <span class="command"><strong>aptitude</strong></span> varit det rekommenderade verktyget
men nya versioner av <span class="command"><strong>apt-get</strong></span> ger likvärdig funktionalitet
och har visat sig mer konsekvent i beräkning av uppgraderingsvägen och dess
resultat.
</p><p>
Glöm inte att montera alla nödvändiga partitioner (speciellt rot- och
<code class="filename">/usr</code>-partitionerna) läs- och skrivbara, med ett
kommando som det här:
</p><pre class="screen">
# mount -o remount,rw /<em class="replaceable"><code>monteringsplats</code></em>
</pre><p>
Efter det ska du kontrollera att källraderna för APT (i
<code class="filename">/etc/apt/sources.list</code>) refererar antingen till
<span class="quote">”<span class="quote"><code class="literal">jessie</code></span>”</span> eller till
<span class="quote">”<span class="quote"><code class="literal">stable</code></span>”</span>. Det ska inte finnas några
källrader som pekar till wheezy.
</p><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Notera]" src="images/note.png" /></td><th align="left">Notera</th></tr><tr><td align="left" valign="top"><p>
    Källrader för en cd-skiva kommer ofta att referera till
<span class="quote">”<span class="quote"><code class="literal">unstable</code></span>”</span>, även om det här är konstigt ska
du <span class="emphasis"><em>inte</em></span> ändra dem.
  </p></td></tr></table></div><p>
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="record-session"></a>4.4.1. Spela in sessionen</h3></div></div></div><p>
Det rekommenderas starkt att du använder programmet
<span class="command"><strong>/usr/bin/script</strong></span> för att spela in en utskrift av
uppgraderingssessionen. Om problem uppstår har du en logg på vad som hände
och, om det behövs, kan tillhandahålla exakt information i en
felrapport. För att påbörja inspelningen, kör:
</p><pre class="screen">
# script -t 2&gt;~/upgrade-jessie<em class="replaceable"><code>step</code></em>.time -a ~/upgrade-jessie<em class="replaceable"><code>step</code></em>.script
</pre><p>
eller liknande. Om du behöver köra typescript-filen igen (exempelvis om du
behövde starta om systemet) ska du använda olika
<em class="replaceable"><code>step</code></em>-värden för att peka ut vilket steg av
uppgraderingen du loggar. Lägg inte typescript-filen i en temporär katalog
såsom<code class="filename">/tmp</code> eller <code class="filename">/var/tmp</code> (filer i
dessa kataloger kan tas bort under uppgraderingen eller under en omstart).
</p><p>
Typescript kommer även att låta dig granska informationen som har rullat ut
från skärmen. Om du använder systemets konsoll kan du helt enkelt växla till
VT2 (med <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F2</strong></span>) och,
efter inloggning, använd <code class="literal">less -R
~root/upgrade-jessie.script</code> för att visa filen.
</p><p>
Efter att du har färdigställt uppgraderingen, kan du stoppa
<span class="command"><strong>script</strong></span> genom att ange <code class="literal">exit</code> vid
prompten.
</p><p>
Om du har använt flaggan <span class="emphasis"><em>-t</em></span> för
<span class="command"><strong>script</strong></span> kan du använda programmet
<span class="command"><strong>scriptreplay</strong></span> för att spela upp hela sessionen: 
</p><pre class="screen">
# scriptreplay ~/upgrade-jessie.time ~/upgrade-jessie.script
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="updating-lists"></a>4.4.2. Uppdatering av paketlistan</h3></div></div></div><p>
Först behöver listan över tillgängliga paket för den nya utgåvan hämtas. Det
görs genom att köra:
</p><pre class="screen">
# apt-get update
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sufficient-space"></a>4.4.3. Se till att du har tillräckligt med utrymme för uppgraderingen</h3></div></div></div><p>
You have to make sure before upgrading your system that you will have
sufficient hard disk space when you start the full system upgrade described
in <a class="xref" href="ch-upgrading.sv.html#upgrading-full" title="4.4.5. Uppgradering av systemet">Avsnitt 4.4.5, ”Uppgradering av systemet”</a>.  First, any package needed for
installation that is fetched from the network is stored in
<code class="filename">/var/cache/apt/archives</code> (and the
<code class="filename">partial/</code> subdirectory, during download), so you must
make sure you have enough space on the file system partition that holds
<code class="filename">/var/</code> to temporarily download the packages that will be
installed in your system.  After the download, you will probably need more
space in other file system partitions in order to both install upgraded
packages (which might contain bigger binaries or more data) and new packages
that will be pulled in for the upgrade.  If your system does not have
sufficient space you might end up with an incomplete upgrade that is
difficult to recover from.
</p><p>
<span class="command"><strong>apt-get</strong></span> can show you detailed information about the disk
space needed for the installation.  Before executing the upgrade, you can
see this estimate by running:
</p><pre class="screen">
# apt-get -o APT::Get::Trivial-Only=true dist-upgrade
[ ... ]
XXX uppgraderade, XXX nyinstallerade, XXX att ta bort och XXX inte uppgraderade.
Behöver hämta xx.xMB arkiv.
Efter uppackning kommer AAAMB diskplats att användas.
</pre><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Notera]" src="images/note.png" /></td><th align="left">Notera</th></tr><tr><td align="left" valign="top"><p>
Körning av det här kommandot i början av uppgraderingsprocessen kan ge
felaktigheter, anledningarna beskrivs i nästkommande avsnitt. I det fallet
behöver du vänta tills du har gjort en minimal systemuppgradering enligt
<a class="xref" href="ch-upgrading.sv.html#minimal-upgrade" title="4.4.4. Minimal systemuppgradering">Avsnitt 4.4.4, ”Minimal systemuppgradering”</a> innan du kör det här kommandot för att
uppskatta diskutrymmet.
</p></td></tr></table></div><p>
Om du inte har tillräckligt med utrymme för uppgraderingen så kommer
<span class="command"><strong>apt-get</strong></span> att varna dig på följande sätt:
</p><pre class="screen">
F: Du har inte tillräckligt mycket ledigt utrymme i /var/cache/apt/archives/.
</pre><p>Försök i så fallk frigöra utrymme innan uppgraderingen. Du kan:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
Ta bort paket som tidigare har hämtats ner för installation (i
<code class="filename">/var/cache/apt/archive</code>). Rensa upp paketcachen genom
att köra <span class="command"><strong>apt-get clean</strong></span> vilket kommer att ta bort alla
tidigare hämtade paketfiler.
</p></li><li class="listitem"><p>
Ta bort bortglömda paket. Om du har använt <span class="command"><strong>aptitude</strong></span> eller
<span class="command"><strong>apt-get</strong></span> för att manuellt installera paket i
wheezy kommer dessa paket att vara markerade som manuellt
installerade och kommer att kunna markera automatiskt installerade paket som
redundanta när de inte längre behövs och därmed kan tas bort. Manuellt
installerade paket undantas alltså från detta. För att ta bort automatiskt
installerade paket som inte längre används kör följande kommando:
</p><pre class="screen">
# apt-get autoremove
</pre><p>
Du kan också använda <span class="command"><strong>deborphan</strong></span>,
<span class="command"><strong>debfoster</strong></span> eller <span class="command"><strong>cruft</strong></span> för att hitta
redundanta paket. Lita inte blint på vad dessa verktyg presenterar,
speciellt inte om du använder ickestandardmässiga och aggresiva
inställningar - då dessa är källor till falska resultat. Att manuellt gå
igenom listorna är starkt rekomenderat innan du använder deras förslag för
en upprensningaktion.
</p></li><li class="listitem"><p>
Ta bort paket som använder för mycket utrymme och inte behövs just nu (du
kan alltid installera dem efter uppgraderingen). Om du har <code class="systemitem">popularity-contest</code><a id="idp57873856" class="indexterm"></a> installerat kan du använda
<span class="command"><strong>popcon-largest-unused</strong></span> för att ta fram en lista med paket
som du inte använder men tar upp mycket plats. Du kan hitta vilka paket som
tar upp mycket plats genom <span class="command"><strong>dpigs</strong></span> (tillhandahålls via
<code class="systemitem">debian-goodies</code><a id="idp57877344" class="indexterm"></a>-paketet) eller med
<span class="command"><strong>wajig</strong></span> (kör <code class="literal">wajig size</code>). De kan också
visas med <span class="command"><strong>aptitude</strong></span> i <span class="quote">”<span class="quote">visuellt läge</span>”</span>, välj
<span class="guimenu">Vyer</span> → <span class="guimenuitem">Ny flat
paketlista</span>, tryck <span class="keycap"><strong>l</strong></span> och ange
<code class="literal">~i</code>, tryck <span class="keycap"><strong>S</strong></span> och ange
<code class="literal">~installsize</code>, så visas en praktisk lista att arbeta med. 
</p></li><li class="listitem"><p>
  Ta bort översättningar och lokalanpassade filer för systemet om de inte
behövs. Du kan installera paketet <code class="systemitem">localepurge</code><a id="idp57887264" class="indexterm"></a> och ställa in det så att endast de
lokalanpassaningar som du vill ha sparas på systemet. Detta kommer att
minska mängden hårddiskutrymme som används i
<code class="filename">/usr/share/locale</code>.
</p></li><li class="listitem"><p>
   Flytta systemloggar från <code class="filename">/var/log/</code> till ett annat
system, eller ta bort permanent.
</p></li><li class="listitem"><p>
    Använd en temporär <code class="filename">/var/cache/apt/archives</code>: Du kan
använda en temporär cachekatalog på ett annat filsystem
(<acronym title="Universal Serial Bus">USB</acronym>-diskenhet, temporär hårddisk, filsystem som redan
används, ...).
  </p><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Notera]" src="images/note.png" /></td><th align="left">Notera</th></tr><tr><td align="left" valign="top"><p>
      Använd inte en <acronym title="Network File System">NFS</acronym>-montering eftersom
nätverksanslutningen kan avbrytas under uppgraderingen.
    </p></td></tr></table></div><p>
  Till exempel, om du har en <acronym title="Universal Serial Bus">USB</acronym>-diskenhet monterad på
<code class="filename">/media/usbkey</code>:
  </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
	ta bort paket som tidigare hämtats för installation:

	</p><pre class="screen"># apt-get clean</pre><p>
      </p></li><li class="listitem"><p>
	kopiera katalogen <code class="filename">/var/cache/apt/archives</code> till
<acronym title="Universal Serial Bus">USB</acronym>-diskenheten:

	</p><pre class="screen"># cp -ax /var/cache/apt/archives /media/usbkey/</pre><p>
      </p></li><li class="listitem"><p>
	montera den temporära cachekatalogen ovanpå den nuvarande:

	</p><pre class="screen"># mount --bind /media/usbkey/archives /var/cache/apt/archives</pre><p>
      </p></li><li class="listitem"><p>
	efter uppgraderingen återställer du originalkatalogen
<code class="filename">/var/cache/apt/archives</code>:

	</p><pre class="screen"># umount /media/usbkey/archives</pre><p>
      </p></li><li class="listitem"><p>
	radera det som lämnats kvar i <code class="filename">/media/usbkey/archives</code>.
      </p></li></ol></div><p>
  Du kan skapa den temporära cachekatalogen på vilket filsystem som helst som
finns monterat på ditt system.
  </p></li><li class="listitem"><p>
    Gör en minimal uppgradering av systemet (läs <a class="xref" href="ch-upgrading.sv.html#minimal-upgrade" title="4.4.4. Minimal systemuppgradering">Avsnitt 4.4.4, ”Minimal systemuppgradering”</a>)  eller partiell uppgradering av systemet följt
av en komplett uppgradering. Detta kommer att göra det möjligt att
uppgradera systemet partiellt och ger dig möjlighet att tömma paket-cache
före den kompletta uppgraderingen.
  </p></li></ul></div><p>
Observera att du för att ta bort paket på ett säkert sätt, rekommenderas
växla tillbaka din <code class="filename">sources.list</code> till wheezy
vilket förklaras i <a class="xref" href="ap-old-stuff.sv.html#old-sources" title="A.2. Kontrollera dina källistor">Avsnitt A.2, ”Kontrollera dina källistor”</a>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="minimal-upgrade"></a>4.4.4. Minimal systemuppgradering</h3></div></div></div><p>
In some cases, doing the full upgrade (as described below) directly might
remove large numbers of packages that you will want to keep.  We therefore
recommend a two-part upgrade process: first a minimal upgrade to overcome
these conflicts, then a full upgrade as described in <a class="xref" href="ch-upgrading.sv.html#upgrading-full" title="4.4.5. Uppgradering av systemet">Avsnitt 4.4.5, ”Uppgradering av systemet”</a>. 
</p><p>
To do this, first run:
</p><pre class="screen">
# apt-get upgrade
</pre><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Notera]" src="images/note.png" /></td><th align="left">Notera</th></tr><tr><td align="left" valign="top"><p>
      The upgrade process for some previous releases recommended the use of
<span class="command"><strong>aptitude</strong></span> for the upgrade. This tool is not recommended
for upgrades from wheezy to jessie.
    </p></td></tr></table></div><p>
Det här innebär att endast de paket som kan uppgraderas utan att kräva att
några andra paket tas bort eller installeras uppgraderas.
</p><p>
Den minimala uppgraderingen kan också vara användbar när systemet har ont om
utrymme och en komplett uppgradering inte kan utföras på grund av
utrymmesskäl.
</p><p>
  Om paketet <code class="systemitem">apt-listchanges</code><a id="idp57918848" class="indexterm"></a> är
installerat kommer det (i standardutförande) visa viktig information om
paketen som uppgraderas i en textvisare. Tryck på tangenten
<span class="keycap"><strong>q</strong></span> för att lämna visaren och fortsätta med uppgraderingen.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="upgrading-full"></a>4.4.5. Uppgradering av systemet</h3></div></div></div><p>
När du genomfört föregående steg är du redo att fortsätta med huvuddelen av
uppgraderingen. Kör:
</p><pre class="screen">
# apt-get dist-upgrade
</pre><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Notera]" src="images/note.png" /></td><th align="left">Notera</th></tr><tr><td align="left" valign="top"><p>
      The upgrade process for some previous releases recommended the use of
<span class="command"><strong>aptitude</strong></span> for the upgrade. This tool is not recommended
for upgrades from wheezy to jessie.
    </p></td></tr></table></div><p>
This will perform a complete upgrade of the system, installing the newest
available versions of all packages, and resolving all possible dependency
changes between packages in different releases.  If necessary, it will
install some new packages (usually new library versions, or renamed
packages), and remove any conflicting obsoleted packages.
</p><p>
Vid uppgradering från en uppsättning cd-skivor (eller dvd-skivor), kommer du
bli uppmanad att mata in specifika cd-skivor vid olika tillfällen under
uppgraderingen. Du kanske måste mata in samma cd-skiva flera gånger; detta
beror på att sammankopplade paket har blivit utspridda över cd-skivorna.
</p><p>
Nya versioner av installerade paket, som inte kan uppgraderas utan att ändra
installationsstatus för ett annat paket, kommer att lämnas kvar vid deras
nuvarande version (visas som <span class="quote">”<span class="quote">återhållna</span>”</span>). Det kan lösas genom
att antingen använda <span class="command"><strong>aptitude</strong></span> för att välja dessa paket
för installation eller genom att prova <code class="literal">apt-get install
<em class="replaceable"><code>paket</code></em></code>.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="trouble"></a>4.5. Möjliga problem under uppgraderingen</h2></div></div></div><p>
Följande kapitel beskriver kända problem som kan uppstå under uppgradering
till jessie.
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="immediate-configure"></a>4.5.1. Dist-upgrade misslyckas med meddelandet <span class="quote">”<span class="quote">Could not perform immediate
configuration</span>”</span></h3></div></div></div><p>
I några fall kan steget <span class="command"><strong>apt-get dist-upgrade</strong></span> misslyckas
efter nedladdningen av paket med meddelandet:
</p><pre class="screen">
E: Could not perform immediate configuration on '<em class="replaceable"><code>package</code></em>'.  Please see man 5 apt.conf under APT::Immediate-Configure for details.
</pre><p>
</p><p>
Om detta händer bör exekvering av <span class="command"><strong>apt-get dist-upgrade -o
APT::Immediate-Configure=0</strong></span> tillåta uppgraderingen att fortsätta.
</p><p>
En annan väg runt detta problem är att temporärt lägga till källorna för
både wheezy och jessie i filen
<code class="filename">sources.list</code> och köra kommandot <span class="command"><strong>apt-get
update</strong></span>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="expected-removals"></a>4.5.2. Förväntade raderingar</h3></div></div></div><p>
The upgrade process to jessie might ask for the removal of packages
on the system. The precise list of packages will vary depending on the set
of packages that you have installed.  These release notes give general
advice on these removals, but if in doubt, it is recommended that you
examine the package removals proposed by each method before proceeding.  For
more information about packages obsoleted in jessie, see <a class="xref" href="ch-upgrading.sv.html#obsolete" title="4.10. Föråldrade paket">Avsnitt 4.10, ”Föråldrade paket”</a>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="conflicts-loops"></a>4.5.3. Konflikter vid förberoende-loop</h3></div></div></div><p>
Ibland är det nödvändigt att aktivera alternativet
<code class="literal">APT::Force-LoopBreak</code> i APT för att temporärt ta bort ett
systemkritiskt paket på grund av en
Konflikt/Förberoende-slinga. <span class="command"><strong>Apt-get</strong></span> kommer att varna dig
om det här och avbryta uppgraderingen. Du kan lösa det genom att ange
alternativet <code class="literal">-o APT::Force-LoopBreak=1</code> på kommandoraden
för <span class="command"><strong>apt-get</strong></span>.
</p><p>
Det är möjligt att beroendestrukturen för ett system kan vara så skadat att
det kräver handpåläggning. Vanligtvis innebär det att använda
<span class="command"><strong>apt-get</strong></span> eller
</p><pre class="screen">
# dpkg --remove <em class="replaceable"><code>paketnamn</code></em>
</pre><p>
för att plocka bort några av de störande paketen, eller 
</p><pre class="screen">
# apt-get -f install
# dpkg --configure --pending
</pre><p>
I extrema fall kan du behöva tvinga fram en ominstallation med ett kommando
som detta 
</p><pre class="screen">
# dpkg --install <em class="replaceable"><code>/sökväg/till/paketnamn.deb</code></em>
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="file-conflicts"></a>4.5.4. Filkonflikter</h3></div></div></div><p>
Filkonflikter bör inte inträffa om du uppgraderar från ett
<span class="quote">”<span class="quote">rent</span>”</span> wheezy-system, men kan inträffa om du har
inofficiella bakåtporteringar installerade. En filkonflikt resulterar i ett
fel som:
</p><pre class="screen">
Packar upp <em class="replaceable"><code>&lt;paket-foo&gt;</code></em> (från <em class="replaceable"><code>&lt;paket-foo-fil&gt;</code></em>) ...
dpkg: fel vid hantering av <em class="replaceable"><code>&lt;paket-foo&gt;</code></em> (--install):
 försöker skriva över "<em class="replaceable"><code>&lt;något-fil-namn&gt;</code></em>",
 som också finns i paketet <em class="replaceable"><code>&lt;paket-bar&gt;</code></em>
dpkg-deb: underprocessen paste dödad av signal (Brutet rör)
 Fel uppstod vid hantering:
 <em class="replaceable"><code>&lt;paket-foo&gt;</code></em>
</pre><p>
Du kan försöka lösa en filkonflikt genom att tvinga igenom borttagning av
paketet som nämns på <span class="emphasis"><em>sista</em></span> raden i felmeddelandet:
</p><pre class="screen">
# dpkg -r --force-depends <em class="replaceable"><code>paketnamn</code></em>
</pre><p>
Efter att problemen har lösts, bör du kunna återuppta uppgraderingen genom
att upprepa tidigare beskrivna <span class="command"><strong>apt-get</strong></span>-kommandon.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="configuration-changes"></a>4.5.5. Inställningsförändringar</h3></div></div></div><p>
During the upgrade, you will be asked questions regarding the configuration
or re-configuration of several packages.  When you are asked if any file in
the <code class="filename">/etc/init.d</code> directory, or the
<code class="filename">/etc/manpath.config</code> file should be replaced by the
package maintainer's version, it's usually necessary to answer
<span class="quote">”<span class="quote">yes</span>”</span> to ensure system consistency.  You can always revert to
the old versions, since they will be saved with a
<code class="literal">.dpkg-old</code> extension.
</p><p>
Om du inte är säker på vad som behöver göras, skriv ner namnet på paketet
eller filen och red ut saker och ting senare. Du kan söka i typescript-filen
för att granska informationen som visades på skärmen under uppgraderingen.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="console-change"></a>4.5.6. Flytt av sessionen till konsoll</h3></div></div></div><p>
If you are running the upgrade using the system's local console you might
find that at some points during the upgrade the console is shifted over to a
different view and you lose visibility of the upgrade process.  For example,
this may happen in desktop systems when the display manager is restarted.
</p><p>
To recover the console where the upgrade was running you will have to use
<span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span>
(if in the graphical startup screen) or <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span> (if in the
local text-mode console) to switch back to the virtual terminal 1.  Replace
F1 with the function key with the same number as the virtual terminal the
upgrade was running in. You can also use <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>Left Arrow</strong></span> or
<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>Right
Arrow</strong></span> to switch between the different text-mode
terminals.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="package-specific-issues"></a>4.5.7. Speciell hantering av specifika paket</h3></div></div></div><p>
I de flesta fall kommer paket att uppgraderas utan besvär mellan
wheezy och jessie. Det finns ett litet antal situationer
där manuella ingrepp kan behövas, antingen före eller under
uppgraderingen. Dessa beskrivs nedan paket-för-paket.
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="issues-systemd"></a>4.5.7.1. systemd</h4></div></div></div><p>
    Uppgraderingen av Debian från wheezy till jessie kommer i
standardutförandet justera ditt system från SysV till systemd. Beroende på
hur ditt system är inställt kan manuella justeringar behövas. I <a class="xref" href="ch-information.sv.html#systemd-upgrade-default-init-system" title="5.6. Upgrading installs the new default init system for Jessie">Avsnitt 5.6, ”Upgrading installs the new default init system for Jessie”</a> finns detaljer för några
kända besvär.
  </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="issues-lxc"></a>4.5.7.2. LXC</h4></div></div></div><p>
    Har du LXC installerat kan extra steg behövas vid uppgradering av system och
containrar. Kända problem och lösningar finns beskrivet i <a class="xref" href="ch-information.sv.html#lxc-upgrade-issues" title="5.8. Upgrade considerations for LXC hosts and containers">Avsnitt 5.8, ”Upgrade considerations for LXC hosts and containers”</a>.
  </p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="newkernel"></a>4.6. Uppgradering av kärna och relaterade paket</h2></div></div></div><p>
Det här avsnittet förklarar hur man uppgraderar sin kärna och identifierar
tänkbara problem relaterade till den här uppgraderingen. Du kan antingen
installera ett av paketen <code class="systemitem">linux-image-*</code><a id="idp57986960" class="indexterm"></a> som tillhandahålls av Debian,
eller bygga en anpassad kärna från källkod.
</p><p>
Observera att en hel del information i det här avsnittet är baserad på
antagelsen att du kommer att använda en av de modulära Debiankärnorna
tillsammans med i <code class="systemitem">initramfs-tools</code><a id="idp57989536" class="indexterm"></a>
och <code class="systemitem">udev</code><a id="idp57991232" class="indexterm"></a>. Om du har valt att använda
en anpassad kärna som inte kräver en initrd eller om du använder en annan
initrd-generator kan delar av den här informationen vara irrelevant för dig.
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="kernel-metapackage"></a>4.6.1. Installing a kernel metapackage</h3></div></div></div><p>
When you dist-upgrade from wheezy to jessie, it is strongly
recommended that you install a linux-image-* metapackage, if you have not
done so before.  These metapackages will automatically pull in a newer
version of the kernel during upgrades.  You can verify whether you have one
installed by running:
</p><pre class="screen">
# dpkg -l "linux-image*" | grep ^ii | grep -i meta
</pre><p>
If you do not see any output, then you will either need to install a new
linux-image package by hand or install a linux-image metapackage.  To see a
list of available linux-image metapackages, run:
</p><pre class="screen">
# apt-cache search linux-image- | grep -i meta | grep -v transition
</pre><p>
If you are unsure about which package to select, run <code class="literal">uname
-r</code> and look for a package with a similar name.  For example, if
you see '<code class="literal">2.6.32-5-amd64</code>', it is recommended that you
install <code class="systemitem">linux-image-amd64</code><a id="idp57998944" class="indexterm"></a>.  You may
also use <span class="command"><strong>apt-cache</strong></span> to see a long description of each
package in order to help choose the best one available.  For example:
</p><pre class="screen">
# apt-cache show linux-image-amd64
</pre><p>
You should then use <code class="literal">apt-get install</code> to install it.  Once
this new kernel is installed you should reboot at the next available
opportunity to get the benefits provided by the new kernel version.
However, please have a look at <a class="xref" href="ch-upgrading.sv.html#nownownow" title="4.7. Saker att göra före omstart">Avsnitt 4.7, ”Saker att göra före omstart”</a> before
performing the first reboot after the upgrade.
</p><p>
For the more adventurous there is an easy way to compile your own custom
kernel on Debian.  Install the kernel sources, provided in the <code class="systemitem">linux-source</code><a id="idp58004608" class="indexterm"></a> package.  You can make use of the
<code class="literal">deb-pkg</code> target available in the sources' makefile for
building a binary package.  More information can be found in the <a class="ulink" href="http://kernel-handbook.alioth.debian.org/" target="_top">Debian Linux Kernel
Handbook</a>, which can also be found as the <code class="systemitem">debian-kernel-handbook</code><a id="idp58007920" class="indexterm"></a> package.
</p><p>
Om möjligt är det till din fördel att uppgradera kärnpaketet separat från
själva <code class="literal">dist-upgrade</code> för att minska chanserna för ett
temporärt icke-startbart system. Observera att det här endast bör göras
efter den minimala uppgraderingsprocessen, beskriven i <a class="xref" href="ch-upgrading.sv.html#minimal-upgrade" title="4.4.4. Minimal systemuppgradering">Avsnitt 4.4.4, ”Minimal systemuppgradering”</a>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="initramfs-tools-issues"></a>4.6.2. Changes to root and <code class="filename">/usr</code> filesystem mounting and
checking</h3></div></div></div><p>
    <code class="systemitem">initramfs-tools</code><a id="idp58013952" class="indexterm"></a> will now also run
<code class="literal">fsck</code> on the root filesystem before mounting it.  If the
chosen init program is <code class="literal">systemd</code> and there is a separate
<code class="filename">/usr</code> filesystem, it will also fsck and mount
<code class="filename">/usr</code>.
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
	If <code class="filename">/usr</code> is a separate filesystem on a RAID device and
the <code class="literal">INITRDSTART</code> setting in
<code class="filename">/etc/default/mdadm</code> is not '<code class="literal">all</code>', you
will need to change it to include that device.
      </p></li><li class="listitem"><p>
	If <code class="filename">/usr</code> is a separate filesystem on an LVM logical
volume, and the line for <code class="filename">/usr</code> in
<code class="filename">/etc/fstab</code> specifies the device by
<code class="literal">UUID</code> or <code class="literal">LABEL</code>, you must change this
line to specify the device using the format
<code class="filename">/dev/mapper/<em class="replaceable"><code>VG</code></em>-<em class="replaceable"><code>LV</code></em></code>
or
<code class="filename">/dev/<em class="replaceable"><code>VG</code></em>/<em class="replaceable"><code>LV</code></em></code>.
      </p></li><li class="listitem"><p>
	It is no longer possible to bind-mount the <code class="filename">/usr</code>
filesystem.
      </p></li><li class="listitem"><p>
	If the RTC (real time clock) is set to local time and the local time is
ahead of UTC, <code class="literal">e2fsck</code> will print a warning during boot
about the time changing backward (<a class="ulink" href="https://bugs.debian.org/767040" target="_top">bug #767040</a>).  You can disable
this by putting the following lines in
<code class="filename">/etc/e2fsck.conf</code>:
      </p><pre class="screen">
[options]
broken_system_clock=1
</pre></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="nownownow"></a>4.7. Saker att göra före omstart</h2></div></div></div><p>
När <code class="literal">apt-get dist-upgrade</code> har kört färdigt är den
<span class="quote">”<span class="quote">formella</span>”</span> uppgraderingen färdig, men det finns vissa andra
saker som bör tas om hand <span class="emphasis"><em>före</em></span> nästa omstart.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
      When upgrading from Wheezy to Jessie, it can be a good idea
to purge old packages <span class="emphasis"><em>before</em></span> the first reboot.  In
particular, obsolete init scripts may cause issues.  Please see <a class="xref" href="ch-upgrading.sv.html#purge-removed-packages" title="4.8.1. Utrensning av borttagna paket">Avsnitt 4.8.1, ”Utrensning av borttagna paket”</a> for details on finding and purging
removed packages.
    </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="for-next"></a>4.8. Förberedelse inför nästa utgåva</h2></div></div></div><p>
Efter uppgraderingen finns det flera saker som du kan göra för att förbereda
inför nästa utgåva.
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
Remove newly redundant or obsolete packages as described in <a class="xref" href="ch-upgrading.sv.html#sufficient-space" title="4.4.3. Se till att du har tillräckligt med utrymme för uppgraderingen">Avsnitt 4.4.3, ”Se till att du har tillräckligt med utrymme för uppgraderingen”</a> and <a class="xref" href="ch-upgrading.sv.html#obsolete" title="4.10. Föråldrade paket">Avsnitt 4.10, ”Föråldrade paket”</a>.  You should
review which configuration files they use and consider purging the packages
to remove their configuration files.  See also <a class="xref" href="ch-upgrading.sv.html#purge-removed-packages" title="4.8.1. Utrensning av borttagna paket">Avsnitt 4.8.1, ”Utrensning av borttagna paket”</a>.
</p></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="purge-removed-packages"></a>4.8.1. Utrensning av borttagna paket</h3></div></div></div><p>
    It is generally advisable to purge removed packages.  This is especially
true if these have been removed in an earlier release upgrade (e.g. from the
upgrade to wheezy) or they were provided by third-party vendors.
In particular, old init.d scripts have been known to cause issues.
  </p><div class="caution"><table border="0" summary="Caution"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Observera]" src="images/caution.png" /></td><th align="left">Observera</th></tr><tr><td align="left" valign="top"><p>
      Purging a package will generally also purge its log files, so you might want
to back them up first.
    </p></td></tr></table></div><p>
    The following command displays a list of all removed packages that may have
configuration files left on the system (if any):
  </p><pre class="screen">
# dpkg -l | awk '/^rc/ { print $2 }'
</pre><p>
    Paketen kan rensas bort genom att använda kommandot <span class="command"><strong>apt-get
purge</strong></span>. Vill du rensa bort allt på en enda gång kan följande
kommando användas:
  </p><pre class="screen">
# apt-get purge $(dpkg -l | awk '/^rc/ { print $2 }')
</pre><p>
    Om du använder <code class="systemitem">aptitude</code><a id="idp58056480" class="indexterm"></a> kan du också
använda följande alternativ till kommandona ovan:
  </p><pre class="screen">
$ aptitude search '~c'
$ aptitude purge '~c'
</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="deprecated"></a>4.9. Utfasade komponenter</h2></div></div></div><p>
I och med nästa utgåva av Debian 9 (kodnamn stretch)
kommer ett större antal funktioner att föråldras. Användare kommer att
behöva byta till alternativ för att förhindra problem vid uppgradering till
9.
</p><p>
Det inkluderar följande funktioner:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>The <code class="systemitem">hardening-wrapper</code><a id="idp58062464" class="indexterm"></a> package is
deprecated and is expected to be removed in Stretch.
		</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="obsolete"></a>4.10. Föråldrade paket</h2></div></div></div><p>
Introducing lot of new packages, jessie also retires and omits quite
some old packages that were in wheezy.  It provides no upgrade
path for these obsolete packages.  While nothing prevents you from
continuing to use an obsolete package where desired, the Debian project will
usually discontinue security support for it a year after jessie's
release<a href="#ftn.idp58065472" class="footnote" id="idp58065472"><sup class="footnote">[5]</sup></a>, and will not normally provide
other support in the meantime.  Replacing them with available alternatives,
if any, is recommended.
</p><p>
Det finns många anledningar till varför paket kan ha tagits bort från
distributionen: de underhålls inte längre av upphovsmännen; det finns inte
längre någon Debianutvecklare som är intresserad av att underhålla paketen;
funktionaliteten de tillhandahåller har ersatts av en annan programvara
(eller en ny version); eller så anses de inte längre vara lämpliga för
jessie på grund av fel i dem. I det senare fallet kan paket
fortfarande finnas i <span class="quote">”<span class="quote">unstable</span>”</span>-distributionen.
</p><p>
Att identifiera vilka paket på ett uppdaterat system som är
<span class="quote">”<span class="quote">föråldrade</span>”</span> är enkelt eftersom pakethanteringsvertygen
markerar dem så. Om du använder <span class="command"><strong>aptitude</strong></span>, kommer du att
se en lista över dessa paket under <span class="quote">”<span class="quote">Föråldrade och lokalt skapade
paket</span>”</span>.
</p><p>
<a class="ulink" href="https://bugs.debian.org/" target="_top">Debian Bug Tracking System</a> tillhandahåller
ofta ytterligare information om varför paketet blev borttaget. Du bör
granska både de arkiverade felrapporterna för själva paketet och de
arkiverade felrapporterna för pseudopaketet på  <a class="ulink" href="https://bugs.debian.org/cgi-bin/pkgreport.cgi?pkg=ftp.debian.org&amp;archive=yes" target="_top">ftp.debian.org</a>.
</p><p>
  Lista med föråldrade paket inkluderar:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
	<code class="systemitem">postgresql-9.1</code><a id="idp58074832" class="indexterm"></a>, successor is
<code class="systemitem">postgresql-9.4</code><a id="idp58076528" class="indexterm"></a>.  Once the operating
system upgrade is finished, you should plan to also upgrade your PostgreSQL
9.1 database clusters to the new PostgreSQL version 9.4 using the
<span class="command"><strong>pg_upgradecluster</strong></span> tool.  For users of the PL/perl
procedural language, jessie provides an updated <code class="systemitem">postgresql-plperl-9.1</code><a id="idp58079152" class="indexterm"></a> package linked against
jessie's version of libperl in order to enable upgrading to the new perl
version in jessie while keeping the old PL/perl database functions usable
until the database is upgraded as well.
      </p></li><li class="listitem"><p>
        
        
<code class="systemitem">python3.2</code><a id="idp58081824" class="indexterm"></a>, successor is <code class="systemitem">python3.4</code><a id="idp58083520" class="indexterm"></a>. (Version 2.7 is supported in both
wheezy and jessie.)
      </p></li><li class="listitem"><p>
        <code class="systemitem">ruby1.8</code><a id="idp58086032" class="indexterm"></a> and <code class="systemitem">ruby1.9.1</code><a id="idp58087728" class="indexterm"></a>; successor is <code class="systemitem">ruby2.1</code><a id="idp58089424" class="indexterm"></a>.  Please install the package <code class="systemitem">ruby</code><a id="idp58091136" class="indexterm"></a> to automatically track the current ruby
version.
      </p></li><li class="listitem"><p>
        <code class="systemitem">mplayer</code><a id="idp58093648" class="indexterm"></a>; alternatives are
<code class="systemitem">mplayer2</code><a id="idp58095344" class="indexterm"></a>, and <code class="systemitem">mpv</code><a id="idp58097056" class="indexterm"></a> (new in jessie).  Whilst the former
is mostly compatible with mplayer in terms of command-line arguments and
configuration (and adds a few new features too), the latter adds a lot of
new features and improvements, and it is actively maintained upstream.
      </p></li><li class="listitem"><p>
        <code class="systemitem">openoffice.org</code><a id="idp58099728" class="indexterm"></a>; please use
<code class="systemitem">libreoffice</code><a id="idp58101424" class="indexterm"></a>.
      </p></li><li class="listitem"><p>
        <code class="systemitem">squid</code><a id="idp58103888" class="indexterm"></a>, successor is <code class="systemitem">squid3</code><a id="idp58105584" class="indexterm"></a>.
      </p></li><li class="listitem"><p>
        <code class="systemitem">libjpeg-progs</code><a id="idp58108048" class="indexterm"></a>, successor is
<code class="systemitem">libjpeg-turbo-progs</code><a id="idp58109744" class="indexterm"></a>.
      </p></li><li class="listitem"><p>
        <code class="systemitem">openjdk-6-*</code><a id="idp58112208" class="indexterm"></a>, successor is
<code class="systemitem">openjdk-7-*</code><a id="idp58113904" class="indexterm"></a>.
      </p></li></ul></div><p>
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="dummy"></a>4.10.1. Dummy-paket</h3></div></div></div><p>
Vissa paket från wheezy har delats upp i flera paket i
jessie, ofta för att förbättra systemunderhållet. För att göra
uppgraderingssättet enklare i sådana fall, tillhandahåller jessie
ofta så kallade <span class="quote">”<span class="quote">dummy</span>”</span>-paket: tomma paket som har samma namn
som det gamla paketet i wheezy med beroenden som gör att de nya
paketen blir installerade. Dessa <span class="quote">”<span class="quote">dummy</span>”</span>-paket anses som
redundanta paket efter uppgraderingen och kan med säkerhet tas bort.
</p><p>
De flesta (men inte alla) dummy-paket har beskrivningar som indikerar deras
syfte. Paketbeskrivningar för dummy-paket är inte enhetliga, dock kan
<span class="command"><strong>deborphan</strong></span> med flaggan
<code class="literal">--guess-<em class="replaceable"><code>*</code></em></code> (ex.
<code class="literal">--guess-dummy</code>) vara användbara för att identifiera dem på
ditt system. Observera att vissa dummy-paket inte är tänkta att tas bort
efter en uppgradering utan används istället för att hålla kontroll på den
för närvarande tillgängliga versionen av ett program över tid.
</p></div></div><div class="footnotes"><br /><hr width="100" align="left" /><div id="ftn.idp57661696" class="footnote"><p><a href="#idp57661696" class="para"><sup class="para">[1] </sup></a>Om debconf-prioriteringen är satt till en väldigt hög nivå kan du kanske
undvika instälningsfrågor men tjänster som är beroende av standardsvar som
inte fungerar för ditt system kommer inte att kunna starta.</p></div><div id="ftn.idp57663296" class="footnote"><p><a href="#idp57663296" class="para"><sup class="para">[2] </sup></a>For example: DNS or DHCP services, especially when there is no redundancy or
failover. In the DHCP case end-users might be disconnected from the network
if the lease time is lower than the time it takes for the upgrade process to
complete.</p></div><div id="ftn.idp57678192" class="footnote"><p><a href="#idp57678192" class="para"><sup class="para">[3] </sup></a> Den här funktionen kan inaktiveras genom att lägga till parametern
<code class="literal">panic=0</code> till dina uppstartparametrar.  </p></div><div id="ftn.idp57762512" class="footnote"><p><a href="#idp57762512" class="para"><sup class="para">[4] </sup></a> Debians pakethanteringssystem tillåter vanligtvis inte att ett paket tar
bort eller ersätta en fil som ägs av ett annat paket såvida det inte har
definierats att ersätta det paketet.  </p></div><div id="ftn.idp58065472" class="footnote"><p><a href="#idp58065472" class="para"><sup class="para">[5] </sup></a> Eller så länge som ingen annan utgivning sker i den tidsperioden. Normalt
sett stöds endast två stabila utgåvor åt gången.  </p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch-installing.sv.html"><img src="images/prev.png" alt="Föregående" /></a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch-information.sv.html"><img src="images/next.png" alt="Nästa" /></a></td></tr><tr><td width="40%" align="left" valign="top">Kapitel 3. Installationssystem </td><td width="20%" align="center"><a accesskey="h" href="index.sv.html"><img src="images/home.png" alt="Hem" /></a></td><td width="40%" align="right" valign="top"> Kapitel 5. Problemområden att känna till för utgåvan jessie</td></tr></table></div></body></html>