<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Capítulo 5. Problemas a serem considerados para a jessie</title><link rel="stylesheet" type="text/css" href="debian.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.pt-br.html" title="Notas de lançamento do Debian 8 (jessie), PC 64 bits" /><link rel="up" href="index.pt-br.html" title="Notas de lançamento do Debian 8 (jessie), PC 64 bits" /><link rel="prev" href="ch-upgrading.pt-br.html" title="Capítulo 4. Atualizações a partir do Debian 7 (wheezy)" /><link rel="next" href="ch-moreinfo.pt-br.html" title="Capítulo 6. Mais informações sobre o Debian" /><meta xmlns="" name="viewport" content="width=device-width, initial-scale=1" /><style xmlns="" type="text/css">
      body {
        background-repeat: no-repeat;
        background-image: none;
      }
    </style></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Capítulo 5. Problemas a serem considerados para a jessie</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch-upgrading.pt-br.html"><img src="images/prev.png" alt="Anterior" /></a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch-moreinfo.pt-br.html"><img src="images/next.png" alt="Próxima" /></a></td></tr></table><hr /></div><div xml:lang="pt_BR" class="chapter" lang="pt_BR"><div class="titlepage"><div><div><h1 class="title"><a id="ch-information"></a>Capítulo 5. Problemas a serem considerados para a jessie</h1></div></div></div><div class="toc"><p><strong>Índice</strong></p><dl class="toc"><dt><span class="section"><a href="ch-information.pt-br.html#limited-security-support">5.1. Limitações no suporte de segurança</a></span></dt><dd><dl><dt><span class="section"><a href="ch-information.pt-br.html#browser-security">5.1.1. Situação da segurança dos navegadores web</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#libv8">5.1.2. Falta de suporte de segurança para o ecossistema em torno da libv8 e Node.js</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#mediawiki-security">5.1.3. Término antecipado do suporte de segurança do MediaWiki</a></span></dt></dl></dd><dt><span class="section"><a href="ch-information.pt-br.html#openssh">5.2. O servidor OpenSSH predefine <span class="quote">“<span class="quote">PermitRootLogin without-password</span>”</span></a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#puppet">5.3. Compatibilidade puppet 2.7 / 3.7</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#php-incompat">5.4. A atualização para PHP 5.6 tem mudanças de comportamento</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#apache-httpd-incomat">5.5. Mudanças incompatíveis no Apache HTTPD 2.4</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#systemd-upgrade-default-init-system">5.6. A atualização instala o novo sistema init padrão para Jessie</a></span></dt><dd><dl><dt><span class="section"><a href="ch-information.pt-br.html#systemd-auto-mounts-incompat">5.6.1. Tratamento mais rigoroso de falhas de montagem durante a inicialização sob
systemd</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#idp49856640">5.6.2. Scripts init obsoletos devem ser expurgados</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#idp49861072">5.6.3. Scripts init modificados localmente podem precisar ser portados para o
systemd</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#plymouth-required-for-boot-prompts">5.6.4. Necessidade do plymouth para prompts de inicialização sob inicializações com
systemd</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#idp49882816">5.6.5. Interação entre logind e acpid</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#systemd-cryptsetup-unsupported-features">5.6.6. Recursos do crypttab não suportados pelo systemd (por exemplo,
<span class="quote">“<span class="quote">keyscript=...</span>”</span>)</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#systemd-sigkill-regression">5.6.7. systemd: envia SIGKILL muito cedo [corrigido na 8.1]</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#systemd-halt-behavior">5.6.8. systemd: comportamento do comando <span class="quote">“<span class="quote">halt</span>”</span></a></span></dt></dl></dd><dt><span class="section"><a href="ch-information.pt-br.html#required-kernel-config-options">5.7. Opções de configuração do kernel necessárias para a Jessie</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#lxc-upgrade-issues">5.8. Considerações de atualização para hospedeiros e contêineres LXC</a></span></dt><dd><dl><dt><span class="section"><a href="ch-information.pt-br.html#issues-lxc-wheezy-host">5.8.1. Atualizando hóspedes LXC em execução sob hospedeiros Wheezy</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#issues-lxc-jessie-host">5.8.2. Atualizando hóspedes LXC em execução sob hospedeiros Jessie</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#issues-lxc-further-docu">5.8.3. Informações adicionais</a></span></dt></dl></dd><dt><span class="section"><a href="ch-information.pt-br.html#cryptsetup-luks-whirlpool">5.9. Migração manual de discos criptografados com LUKS whirlpool (configurações
não padrão)</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#gnome-3d">5.10. A área de trabalho GNOME necessita placa gráfica 3D básica</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#gnome-fglrx">5.11. A área de trabalho GNOME não funciona com o driver FGLRX proprietário da AMD</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#gnome-shortcuts">5.12. Mudanças nos atalhos de teclado padrão do GNOME</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#base-passwd-hardening">5.13. Mudanças do shell padrão dos usuários do sistema fornecidos pelo <code class="systemitem">base-passwd</code></a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#kde-kontact">5.14. Migração para os novos E-mail, Calendário e Contatos (Kontact) do KDE</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#missing-virtual-consoles">5.15. Falta de consoles virtuais (<span class="quote">“<span class="quote">getty</span>”</span>s) com múltiplos ambientes
de área de trabalho</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#idp50002128">5.16. <span class="quote">“<span class="quote">VGA signal out of range</span>”</span> / tela em branco durante a
inicialização com o grub-pc</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#idp50008640">5.17. Validação mais rigorosa de arquivos cron no crontab</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#perl-module-load-permissions">5.18. Mudança no tratamento dos caminhos de módulo ilegíveis pelo <code class="systemitem">perl</code></a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#ganeti-upgrade-issues">5.19. Considerações de atualização para clusters Ganeti</a></span></dt><dd><dl><dt><span class="section"><a href="ch-information.pt-br.html#ganeti-upgrade-DRBD-UUIDs">5.19.1. Problema ao atualizar clusters Ganeti com instâncias suportadas por DRBD
[corrigido na 8.1]</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#ganeti-upgrade-general">5.19.2. Notas gerais sobre a atualização de clusters Ganeti</a></span></dt></dl></dd><dt><span class="section"><a href="ch-information.pt-br.html#idp50030736">5.20. Novos requisitos para execução de arquivos no Samba4</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#cryptsetup-busybox">5.21. O cryptsetup pode quebrar a inicialização com BUSYBOX=n</a></span></dt><dt><span class="section"><a href="ch-information.pt-br.html#squid-incompat">5.22. Backwards incompatible changes in the Squid webproxy</a></span></dt></dl></div><p>
Algumas vezes, mudanças introduzidas em uma nova versão têm efeitos
colaterais que não podem ser evitados ou que acabam expondo bugs em outros
locais. Esta seção documenta problemas conhecidos. Por favor, também leia a
errata, a documentação dos pacotes relevantes, relatórios de bugs e outras
informações mencionadas na <a class="xref" href="ch-moreinfo.pt-br.html#morereading" title="6.1. Leitura complementar">Seção 6.1, “Leitura complementar”</a>.
</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="limited-security-support"></a>5.1. Limitações no suporte de segurança</h2></div></div></div><p>
    Há alguns pacotes onde o Debian não pode prometer fornecer portes
retroativos mínimos para problemas de segurança. Esses são abordados nas
subseções a seguir.
  </p><p>
    Note que o pacote <code class="systemitem">debian-security-support</code><a id="idp49750496" class="indexterm"></a>, introduzido no
Jessie, ajuda a acompanhar a situação do suporte de segurança dos
pacotes instalados.
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="browser-security"></a>5.1.1. Situação da segurança dos navegadores web</h3></div></div></div><p>
O Debian 8 inclui diversos motores de navegadores que são afetados
por um fluxo constante de vulnerabilidades de segurança. A alta taxa de
vulnerabilidades e a ausência parcial de suporte do upstream na forma de
ramos de longo prazo tornam muito difícil o suporte a esses navegadores com
correções de segurança portadas retroativamente. Além disso, as
interdependências das bibliotecas tornam impossível atualizar para uma
versão upstream mais nova. Por isso, navegadores feitos sobre os motores
webkit, qtwebkit e khtml foram incluídos no Jessie, mas não estão
cobertos pelo suporte de segurança. Esses navegadores não devem ser usados
em sites web não confiáveis.
</p><p>
Para uso geral de navegador web recomendamos Iceweasel ou Chromium.
</p><p>
Chromium - enquanto construído sobre a base de código Webkit - é um pacote
sem dependência, que será mantido atualizado através da reconstrução das
versões atuais do Chromium para a estável. O Iceweasel e o Icedove também
serão mantidos atualizados através da reconstrução das versões ESR atuais
para a estável.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="libv8"></a>5.1.2. Falta de suporte de segurança para o ecossistema em torno da libv8 e Node.js</h3></div></div></div><p>
   A plataforma Node.js é construída em cima da <code class="systemitem">libv8-3.14</code><a id="idp49757776" class="indexterm"></a>, que vivencia um alto volume de
problemas de segurança, mas atualmente não há voluntários no projeto ou na
equipe de segurança suficientemente interessados e dispostos a gastar a
grande quantidade de tempo necessária para conter esses problemas
encontrados.
</p><p>
   Infelizmente, isso significa que a <code class="systemitem">libv8-3.14</code><a id="idp49760416" class="indexterm"></a>, o <code class="systemitem">nodejs</code><a id="idp49762112" class="indexterm"></a> e o ecossistema de pacotes node-*
associados não devem ser atualmente utilizados com conteúdo não confiável,
tal como dados não avaliados oriundos da Internet.
</p><p>
   Além disso, esses pacotes não receberão quaisquer atualizações de segurança
durante o tempo de vida da versão Jessie.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="mediawiki-security"></a>5.1.3. Término antecipado do suporte de segurança do MediaWiki</h3></div></div></div><p>
  O suporte do upstream para a série 1.19 do <code class="systemitem">mediawiki</code><a id="idp49766448" class="indexterm"></a> termina durante o ciclo de vida
esperado da Jessie. O pacote <code class="systemitem">mediawiki</code><a id="idp49768192" class="indexterm"></a> está incluído na Jessie para
satisfazer dependências em outros pacotes.
</p><p>
  O suporte de segurança para o <code class="systemitem">mediawiki</code> terminará
juntamente com o suporte para o Wheezy em abril de 2016.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="openssh"></a>5.2. O servidor OpenSSH predefine <span class="quote">“<span class="quote">PermitRootLogin without-password</span>”</span></h2></div></div></div><p>
    Em uma tentativa de fortalecer a configuração padrão, a configuração do
<code class="systemitem">openssh-server</code><a id="idp49773424" class="indexterm"></a> agora predefinirá
"PermitRootLogin without-password". Caso você confie na autenticação por
senha para o usuário <code class="literal">root</code>, você pode ser afetado por essa
mudança.
  </p><p>
    O <code class="systemitem">openssh-server</code><a id="idp49776560" class="indexterm"></a> tentará detectar
esses casos e aumentar a prioridade dos seus avisos do debconf.
  </p><p>
    Caso você queira manter a autenticação por senha para o usuário
<code class="literal">root</code>, você também pode predefinir esta pergunta usando:
    </p><pre class="screen">
# The "false" value is in fact correct despite being confusing.
$ echo 'openssh-server openssh-server/permit-root-login boolean false' | debconf-set-selections
</pre><p>
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="puppet"></a>5.3. Compatibilidade puppet 2.7 / 3.7</h2></div></div></div><p>
  Caso você esteja usando Puppet, por favor, esteja ciente de que o Puppet 3.7
não é compatível com o anterior Puppet 2.7. Além de outras coisas, as regras
de escopo mudaram e muitas estruturas de controle
(<span class="quote">“<span class="quote">constructs</span>”</span>) obsoletas foram removidas. Veja as <a class="ulink" href="https://docs.puppetlabs.com/puppet/3/reference/release_notes.html#puppet-300" target="_top">notas
de lançamento do Puppet 3.x</a> para algumas das mudanças, apesar de
estar ciente de que há mudanças adicionais no 3.7.
</p><p>
  Verificar os arquivos de log do seu <span class="quote">“<span class="quote">puppetmaster</span>”</span> atual em
busca de advertências de código obsoleto e resolver todas essas advertências
antes de proceder com a atualização fará com que seja muito mais fácil
completar a atualização. Alternativamente, ou adicionalmente, testar os
manifestos com uma ferramenta como o <a class="ulink" href="https://github.com/duritong/puppet_catalog_test" target="_top">teste de catálogo
Puppet</a> também pode encontrar possíveis problemas antes da
atualização.
</p><p>
  Quando atualizar um sistema gerenciado pelo Puppet de Wheezy para Jessie,
você deve garantir que o puppetmaster correspondente execute, pelo menos, a
versão 3.7 do Puppet. Caso o mestre esteja executando o <code class="systemitem">puppetmaster</code><a id="idp49787152" class="indexterm"></a> do Wheezy, o sistema Jessie
gerenciado não será capaz de conectar ao mesmo.
</p><p>
  Para mais informações sobre as alterações incompatíveis, por favor, dê uma
olhada em <a class="ulink" href="https://projects.puppetlabs.com/projects/puppet/wiki/Telly_Upgrade_Issues" target="_top">problemas
de atualização Telly</a> e <a class="ulink" href="http://somethingsinistral.net/blog/the-angry-guide-to-puppet-3/" target="_top"><span class="quote">“<span class="quote">The
Angry Guide to Puppet 3</span>”</span></a>.
</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="php-incompat"></a>5.4. A atualização para PHP 5.6 tem mudanças de comportamento</h2></div></div></div><p>
    A atualização para Jessie inclui uma atualização do PHP de 5.4 para
5.6. Isso pode afetar quaisquer scripts PHP e você é aconselhado a verificar
esses scripts antes de atualizar. Abaixo, está um subconjunto selecionado
desses problemas:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
        Para prevenir ataques do tipo <span class="quote">“<span class="quote">man-in-the-middle</span>”</span> contra
transferências criptografadas, os streams de clientes agora verificam os
certificados dos pares por padrão.
      </p><p>
        Como resultado dessa mudança, um código existente usando
<span class="quote">“<span class="quote">wrappers</span>”</span> de stream ssl:// ou tls:// (por exemplo,
file_get_contents(), fsockopen(), stream_socket_client()) pode não
conectar-se mais com sucesso sem desabilitar manualmente a verificação de
pares através do ajuste <span class="quote">“<span class="quote">verify_peer</span>”</span> no contexto do stream.
      </p><p>
        Para mais informações sobre esse problema específico, por favor, leia <a class="ulink" href="https://wiki.php.net/rfc/tls-peer-verification" target="_top">este documento</a>.
      </p></li><li class="listitem"><p>
        PHP muda o tratamento de insensibilidade a maiúsculas e minúsculas em muitos
casos:
      </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
            Todo tratamento interno de insensibilidade a maiúsculas e minúsculas para
nomes de classes, funções e constantes é feito de acordo com as regras
ASCII. As regras do locale atual são ignoradas.
          </p></li><li class="listitem"><p>
            As chaves <span class="quote">“<span class="quote">self</span>”</span>, <span class="quote">“<span class="quote">parent</span>”</span> e <span class="quote">“<span class="quote">static</span>”</span>
agora são sempre insensíveis a maiúsculas e minúsculas.
          </p></li><li class="listitem"><p>
            A função json_decode() não aceita mais variantes não minúsculas dos valores
<span class="quote">“<span class="quote">boolean</span>”</span>.
          </p></li></ul></div></li><li class="listitem"><p>
        As funções de GUID logo (por exemplo, php_logo_guid()) foram removidas.
      </p></li><li class="listitem"><p>
        Não é mais possível sobrescrever chaves em matrizes escalares estáticas. Por
favor, veja o <a class="ulink" href="https://bugs.php.net/bug.php?id=66015" target="_top">bug 66015
do PHP</a> para um exemplo e mais informações sobre esse problema
específico.
      </p></li><li class="listitem"><p>
        As funções mcrypt_encrypt(), mcrypt_decrypt() e mcrypt_{MODE}() não aceitam
mais chaves ou VIs com tamanhos incorretos. Além disso, um VI agora é
necessário caso o modo de codificação de bloco utilizado o requeira.
      </p></li><li class="listitem"><p>
        Por razões legais, a implementação do JSON distribuída com o PHP foi
substituída pela versão fornecida pelo módulo PECL <span class="quote">“<span class="quote">jsonc</span>”</span>. O
código que faz suposições sobre os detalhes de implementação mais finos do
parser JSON PHP pode precisar de ser revisado.
      </p></li><li class="listitem"><p>
        The "short_open_tag" setting is now disabled by default.  The ASP variant of
the short tags ("&lt;%" and "%&gt;") are scheduled for removal in PHP7.
      </p></li></ul></div><p>
    Para mais informações ou a lista completa de possíveis problemas, por favor,
dê uma olhada na lista do upstream de mudanças incompatíveis com versões
anteriores para o PHP <a class="ulink" href="https://php.net/manual/en/migration55.incompatible.php" target="_top">5.5</a> e
<a class="ulink" href="https://php.net/manual/en/migration56.incompatible.php" target="_top">5.6</a>.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="apache-httpd-incomat"></a>5.5. Mudanças incompatíveis no Apache HTTPD 2.4</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
      Esta seção se aplica apenas a sistemas que tenham um servidor Apache HTTPD
instalado e configurado manualmente.
    </p></td></tr></table></div><p>
    Houve uma série de mudanças na configuração do servidor HTTPD Apache na
versão 2.4. No lado do upstream, a sintaxe mudou. Notavelmente, as diretivas
de controle de acesso mudaram consideravelmente e precisarão de migração
manual para as novas diretivas.
  </p><p>
    O módulo <code class="literal">mod_access_compat</code> é mencionado no guia de
atualização do upstream como uma alternativa possível para migração
imediata. Porém, os relatos sugerem que ele pode nem sempre funcionar.
  </p><p>
    O gerenciamento dos arquivos de configuração também mudou no empacotamento
do Debian. Em particular, todos os arquivos de configuração e sites agora
devem terminar com <span class="quote">“<span class="quote">.conf</span>”</span> para serem analisados por
padrão. Essa mudança também substitui o uso já existente do
<code class="filename">/etc/apache2/conf.d/</code>.
  </p><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
      Durante a atualização, você também pode ver avisos sobre arquivos de
configuração colocados em <code class="filename">/etc/apache2/conf.d/</code>, que são
fornecidos por pacotes do Debian. Este aviso é inevitável, mas inofensivo,
pois os pacotes afetados moverão suas configurações uma vez que suas
atualizações sejam concluídas (o que geralmente acontecerá depois que o
HTTPD Apache emitir o seu alerta).
    </p></td></tr></table></div><p>
    Para mais informações e a lista completa das mudanças, por favor, consulte:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>O documento <a class="ulink" href="http://httpd.apache.org/docs/2.4/upgrading.html" target="_top">Atualizando para 2.4 a
partir de 2.2</a> fornecido pela Apache por parte do upstream.
      </p></li><li class="listitem"><p>
        O arquivo <code class="filename">/usr/share/doc/apache2/NEWS.Debian.gz</code>
fornecido pelo pacote <code class="systemitem">apache2</code><a id="idp49826448" class="indexterm"></a>.
      </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="systemd-upgrade-default-init-system"></a>5.6. A atualização instala o novo sistema init padrão para Jessie</h2></div></div></div><p>
    A Jessie vem com o <code class="systemitem">systemd-sysv</code><a id="idp49830032" class="indexterm"></a> como
sistema init <span class="emphasis"><em>padrão</em></span>. Esse pacote é instalado
automaticamente nas atualizações.
  </p><p>
    Caso você tenha uma preferência por outro init, tal como <code class="systemitem">sysvinit-core</code><a id="idp49832816" class="indexterm"></a> ou <code class="systemitem">upstart</code><a id="idp49834512" class="indexterm"></a>, é recomendado configurar o pinning do
APT antes da atualização. Isso também pode ser necessário se você estiver
atualizando contêineres do LXC antes do hospedeiro. Nesse caso, por favor,
consulte <a class="xref" href="ch-information.pt-br.html#issues-lxc-wheezy-host" title="5.8.1. Atualizando hóspedes LXC em execução sob hospedeiros Wheezy">Seção 5.8.1, “Atualizando hóspedes LXC em execução sob hospedeiros Wheezy”</a>.
  </p><p>Como um exemplo, para evitar que o <code class="systemitem">systemd-sysv</code><a id="idp49837600" class="indexterm"></a> seja instalado durante a
atualização, você pode criar um arquivo chamado
<code class="filename">/etc/apt/preferences.d/local-pin-init</code> com o seguinte
conteúdo:
  </p><pre class="screen">
Package: systemd-sysv
Pin: release o=Debian
Pin-Priority: -1
</pre><div class="caution"><table border="0" summary="Caution"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Cuidado]" src="images/caution.png" /></td><th align="left">Cuidado</th></tr><tr><td align="left" valign="top"><p>
      Esteja ciente de que alguns pacotes podem ter um comportamento degradado ou
podem faltar recursos sob um sistema init não padrão.
    </p></td></tr></table></div><p>
    Por favor, note que a atualização pode instalar pacotes contendo
<span class="quote">“<span class="quote">systemd</span>”</span> em seu nome, mesmo com o pinning do APT. Esses
sozinhos <span class="emphasis"><em>não</em></span> alteram o seu sistema init. Para usar o
systemd como o seu sistema init, o pacote <code class="systemitem">systemd-sysv</code><a id="idp49843584" class="indexterm"></a> deve ser instalado primeiro.
  </p><p>
    Caso o APT ou aptitude tenham problemas para calcular um caminho de
atualização com o pinning habilitado, é possível que você seja capaz de
ajudá-los instalando manualmente tanto o <code class="systemitem">sysvinit-core</code><a id="idp49846080" class="indexterm"></a> quanto o <code class="systemitem">systemd-shim</code><a id="idp49847776" class="indexterm"></a>.
  </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="systemd-auto-mounts-incompat"></a>5.6.1. Tratamento mais rigoroso de falhas de montagem durante a inicialização sob
systemd</h3></div></div></div><p>
    O novo sistema init padrão, <code class="systemitem">systemd-sysv</code><a id="idp49851056" class="indexterm"></a>, tem um tratamento mais rigoroso
das falhas de montagem do tipo <span class="quote">“<span class="quote">auto</span>”</span> durante a inicialização,
comparado ao sysvinit. Caso ele falhe ao montar uma montagem do tipo
<span class="quote">“<span class="quote">auto</span>”</span> (sem a opção <span class="quote">“<span class="quote">nofail</span>”</span>), o systemd cairá em
um shell de emergência em vez de continuar a inicialização.
  </p><p>
    Recomendamos que todos os pontos de montagem removíveis ou
<span class="quote">“<span class="quote">opcionais</span>”</span> (por exemplo, unidades de rede não críticas)
listados em <code class="filename">/etc/fstab</code> tenham a opção
<span class="quote">“<span class="quote">noauto</span>”</span> ou a <span class="quote">“<span class="quote">nofail</span>”</span>.
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp49856640"></a>5.6.2. Scripts init obsoletos devem ser expurgados</h3></div></div></div><p>
    Caso você esteja atualizando a partir de uma versão anterior, o seu sistema
pode conter scripts init obsoletos fornecidos por pacotes (agora)
removidos. Esses scripts podem ter metadados de dependência imprecisos ou
inexistentes, que podem levar a ciclos de dependência na sua configuração de
init.
  </p><p>
    Para evitar isso, recomendamos que você reveja a lista de pacotes que estão
em estado <span class="quote">“<span class="quote">rc</span>”</span> (<span class="quote">“<span class="quote">Removido, mas permanecem arquivos de
configuração</span>”</span>), e expurgue, pelo menos, todos aqueles que contenham
scripts init.
  </p><p>
    Por favor, veja <a class="xref" href="ch-upgrading.pt-br.html#purge-removed-packages" title="4.8.1. Expurgando pacotes removidos">Seção 4.8.1, “Expurgando pacotes removidos”</a> para detalhes
sobre como encontrar e expurgar pacotes removidos.
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp49861072"></a>5.6.3. Scripts init modificados localmente podem precisar ser portados para o
systemd</h3></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
      Esta seção se aplica apenas aos sistemas onde os scripts init fornecidos no
Debian foram modificados localmente.
    </p></td></tr></table></div><p>
    Caso você tenha modificado alguns dos scripts init fornecidos pelo Debian,
por favor, esteja ciente que esses podem agora ter sido substituídos por um
arquivo de unidade systemd ou pelo próprio systemd. Caso você tenha o
debsums instalado, você pode verificar scripts init modificados localmente
usando o seguinte comando shell.
  </p><pre class="screen">
debsums -c -e | grep ^/etc/init.d
</pre><p>Alternativamente, pode ser usado o seguinte na ausência do debsums.
  </p><pre class="screen">
dpkg-query --show -f'${Conffiles}' | sed 's, /,\n/,g' | \
  grep /etc/init.d | awk 'NF,OFS="  " {print $2, $1}' | \
  md5sum --quiet -c
</pre><p>
    Caso um dos comandos sinalize quaisquer arquivos e seus pacotes
correspondentes <span class="emphasis"><em>ou</em></span> o <code class="systemitem">systemd</code><a id="idp49867552" class="indexterm"></a> agora forneça um arquivo de unidade
systemd para esse serviço, o arquivo de unidade systemd prevalecerá sobre o
seu script init modificado localmente. Dependendo da natureza da mudança, há
formas diferentes de realizar a migração.
  </p><p>
    Caso necessário, é possível substituir o arquivo de unidade systemd para que
inicie o script sysvinit. Para mais informações sobre arquivos de unidade
systemd, por favor, dê uma olhada nos seguintes recursos.
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
        <a class="ulink" href="http://0pointer.de/blog/projects/systemd-for-admins-3.html" target="_top">
Como eu converto um script init SysV em um arquivo de serviço
systemd?</a>
      </p></li><li class="listitem"><p>
        <a class="ulink" href="http://0pointer.de/public/systemd-man/systemd.special.html" target="_top">systemd.special
— Unidades especiais systemd</a>
      </p></li><li class="listitem"><p><a class="ulink" href="http://www.freedesktop.org/wiki/Software/systemd/MyServiceCantGetRealtime/" target="_top">Meu
serviço não consegue tempo real!</a> (também contém uma menção bem curta
sobre como invocar scripts init a partir de arquivos de unidade)</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="plymouth-required-for-boot-prompts"></a>5.6.4. Necessidade do plymouth para prompts de inicialização sob inicializações com
systemd</h3></div></div></div><p>
    Caso a sua inicialização seja interativa (por exemplo, precise de uma senha
para um disco criptografado), por favor, certifique-se de que você tem o
<code class="systemitem">plymouth</code><a id="idp49877808" class="indexterm"></a> instalado <span class="emphasis"><em>e
configurado</em></span>. Por favor, consulte o
<code class="filename">/usr/share/doc/plymouth/README.Debian</code> para informações
sobre como configurar o plymouth.
  </p><p>
    Sem o <code class="systemitem">plymouth</code><a id="idp49881216" class="indexterm"></a>, você pode descobrir
que o prompt de inicialização desaparece. Relatos sugerem que o prompt do
cryptsetup ainda aceita entrada apesar de não estar visível. Se você
enfrentar esse problema, digitar a senha correta pode ainda funcionar.
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp49882816"></a>5.6.5. Interação entre logind e acpid</h3></div></div></div><p>
    Eventos ACPI podem ser tratados pelo logind ou acpid. No caso de ambos os
serviços estarem configurados para tratarem os eventos de maneiras
diferentes, isso pode levar a resultados indesejáveis.
  </p><p>
    Recomendamos migrar todas as configurações não padrão para logind e
desinstalar o acpid. Alternativamente, também é possível configurar o logind
para ignorar eventos ACPI adicionando:
  </p><pre class="screen">
HandlePowerKey=ignore
HandleSuspendKey=ignore
HandleHibernateKey=ignore
HandleLidSwitch=ignore
</pre><p>
    ao <code class="filename">/etc/systemd/logind.conf</code>. Note que isso pode mudar o
comportamento dos ambientes de área de trabalho que dependem do logind.
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="systemd-cryptsetup-unsupported-features"></a>5.6.6. Recursos do crypttab não suportados pelo systemd (por exemplo,
<span class="quote">“<span class="quote">keyscript=...</span>”</span>)</h3></div></div></div><p>
    Há alguns recursos do cryptsetup que, infelizmente, não são suportados
quando se está usando o systemd como sistema init. Esses são:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>precheck</p></li><li class="listitem"><p>check</p></li><li class="listitem"><p>checkargs</p></li><li class="listitem"><p>noearly</p></li><li class="listitem"><p>loud</p></li><li class="listitem"><p>keyscript</p></li></ul></div><p>
    Caso o seu sistema dependa de qualquer um desses recursos para inicializar
com sucesso, você terá que usar o sysvinit (<code class="systemitem">sysvinit-core</code><a id="idp49896112" class="indexterm"></a>) como sistema init. Por favor,
consulte <a class="xref" href="ch-information.pt-br.html#systemd-upgrade-default-init-system" title="5.6. A atualização instala o novo sistema init padrão para Jessie">Seção 5.6, “A atualização instala o novo sistema init padrão para Jessie”</a> para saber
como evitar um sistema init em particular.
  </p><p>
    Você pode verificar se alguma dessas opções está em uso em seu sistema
executando o seguinte comando:
  </p><pre class="screen">
grep -e precheck -e check -e checkargs -e noearly -e loud -e keyscript /etc/crypttab
</pre><p>
    Se não houver saída no comando acima, o seu sistema não utiliza nenhuma das
opções afetadas.
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="systemd-sigkill-regression"></a>5.6.7. systemd: envia SIGKILL muito cedo [corrigido na 8.1]</h3></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
      Esse problema foi corrigido no lançamento pontual Jessie 8.1.
    </p></td></tr></table></div><p>
    Uma regressão foi relatada no systemd após o lançamento da Jessie. A falha
ocorre durante o desligamento ou reinicialização, onde o systemd não dá
nenhum atraso razoável antes de enviar SIGKILL aos processos. Isso pode
levar à perda de dados em processos que não tenham salvado todos os dados no
momento da reinicialização (por exemplo, bancos de dados em execução).
  </p><p>
    Esse problema é monitorado no <a class="ulink" href="https://bugs.debian.org/784720" target="_top">bug #784720 do
Debian</a>
  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="systemd-halt-behavior"></a>5.6.8. systemd: comportamento do comando <span class="quote">“<span class="quote">halt</span>”</span></h3></div></div></div><p>
    A implementação do comando <span class="command"><strong>halt</strong></span> do <code class="systemitem">sysvinit</code><a id="idp49907280" class="indexterm"></a> também desligava a máquina. A
implementação do <code class="systemitem">systemd-sysv</code><a id="idp49909072" class="indexterm"></a> faz o
sistema parar, mas não desliga a máquina. Para fazer a máquina parar e
desligá-la, use o comando <span class="command"><strong>poweroff</strong></span>.
  </p><p>
    Veja também o <a class="ulink" href="https://bugs.debian.org/760923" target="_top">bug #760923 do Debian</a>
  </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="required-kernel-config-options"></a>5.7. Opções de configuração do kernel necessárias para a Jessie</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
      Esta seção é apenas para pessoas que compilam o seu próprio kernel. Caso
você utilize os kernels compilados pelo Debian, pode ignorar esta seção.
    </p></td></tr></table></div><p>
    As seguintes opções de configuração do kernel agora são necessárias ou
recomendadas para a Jessie (além das existentes de versões anteriores):
  </p><pre class="screen">
# Necessária para udev
CONFIG_DEVTMPFS=y
# Necessária para *alguns* serviços do systemd
CONFIG_DEVPTS_MULTIPLE_INSTANCES=y
# Necessária para "bluez" (GNOME)
CONFIG_BT=y
# Necessária para cups + systemd.
CONFIG_PPDEV=y
</pre><p>
    Os serviços do systemd que requerem CONFIG_DEVPTS_MULTIPLE_INSTANCES=y
tipicamente conterão, pelo menos, uma das seguintes diretivas:
  </p><pre class="screen">
PrivateTmp=yes
PrivateDevices=yes
PrivateNetwork=yes
ProtectSystem=yes
</pre><p>
    Se você não usar o systemd, ou puder afirmar que nenhum dos serviços do
systemd usará as diretivas acima, a opção de configuração pode não ser
necessária para o seu sistema em particular.
  </p><p>
    Para mais informações sobre os requisitos, por favor, consulte a seção
chamada <span class="quote">“<span class="quote">REQUIREMENTS</span>”</span> no arquivo <a class="ulink" href="https://sources.debian.net/src/systemd/jessie/README/" target="_top">README</a>
para o pacote <code class="systemitem">systemd</code><a id="idp49921168" class="indexterm"></a>.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="lxc-upgrade-issues"></a>5.8. Considerações de atualização para hospedeiros e contêineres LXC</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
    Esta seção se aplica apenas a sistemas que tenham contêineres e hospedeiros
LXC. Sistemas de usuários finais normais geralmente não dispõem disso.
  </p></td></tr></table></div><p>
A atualização de Wheezy para Jessie migrará o seu sistema para o sistema
init systemd por padrão (veja <a class="xref" href="ch-information.pt-br.html#systemd-upgrade-default-init-system" title="5.6. A atualização instala o novo sistema init padrão para Jessie">Seção 5.6, “A atualização instala o novo sistema init padrão para Jessie”</a>).
</p><p>
Ao atualizar um contêiner LXC ou uma máquina virtual LXC, isso terá
diferentes consequências dependendo se o <span class="emphasis"><em>sistema do
hospedeiro</em></span> já tiver sido atualizado para Jessie ou não.
</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="issues-lxc-wheezy-host"></a>5.8.1. Atualizando hóspedes LXC em execução sob hospedeiros Wheezy</h3></div></div></div><p>
  Caso você esteja atualizando um contêiner hóspede LXC que esteja sendo
executado em um sistema <span class="emphasis"><em>hospedeiro Wheezy</em></span>, então você
precisará evitar que o hóspede seja automaticamente migrado para
systemd. Você evita a migração através de pinning, como descrito em <a class="xref" href="ch-information.pt-br.html#systemd-upgrade-default-init-system" title="5.6. A atualização instala o novo sistema init padrão para Jessie">Seção 5.6, “A atualização instala o novo sistema init padrão para Jessie”</a>.
</p><p>
  Isso é necessário porque o hospedeiro Wheezy não possui funcionalidades para
inicializar um sistema executando o systemd.
</p><p>
  Você deve ser capaz de mudar para o systemd dentro do hóspede LXC uma vez
que você tenha atualizado o sistema <span class="emphasis"><em>hospedeiro</em></span> para
Jessie. Veja o próximo parágrafo para as coisas que precisam ser adaptadas
em hospedeiros Jessie.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="issues-lxc-jessie-host"></a>5.8.2. Atualizando hóspedes LXC em execução sob hospedeiros Jessie</h3></div></div></div><p>
  Para ser capaz de inicializar hóspedes LXC com systemd, você precisa adaptar
a sua configuração do contêiner LXC. A configuração do contêiner pode
normalmente ser encontrada em
<code class="filename">/var/lib/lxc/<em class="replaceable"><code>NOME_DO_CONTEINER</code></em>/config</code>.
Você precisa adicionar os dois seguintes ajustes na configuração:
</p><pre class="screen">
lxc.autodev = 1
lxc.kmsg = 0
</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="issues-lxc-further-docu"></a>5.8.3. Informações adicionais</h3></div></div></div><p>
  Você pode encontrar informações adicionais sobre LXC no Debian <a class="ulink" href="https://wiki.debian.org/LXC" target="_top">no wiki do Debian</a>.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="cryptsetup-luks-whirlpool"></a>5.9. Migração manual de discos criptografados com LUKS whirlpool (configurações
não padrão)</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
      Esta seção é apenas para pessoas que criaram discos criptografados com LUKS
utilizando a hash whirlpool. O debian-installer <span class="emphasis"><em>nunca</em></span>
suportou a criação de tais discos.
    </p></td></tr></table></div><p>
    Caso você tenha configurado <span class="emphasis"><em>manualmente</em></span> um disco
criptografado com LUKS whirlpool, precisará migrá-lo manualmente para uma
hash mais forte. Você pode verificar se o seu disco está usando whirlpool
utilizando o seguinte comando:
  </p><pre class="screen">
# /sbin/cryptsetup luksDump <em class="replaceable"><code>&lt;disk-device&gt;</code></em> | grep -i whirlpool
</pre><p>
    Para mais informações sobre migração, por favor, veja o item <span class="quote">“<span class="quote">8.3
Gcrypt 1.6.x and later break Whirlpool</span>”</span> da <a class="ulink" href="https://code.google.com/p/cryptsetup/wiki/FrequentlyAskedQuestions" target="_top">FAQ
cryptsetup</a>.
  </p><div class="caution"><table border="0" summary="Caution"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Cuidado]" src="images/caution.png" /></td><th align="left">Cuidado</th></tr><tr><td align="left" valign="top"><p>
      Caso você tenha um tal disco, o <code class="systemitem">cryptsetup</code><a id="idp49946624" class="indexterm"></a> recusará descriptografá-lo por
padrão. Caso o seu disco raiz ou outros discos de sistema (por exemplo,
/usr) estejam criptografados com whirlpool, você deve migrá-los antes da
primeira reinicialização após atualizar o <code class="systemitem">cryptsetup</code><a id="idp49948752" class="indexterm"></a>.
    </p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="gnome-3d"></a>5.10. A área de trabalho GNOME necessita placa gráfica 3D básica</h2></div></div></div><p>
    A área de trabalho GNOME 3.14 na Jessie não tem mais suporte alternativo
para máquinas sem placas gráficas 3D básicas. Para funcionar adequadamente,
é necessário um PC suficientemente recente (qualquer PC fabricado nos
últimos 10 anos deve ter o suporte necessário a SSE2) ou, para arquiteturas
diferentes de i386 e amd64, um adaptador gráfico com aceleração 3D com
drivers EGL.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="gnome-fglrx"></a>5.11. A área de trabalho GNOME não funciona com o driver FGLRX proprietário da AMD</h2></div></div></div><p>
    Ao contrário de outros drivers OpenGL, o driver FGLRX da AMD para placas
Radeon não suporta a interface EGL. Como tal, vários aplicativos GNOME,
incluindo o núcleo da área de trabalho GNOME, não iniciarão quando esse
driver estiver em uso.
  </p><p>
    Em vez disso, é recomendado usar o driver livre <code class="literal">radeon</code>,
que é o padrão na jessie.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="gnome-shortcuts"></a>5.12. Mudanças nos atalhos de teclado padrão do GNOME</h2></div></div></div><p>
    O atalhos de teclado padrão na área de trabalho GNOME mudaram para melhor
corresponder aos utilizados em alguns outros sistemas operacionais.
  </p><p>
    As definições de atalho previamente modificadas pelo usuário serão
preservadas na atualização. Essas definições ainda podem ser configuradas
pelo centro de controle do GNOME, acessível a partir do menu superior
direito, clicando no ícone <span class="quote">“<span class="quote">configurações</span>”</span>.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="base-passwd-hardening"></a>5.13. Mudanças do shell padrão dos usuários do sistema fornecidos pelo <code class="systemitem">base-passwd</code><a id="idp49960608" class="indexterm"></a></h2></div></div></div><p>
    A atualização do pacote <code class="systemitem">base-passwd</code><a id="idp49962608" class="indexterm"></a>
redefinirá o shell de alguns usuários do sistema para o shell
<span class="quote">“<span class="quote">nologin</span>”</span>. Isso inclui os seguintes usuários:
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>daemon</p></li><li class="listitem"><p>bin</p></li><li class="listitem"><p>sys</p></li><li class="listitem"><p>sync</p></li><li class="listitem"><p>games</p></li><li class="listitem"><p>man</p></li><li class="listitem"><p>lp</p></li><li class="listitem"><p>mail</p></li><li class="listitem"><p>news</p></li><li class="listitem"><p>uucp</p></li><li class="listitem"><p>proxy</p></li><li class="listitem"><p>www-data</p></li><li class="listitem"><p>backup</p></li><li class="listitem"><p>list</p></li><li class="listitem"><p>irc</p></li><li class="listitem"><p>gnats</p></li><li class="listitem"><p>nobody</p></li></ul></div><p>
    Caso a sua configuração local necessite que qualquer um desses usuários
tenha um shell, você deve dizer não à migração, ou migrar e então mudar o
shell dos usuários correspondentes. Exemplos notáveis incluem backups locais
feitos através do usuário <span class="quote">“<span class="quote">backup</span>”</span> com autenticação
<span class="quote">“<span class="quote">ssh-key</span>”</span>.
  </p><div class="caution"><table border="0" summary="Caution"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Cuidado]" src="images/caution.png" /></td><th align="left">Cuidado</th></tr><tr><td align="left" valign="top"><p>
      A migração acontecerá automaticamente se a sua prioridade de pergunta do
debconf for <span class="quote">“<span class="quote">alta</span>”</span> ou superior.
    </p></td></tr></table></div><p>
      Caso você saiba que quer manter o shell atual de um determinado usuário,
você pode pré-configurar as perguntas usando o seguinte:
  </p><pre class="screen">
echo 'base-passwd base-passwd/system/<em class="replaceable"><code>nome_do_usuario</code></em>/shell/<em class="replaceable"><code>shell-atual-modificado</code></em>/_usr_sbin_nologin boolean false' | debconf-set-selections
</pre><p>
    Onde <em class="replaceable"><code>nome_do_usuario</code></em> é o nome do usuário em
questão e <em class="replaceable"><code>shell-atual-modificado</code></em> é o nome
modificado do shell. A modificação é feita substituindo todos os caracteres
que não sejam alfanuméricos, hifens e sublinhados por sublinhados. Por
exemplo, /bin/bash torna-se _bin_bash.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="kde-kontact"></a>5.14. Migração para os novos E-mail, Calendário e Contatos (Kontact) do KDE</h2></div></div></div><p>
    O sistema de gerenciamento de informações pessoais Kontact recebeu uma
grande atualização. A nova versão torna muito maior o uso da indexação de
metadados e os dados de cada usuário devem ser migrados para esses novos
índices.
  </p><p>
    E-mail, eventos do calendário e contatos da lista de endereços são
automaticamente migrados quando o usuário fizer login e o componente
relevante for iniciado. Algumas configurações avançadas, tais como filtros
de e-mail e modelos personalizados, necessitam de intervenção
manual. Detalhes adicionais e sugestões de solução de problemas estão
coletados na <a class="ulink" href="https://wiki.debian.org/KDE/Jessie/kontact" target="_top">Wiki do
Debian</a>.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="missing-virtual-consoles"></a>5.15. Falta de consoles virtuais (<span class="quote">“<span class="quote">getty</span>”</span>s) com múltiplos ambientes
de área de trabalho</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
      Esse problema está atualmente relatado como corrigido na Jessie. Se você
ainda for capaz de reproduzi-lo, então, por favor, acompanhe o <a class="ulink" href="https://bugs.debian.org/766462" target="_top">bug #766462 do Debian</a>. Note que você pode ter
que desarquivar o problema primeiro (por favor, consulte a documentação do
<a class="ulink" href="https://www.debian.org/Bugs/server-control" target="_top">servidor de controle
BTS do Debian</a> sobre como desarquivar bugs).
    </p></td></tr></table></div><p>
    Caso você tenha múltiplos ambientes de área de trabalho instalados, é
possível que nenhum dos <span class="quote">“<span class="quote">consoles virtuais</span>”</span> apresente um aviso
de login.
  </p><p>
    Esse problema parece ocorrer quando <code class="systemitem">plymouth</code><a id="idp49996016" class="indexterm"></a>, <code class="systemitem">systemd</code><a id="idp49997680" class="indexterm"></a> e GNOME estão todos instalados. Esse
problema está relatado como <a class="ulink" href="https://bugs.debian.org/766462" target="_top">bug #766462 do
Debian</a>.
  </p><p>
     Foi relatado que removendo o argumento <span class="quote">“<span class="quote">splash</span>”</span> da linha de
comando do kernel pode-se contornar o problema. Por favor, veja o
<code class="filename">/etc/default/grub</code> e lembre-se de executar
<code class="literal">update-grub</code> após atualizar o arquivo.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idp50002128"></a>5.16. <span class="quote">“<span class="quote">VGA signal out of range</span>”</span> / tela em branco durante a
inicialização com o grub-pc</h2></div></div></div><p>
    Há um problema de compatibilidade no <code class="systemitem">grub-pc</code><a id="idp50004368" class="indexterm"></a> com placas gráficas mais antigas (por
exemplo, a <span class="quote">“<span class="quote">ATI Rage 128 Pro Ultra TR</span>”</span>) que pode fazer com que
uma tela em branco seja mostrada durante a inicialização. O monitor pode
emitir uma mensagem <span class="quote">“<span class="quote">VGA signal out of range</span>”</span> (ou algo
semelhante).
  </p><p>
    Uma solução simples é definir <code class="literal">GRUB_TERMINAL=console</code> em
<code class="filename">/etc/default/grub</code>.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idp50008640"></a>5.17. Validação mais rigorosa de arquivos cron no crontab</h2></div></div></div><p>
    O programa <code class="literal">crontab</code> agora é mais rigoroso e pode se
recusar a salvar um arquivo cron modificado caso ele seja inválido. Caso
você tenha problemas com o <code class="literal">crontab -e</code>, por favor, revise
o seu crontab em busca de erros existentes.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="perl-module-load-permissions"></a>5.18. Mudança no tratamento dos caminhos de módulo ilegíveis pelo <code class="systemitem">perl</code><a id="idp50013472" class="indexterm"></a></h2></div></div></div><p>
     A partir da versão 5.18 (e 5.20, que está incluída na Jessie), o Perl sairá
com um erro fatal caso ele encontre caminhos de módulo ilegíveis em
<code class="literal">@INC</code>. O comportamento anterior era ignorar tais
entradas. É recomendado verificar o conteúdo do <code class="literal">@INC</code> em
seu ambiente em busca de diretórios que não possam ser lidos por todo mundo
e tomar a medida apropriada.
  </p><p>
    Você pode ver o <code class="literal">@INC</code> padrão para Perl executando
<span class="command"><strong>perl -V</strong></span>.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="ganeti-upgrade-issues"></a>5.19. Considerações de atualização para clusters Ganeti</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ganeti-upgrade-DRBD-UUIDs"></a>5.19.1. Problema ao atualizar clusters Ganeti com instâncias suportadas por DRBD
[corrigido na 8.1]</h3></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>
        Esse problema foi corrigido no lançamento pontual Jessie 8.1.
      </p></td></tr></table></div><p>
       A versão do <code class="systemitem">ganeti</code><a id="idp50023184" class="indexterm"></a> (2.12.0-3)
lançada com a Jessie não suporta migrações de instalações que utilizam a
versão 2.5 ou mais antigas (incluindo Wheezy) nos casos onde há instâncias
com discos DRBD. Espera-se que esse problema seja corrigido em um lançamento
pontual, e recomenda-se que você não atualize clusters Ganeti afetados
enquanto isso. Você pode encontrar mais informações sobre esse problema no
<a class="ulink" href="https://bugs.debian.org/783186" target="_top">bug #783186 do Debian</a>.
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="ganeti-upgrade-general"></a>5.19.2. Notas gerais sobre a atualização de clusters Ganeti</h3></div></div></div><p>
       O procedimento recomendado para atualizar um cluster Ganeti da versão do
<code class="systemitem">ganeti</code><a id="idp50027952" class="indexterm"></a> da Wheezy (2.5.2-1) para o da
Jessie (2.12.0-3) é parar todas as instâncias e então atualizar e
reinicializar todos os nós de uma só vez. Isso garantirá que todas as
instâncias funcionem com a versão do hypervisor da Jessie e que todos os nós
funcionem com as mesmas versões do Ganeti e DRBD.
    </p><p>
       Note que a execução de um cluster com um misto de nós 2.5 e 2.12 não é
suportado. Também note que, dependendo do hypervisor, migrações em tempo
real de instâncias podem não funcionar entre as versões do hypervisor da
Wheezy e da Jessie.
    </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idp50030736"></a>5.20. Novos requisitos para execução de arquivos no Samba4</h2></div></div></div><p>
    Caso um cliente solicite que um arquivo deve ser <span class="quote">“<span class="quote">aberto para
execução</span>”</span>, o Samba4 exigirá que o bit executável esteja ativado no
arquivo, além das permissões normais de leitura. Isso também faz com que os
scripts <span class="quote">“<span class="quote">netlogon</span>”</span> sejam silenciosamente ignorados caso eles
não tenham esse bit executável ativado.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="cryptsetup-busybox"></a>5.21. O cryptsetup pode quebrar a inicialização com BUSYBOX=n</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>Esta seção se aplica apenas a pessoas que alteraram manualmente o seu
<code class="filename">/etc/initramfs-tools/initramfs.conf</code> para não usar o
busybox.
    </p></td></tr></table></div><p>
    Caso você tenha <span class="emphasis"><em>tanto</em></span> o <code class="systemitem">busybox</code><a id="idp50037760" class="indexterm"></a> quanto o <code class="systemitem">cryptsetup</code><a id="idp50039456" class="indexterm"></a> instalados, além do initramfs
configurado para <span class="emphasis"><em>não</em></span> usar o busybox, então ele pode
tornar o seu sistema não inicializável.
  </p><p>
    Por favor, verifique o valor do sua configuração do BUSYBOX no
<code class="filename">/etc/initramfs-tools/initramfs.conf</code> caso você tenha
ambos os pacotes instalados. Neste momento, alternativas conhecidas são
desinstalar o <code class="systemitem">busybox</code><a id="idp50043296" class="indexterm"></a> ou definir
<code class="literal">BUSYBOX=y</code> no
<code class="filename">/etc/initramfs-tools/initramfs.conf</code>.
  </p><div class="warning"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Atenção]" src="images/warning.png" /></td><th align="left">Atenção</th></tr><tr><td align="left" valign="top"><p>
      Caso você tenha que fazer alguma mudança, por favor, lembre-se de executar
<code class="literal">update-initramfs -u</code> para atualizar o seu initramfs. Caso
contrário, você ainda pode acabar com uma inicialização quebrada.
    </p></td></tr></table></div><p>
    Por favor, veja o <a class="ulink" href="https://bugs.debian.org/783297" target="_top">bug #783297 do Debian</a>
para mais informações.
  </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="squid-incompat"></a>5.22. Backwards incompatible changes in the Squid webproxy</h2></div></div></div><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png" /></td><th align="left">Nota</th></tr><tr><td align="left" valign="top"><p>This section only applies to people that have installed the squid webproxy.
    </p></td></tr></table></div><p>
    The configuration of squid has changed in an incompatible way.  Notably some
of the squid "helpers" have changed their name.  If your configuration
relies on old features no longer present or on the old names for the
helpers, your squid service may fail to start after the upgrade.
  </p><p>
    Please see the upstream release notes for more information.  These are:
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><a class="ulink" href="http://www.squid-cache.org/Versions/v3/3.2/RELEASENOTES.html" target="_top">
Release notes for Squid 3.2</a> (The renamed helpers can be found in
<a class="ulink" href="http://www.squid-cache.org/Versions/v3/3.2/RELEASENOTES.html#ss2.6" target="_top">2.6
Helper Name Changes</a>)
        </p></li><li class="listitem"><p><a class="ulink" href="http://www.squid-cache.org/Versions/v3/3.3/RELEASENOTES.html" target="_top">
Release notes for Squid 3.3</a>
        </p></li><li class="listitem"><p><a class="ulink" href="http://www.squid-cache.org/Versions/v3/3.4/RELEASENOTES.html" target="_top">
Release notes for Squid 3.4</a>
        </p></li></ul></div><p>
  </p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch-upgrading.pt-br.html"><img src="images/prev.png" alt="Anterior" /></a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch-moreinfo.pt-br.html"><img src="images/next.png" alt="Próxima" /></a></td></tr><tr><td width="40%" align="left" valign="top">Capítulo 4. Atualizações a partir do Debian 7 (wheezy) </td><td width="20%" align="center"><a accesskey="h" href="index.pt-br.html"><img src="images/home.png" alt="Principal" /></a></td><td width="40%" align="right" valign="top"> Capítulo 6. Mais informações sobre o Debian</td></tr></table></div></body></html>