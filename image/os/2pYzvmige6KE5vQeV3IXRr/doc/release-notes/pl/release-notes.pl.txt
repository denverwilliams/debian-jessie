
  Uwagi do wydania, do dystrybucji Debian 8 (jessie), 64-bitowe PC


---------------------------------------------------------------------

Projekt Dokumentacji Debiana (http://www.debian.org/doc/)

    Niniejszy dokument jest wolnym oprogramowaniem. Można go
    rozpowszechniać i/lub modyfikować zgodnie z warunkami Licencji
    Publicznej GNU w wersji 2, opublikowanej przez Fundację Wolnego
    Oprogramowania.

    Niniejszy program rozpowszechniany jest w nadziei, iż będzie on
    użyteczny - jednak BEZ JAKIEJKOLWIEK GWARANCJI, nawet domyślnej
    gwarancji PRZYDATNOŚCI HANDLOWEJ albo PRZYDATNOŚCI DO OKREŚLONYCH
    ZASTOSOWAŃ. Więcej informacji zawiera Powszechna Licencja
    Publiczna GNU.

    Do niniejszego dokumentu powinien być dołączony egzemplarz
    Powszechnej Licencji Publicznej GNU (GNU General Public License);
    jeśli nie - proszę napisać do Free Software Foundation, Inc., 675
    Mass Ave,Cambridge, MA 02139, USA.

    Tekst licencji można znaleźć również na stronie http://
    www.gnu.org/licenses/gpl-2.0.html (http://www.gnu.org/licenses/
    gpl-2.0.html) i w /usr/share/common-licenses/GPL-2 w dystrybucji
    Debian.

---------------------------------------------------------------------

Spis treści

1. Wstęp

    1.1. Zgłaszanie błędów w tym dokumencie
    1.2. Wysyłanie sprawozdań aktualizacji
    1.3. Źródła niniejszego dokumentu

2. Nowości w dystrybucji Debian 8

    2.1. Obsługiwane architektury
    2.2. Co nowego w dystrybucji?

        2.2.1. Płyty CD, DVD i BD
        2.2.2. Zmiany w środowisku GNOME
        2.2.3. Nowy domyślny system init (systemd)
        2.2.4. Bezpieczeństwo
        2.2.5. MariaDB obecny obok MySQL
        2.2.6. Aplikacje PHP
        2.2.7. Odmiana Debian Games
        2.2.8. Wieści z odmiany Debian Med
        2.2.9. Wieści z odmiany Debian Science
        2.2.10. Wieści z odmiany Debian Geographical Information
            Systems (GIS)
        2.2.11. Wieści od zespołu Debian Java

3. System instalacyjny

    3.1. Co nowego w systemie instalacyjnym?

        3.1.1. Główne zmiany
        3.1.2. Instalacja automatyczna

4. Aktualizacja z Debiana 7 (wheezy)

    4.1. Przygotowanie do aktualizacji

        4.1.1. Kopia zapasowa danych i konfiguracji
        4.1.2. Uprzednie ostrzeżenie użytkowników
        4.1.3. Przygotowanie do przestoju usług
        4.1.4. Przygotowanie do odzyskiwania
        4.1.5. Przygotowanie bezpiecznego środowiska do uaktualnienia

    4.2. Sprawdzenie statusu systemu

        4.2.1. Przejrzenie zaplanowanych działań w menedżerze
            pakietów
        4.2.2. Wyłączenie priorytetów APT-a (APT pinning)
        4.2.3. Sprawdzenie statusu pakietów
        4.2.4. Sekcja proposed-updates
        4.2.5. Nieoficjalne źródła

    4.3. Przygotowanie źródeł do APT-a

        4.3.1. Dodanie internetowych źródeł APT-a
        4.3.2. Dodanie źródeł APT-a do lokalnego serwera lustrzanego
        4.3.3. Dodanie źródeł APT-a do nośników optycznych

    4.4. Aktualizacja pakietów

        4.4.1. Zapisanie sesji
        4.4.2. Aktualizowanie listy pakietów
        4.4.3. Zapewnienie wystarczającej ilości wolnego miejsca
        4.4.4. Minimalna aktualizacja systemu
        4.4.5. Aktualizacja systemu

    4.5. Możliwe problemy przy aktualizacji

        4.5.1. Podczas aktualizacji dystrybucji pojawia się błąd „Nie
            udało się wykonać natychmiastowej konfiguracji”.
        4.5.2. Spodziewane usunięcia pakietów
        4.5.3. Konflikty lub pętle „wymaga wstępnie”
        4.5.4. Konflikty plików
        4.5.5. Zmiany konfiguracji
        4.5.6. Zmiany sesji na konsoli
        4.5.7. Pakiety specjalnej troski

    4.6. Aktualizacja jądra i powiązanych pakietów

        4.6.1. Instalowanie metapakietu jądra
        4.6.2. Zmiany w montowaniu i sprawdzaniu systemu plików /usr

    4.7. Sprawy do zrobienia przed ponownym uruchomieniem
    4.8. Przygotowanie do kolejnego wydania

        4.8.1. Czyszczenie usuniętych pakietów

    4.9. Przestarzałe składniki
    4.10. Przestarzałe pakiety

        4.10.1. Pakiety atrapy

5. Problemy, które należy mieć na uwadze, a dotyczące wydania jessie

    5.1. Ograniczenia we wsparciu bezpieczeństwa

        5.1.1. Stan bezpieczeństwa przeglądarek internetowych
        5.1.2. Brak wsparcia bezpieczeństwa dla ekosystemów wokół
            libv8 i Node.js
        5.1.3. Wcześniejsze zakończenie wsparcia bezpieczeństwa
            MediaWiki.

    5.2. Serwer OpenSSH zyskał domyślne ustawienie: PermitRootLogin
        without-password
    5.3. Kompatybilność Puppet 2.7 / 3.7
    5.4. Zmiany w zachowaniu PHP 5.6 wynikające z aktualizacji
    5.5. Niekompatybilne zmiany w Apache HTTPD 2.4
    5.6. Aktualizacja instaluje nowy domyślny system init wydania
        Jessie

        5.6.1. Bardziej rygorystyczna obsługa błędów montowań w
            trakcie rozruchu przez systemd
        5.6.2. Zalecane wyczyszczenie przestarzałych skryptów init
        5.6.3. Lokalnie zmodyfikowane skrypty init mogą wymagać
            przepisania pod systemd
        5.6.4. Do interakcji w czasie rozruchu z systemd wymagany
            jest Plymouth
        5.6.5. Interakcja pomiędzy logind i acpid
        5.6.6. Nieobsługiwane funkcje crypttab przez systemd (np.
            "keyscript=...")
        5.6.7. systemd: wywołuje SIGKILL zbyt wcześnie [naprawiono w
            8.1]
        5.6.8. systemd: zachowanie polecenia "halt"

    5.7. Wymagane opcje konfiguracji jądra w Jessie
    5.8. Zastrzeżenia przy aktualizacji gospodarzy i kontenerów LXC

        5.8.1. Aktualizacja gości LXC na gospodarzu z wydaniem Wheezy
        5.8.2. Aktualizacja gości LXC na gospodarzu z wydaniem Jessie
        5.8.3. Więcej informacji

    5.9. Ręczna migracja dysków szyfrowanych whirlpool w LUKS
        (konfiguracje niestandardowe)
    5.10. Pulpit GNOME wymaga prostej grafiki 3D
    5.11. Pulpit GNOME nie działa z własnościowymi sterownikami FGLRX
        do AMD
    5.12. Zmiany w domyślnych skrótach klawiszowych GNOME
    5.13. Zmiany w domyślnych powłokach użytkowników systemowych
        udostępnianych przez base-passwd
    5.14. Migracja do nowej poczty, kalendarza i kontaktów (Kontact)
        KDE
    5.15. Brak wirtualnych konsoli ("getty") przy kilku środowiskach
        graficznych
    5.16. "VGA signal out of range" / pusty ekran przy rozruchu z
        grub-pc
    5.17. Ściślejsze sprawdzanie plików crona w crontab
    5.18. Zmiana w obsłudze nieodczytywalnych ścieżek modułów przez
        perl
    5.19. Zastrzeżenia przy aktualizacji klastrów Ganeti

        5.19.1. Problemy przy aktualizacji klastrów Ganeti z
            instancjami używającymi DRBD [naprawiony w 8.1]
        5.19.2. Ogólne uwagi przy aktualizacji klastrów Ganeti

    5.20. Nowe wymaganie do wykonywania plików w Samba4
    5.21. Cryptsetup może uniemożliwić rozruch z BUSYBOX=n
    5.22. Backwards incompatible changes in the Squid webproxy

6. Więcej informacji na temat projektu Debian

    6.1. Dodatkowe informacje
    6.2. Pomoc

        6.2.1. Listy dyskusyjne
        6.2.2. IRC

    6.3. Zgłaszanie błędów
    6.4. Uczestnictwo w rozwoju Debiana

A. Zarządzanie wydaniem wheezy przed aktualizacją

    A.1. Uaktualnienie wydania wheezy
    A.2. Sprawdzenie listy źródeł
    A.3. Usunięcie przestarzałych plików konfiguracyjnych
    A.4. Aktualizacja przestarzałych kodowań do UTF-8

B. Współtwórcy uwag do wydania
Indeks
glosariusz

Rozdział 1. Wstęp

    Niniejszy dokument informuje użytkowników dystrybucji Debian o
    głównych zmianach w wersji 8 (nazwa kodowa jessie).

    Informacje o wydaniu zawierają wskazówki na temat bezpiecznej
    aktualizacji z wydania 7 (nazwa kodowa wheezy) do wydania
    bieżącego oraz informacje o znanych, ewentualnych błędach, na
    które mogą natknąć się użytkownicy w trakcie tego procesu.

    Aktualną wersję dokumentu można pobrać z https://www.debian.org/
    releases/jessie/releasenotes (https://www.debian.org/releases/
    jessie/releasenotes) . W razie wątpliwości, proszę sprawdzić datę
    wydania na jej pierwszej stronie.

    Ostrzeżenie

    Proszę zwrócić uwagę, że nie jest to opis wszystkich znanych
    błędów, a tylko wybór, który opiera się na przewidywanej ilości
    ich wystąpienia oraz ewentualnych następstwach.

    Proszę zauważyć, że wspierana i dokumentowana jest jedynie
    aktualizacja z poprzedniej wersji Debiana (wheezy). W przypadku
    aktualizacji ze starszych wydań, sugerujemy uprzednie zapoznanie
    się z poprzednią wersją informacji o wydaniu i aktualizację do
    Debiana wheezy.

1.1. Zgłaszanie błędów w tym dokumencie

    Staraliśmy się przetestować wszystkie możliwe kombinacje
    poszczególnych kroków aktualizacji opisanych w tym dokumencie
    oraz przewidzieć błędy, na jakie mogą natrafić użytkownicy tej
    wersji dystrybucji.

    W przypadku znalezienia błędów (nieprawidłowej bądź brakującej
    informacji w dokumencie), proszę zgłosić to w systemie śledzenia
    błędów (https://bugs.debian.org/) wobec pakietu release-notes (w
    języku angielskim). Wcześniej można przejrzeć listę zauważonych
    błędów (https://bugs.debian.org/release-notes) , aby uniknąć
    duplikowania zgłoszeń. Proszę dodawać informację do istniejących
    wpisów, jeśli poprawi to i uzupełni zawartość zgłoszeń.
    Informacje o błędach w samym tłumaczeniu uwag do wydania prosimy
    przesyłać na polskojęzyczną listę debian-l10n-polish.

    Cenimy i zalecamy zgłaszanie łatek do źródeł tego dokumentu.
    Więcej informacji o pobieraniu ich można znaleźć w Sekcja 1.3,
    „Źródła niniejszego dokumentu”.

1.2. Wysyłanie sprawozdań aktualizacji

    Z chęcią przyjmiemy każdą informację (w języku angielskim)
    dotyczącą aktualizacji z wydania wheezy do jessie. Aby przesłać
    te informacje, proszę zgłosić błąd w systemie śledzenia błędów
    (https://bugs.debian.org/) w odniesieniu do pakietu
    upgrade-reports dołączając swoje wyniki. Prosimy skompresować
    załączniki, używając do tego programu gzip.

    Do zgłoszenia prosimy załączyć następujące informacje:

      * Status bazy pakietów przed i po aktualizacji: status bazy
        danych dpkg dostępny w /var/lib/dpkg/status i informacje o
        stanie pakietów apt, zawarte w pliku /var/lib/apt/
        extended_states. Przed aktualizacją powinno się wykonać kopię
        zapasową, zgodnie z Sekcja 4.1.1, „Kopia zapasowa danych i
        konfiguracji”, lecz kopię /var/lib/dpkg/status można znaleźć
        również w /var/backups.

      * Logi sesji utworzone za pomocą script, zgodnie z opisem w
        Sekcja 4.4.1, „Zapisanie sesji”.

      * Logi menedżera apt dostępne w /var/log/apt/term.log lub
        dzienniki aptitude, z /var/log/aptitude.

    Uwaga

    Przed umieszczeniem logów, powinno się poświęcić nieco czasu na
    usunięcie z nich wszystkich prywatnych i/lub poufnych informacji,
    ponieważ zostaną one udostępnione w publicznej bazie danych.

1.3. Źródła niniejszego dokumentu

    Źródła niniejszego dokumentu są przechowywane w formacie DocBook
    XML. Wersja HTML jest generowana za pomocą docbook-xsl i xsltproc
    . Wersja PDF jest tworzona przy użyciu dblatex lub xmlroff.
    Źródła informacji o wydaniu są dostępne jako repozytorium SVN 
    Projektu Dokumentacji Debiana. Żeby uzyskać dostęp do
    poszczególnych plików przez sieć i przejrzeć zmiany można użyć
    interfejsu WWW (https://anonscm.debian.org/viewvc/ddp/manuals/
    trunk/release-notes/) . Więcej informacji o uzyskiwaniu dostępu
    do SVN znajduje się na stronach informacji o SVN Projektu
    Dokumentacji Debiana (https://www.debian.org/doc/cvs) .

Rozdział 2. Nowości w dystrybucji Debian 8

    Wiki (https://wiki.debian.org/NewInJessie) zawiera więcej
    informacji na ten temat.

2.1. Obsługiwane architektury

    Debian 8 obsługuje dwie nowe architektury:

      * arm64, 64-bitowy port na komputery ARM.
   
      * ppc64el, 64-bitowy port little-endian na komputery POWER.

    Architektury oficjalnie wspierane przez dystrybucję Debian 8:

      * Komputery 32-bitowe ("i386") i 64-bitowe ("amd64") typu PC

      * 64-bitowe ARM ("arm64")

      * ARM EABI ("armel")

      * ARMv7 (EABI hard-float ABI, "armhf")
   
      * MIPS ("mips" (big-endian) i "mipsel" (little-endian))

      * PowerPC ("powerpc")

      * 64-bitowe PowerPC little-endian ("ppc64el")

      * IBM System z ("s390x")

    Trzy architektury będące częścią Debiana 7 nie ukazały się w
    wydaniu jessie.

      * Zgodnie z ogłoszeniem które ukazało się przy wydaniu Debiana
        7, 32-bitowy port s390 został porzucony i zastąpiony przez
        s390x.
   
      * Dodatkowo, porty na IA-64 i Sparc usunięto z wydania ze
        względu na niewystarczające wsparcie ze strony deweloperów.
        Sparc był wspieraną architekturą od Debiana w wersji 2.1
        (1999 r.), a ia64 wprowadzono w Debianie 3.0 (2002 r.).

   

    Finally, the Debian ports to the FreeBSD kernel, kfreebsd-amd64
    and kfreebsd-i386, included as technology previews in Debian 6.0
    and Debian 7, are not part of this release.

    Więcej o statusie portów i informacjach charakteryzujących porty
    można przeczytać na Stronach o portach Debiana (https://
    www.debian.org/ports/) .

2.2. Co nowego w dystrybucji?

    Nowe wydanie Debiana zawiera więcej programów niż poprzednie.
    Obecna dystrybucja zawiera ponad 12253 nowych pakietów, z ogólnej
    liczby 43512 w tym wydaniu. Większość oprogramowania została
    zaktualizowana (ponad 24573 pakietów, co stanowi 66% wszystkich
    pakietów w wheezy). Znaczna liczba pakietów (ponad 5441, 14%
    pakietów w wheezy) została z różnych powodów usunięta z
    dystrybucji. W przypadku tych pakietów nie będą widoczne żadne
    aktualizacje. Zostaną one również oznaczone jako „przestarzałe” w
    interfejsach zarządzania pakietami (więcej w Sekcja 4.10,
    „Przestarzałe pakiety”).

    Debian jak zwykle dostarcza wiele środowisk i aplikacji
    graficznych. Są między nimi środowiska graficzne GNOME 3.14, KDE
    4.11, Xfce 4.10 oraz LXDE.

    Zaktualizowano również pakiety biurowe:

      * LibreOffice zaktualizowano do wersji 4.3;

      * Calligra zaktualizowano do wersji 2.8;

      * GNUcash zaktualizowano do wersji 2.6;

      * GNUmeric zaktualizowano do wersji 1.12;

      * Abiword zaktualizowano do wersji 3.0.

    Aktualizacje innych aplikacji biurkowych obejmują uaktualnienie
    Evolution 3.12.

    Poza wieloma innymi, to wydanie zawiera następujące aktualizacje
    oprogramowania:

    +---------------------------------------------------------------+
    |           Pakiet            | Wersja w 7 (wheezy) |Wersja w 8 |
    |                             |                     | (jessie)  |
    |-----------------------------+---------------------+-----------|
    |Apache                       |2.2.22               |2.4.10     |
    |-----------------------------+---------------------+-----------|
    |Serwer DNS BIND              |9.8                  |9.9        |
    |-----------------------------+---------------------+-----------|
    |Courier MTA                  |0.68                 |0.73       |
    |-----------------------------+---------------------+-----------|
    |Dia                          |0.97.2               |0.97.3     |
    |-----------------------------+---------------------+-----------|
    |Domyślny serwer pocztowy Exim|4.80                 |4.84       |
    |-----------------------------+---------------------+-----------|
    |GNU Compiler Collection jako |4.7 na pecetach, 4.6 |4.9        |
    |domyślny kompilator          |na pozostałych       |           |
    |-----------------------------+---------------------+-----------|
    |Biblioteka C GNU             |2.13                 |2.19       |
    |-----------------------------+---------------------+-----------|
    |lighttpd                     |1.4.31               |1.4.35     |
    |-----------------------------+---------------------+-----------|
    |Obraz jądra Linux            |seria 3.2            |seria 3.16 |
    |-----------------------------+---------------------+-----------|
    |OpenLDAP                     |2.4.31               |2.4.40     |
    |-----------------------------+---------------------+-----------|
    |OpenSSH                      |6.0p1                |6.7p1      |
    |-----------------------------+---------------------+-----------|
    |Perl                         |5.14                 |5.20       |
    |-----------------------------+---------------------+-----------|
    |PHP                          |5.4                  |5.6        |
    |-----------------------------+---------------------+-----------|
    |Postfix MTA                  |2.9                  |2.11       |
    |-----------------------------+---------------------+-----------|
    |PostgreSQL                   |9.1                  |9.4        |
    |-----------------------------+---------------------+-----------|
    |Python 3                     |3.2                  |3.4        |
    |-----------------------------+---------------------+-----------|
    |Samba                        |3.6                  |4.1        |
    +---------------------------------------------------------------+

2.2.1. Płyty CD, DVD i BD

    Oficjalna dystrybucja Debian zawiera od 9 do 10 binarnych płyt 
    DVD lub od 75 do 85 binarnych płyt CD (zależnie od architektury),
    oraz 10 źródłowych płyt DVD lub 59 źródłowych płyt CD. Dodatkowo
    istnieje wieloarchitekturowa płyta DVD, z wydaniem dla
    architektur amd64 oraz i386, razem z kodem źródłowym. Na
    architekturach amd64 i i386 Debian został również wydany jako dwa
    obrazy Blu-ray (BD), tyle samo zajmuje kod źródłowy. Ze względu
    na wielkości, część dużych pakietów została usunięta z płyt CD;
    pakiety te mieszczą się na płytach DVD i BD (i tam je
    pozostawiono).

2.2.2. Zmiany w środowisku GNOME

    Przy aktualizacji do wersji 3.14 dokonano wielu usprawnień w
    zakresie użyteczności i wprowadzono nowe funkcje.

    Odświeżono projekt powłoki GNOME. Dolny obszar powiadomień jest
    większy, łatwiejszy w użyciu i mniej prawdopodobne aby wysunął
    się przypadkowo. Nowy obszar systemowy w górnym prawym rogu
    grupuje wszystkie potrzebne ustawienia w jednym miejscu.

    Wygaszacz ekranu został zastąpiony przez "ekran blokady", który
    nadal udostępnia pewne podstawowe funkcje gdy użytkownik jest
    nieobecny. Można na przykład wstrzymać odtwarzanie muzyki,
    odebrać komunikat o nowej wiadomości poczty elektronicznej lub
    zmienić ustawienie jasności ekranu, a wszystko to bez podawania
    hasła. Gdy wciśnie się klawisz escape lub zacznie wprowadzać
    hasło, następuje powrót do ekranu logowania. Aby
    zachować spójność, menedżer logowania zachowuje się tak samo.

    Wiele aplikacji, w tym menedżer plików Nautilus, edytor tekstu
    gedit i przeglądarka dokumentów evince przeprojektowano aby
    uzyskać bardziej zwarty wygląd, łącząc belkę tytułową okna z
    paskiem narzędzi. Pozostawiono w ten sposób więcej miejsca na
    dokumenty nad którymi pracuje użytkownik. Podobne zmiany dotknęły
    standardowe okna dialogowe.

    Zintegrowano w pełni obsługę ekranów dotykowych, w tym także
    intuicyjnych gestów wykorzystujących kilka palców. GNOME
    obsługuje teraz ekrany o wysokiej rozdzielczości (HiDPI), w pełni
    wykorzystując je do uzyskania jak najprecyzyjniejszego obrazu.

    GNOME obsługuje geolokalizację oraz zawiera aplikacje do
    nawigacji i przeglądania map.

    Dokumentacja dla użytkowników jest pełniejsza i zawiera
    przewodniki wideo dla nowych użytkowników.

    Więcej informacji można znaleźć w uwagach do wydania GNOME 3.14
    (https://help.gnome.org/misc/release-notes/3.14/) .

2.2.3. Nowy domyślny system init (systemd)

    Wprowadzony w dystrybucji Debian 7 systemd jest teraz domyślnym
    systemem init. Udostępnia zaawansowane możliwości monitorowania,
    tworzenia logów i zarządzania usługami.

    Choć został zaprojektowany jako bezpośredni zamiennik sysvinit (i
    co za tym idzie używa istniejących skryptów init SysV) to pakiet
    systemd może być w bezpieczny sposób zainstalowany obok sysvinit
    i uruchamiany opcją jądra init=/bin/systemd. Pakiet systemd-sysv
    zapewnia zamiennik /sbin/init.

    Więcej informacji na ten temat można znaleźć na wiki (http://
    wiki.debian.org/systemd) Debiana (w języku angielskim).

2.2.4. Bezpieczeństwo

    Przestarzały protokół SSLv3 został wyłączony w tym wydaniu. Wiele
    systemowych bibliotek kryptograficznych oraz aplikacji
    serwerowych i klienckich skompilowano lub skonfigurowano bez
    obsługi tego protokołu.

    Jądro Linux posiada mechanizm bezpieczeństwa który zapobiega
    wielu atakom przez dowiązania symboliczne. Jest on domyślnie
    włączony w jądrach Linux systemu Debian. Dzięki temu nie da się
    wykorzystać błędów związanych z /tmp i nie są one traktowane jako
    zagrożenie bezpieczeństwa. Osoby korzystające z własnych jąder
    Linux powinny włączyć tę funkcję za pomocą następującego
    ustawienia sysctl:

    echo 1 > /proc/sys/fs/protected_symlinks

    W rzadkich przypadkach wsparcie bezpieczeństwa pakietów obecnych
    w wydaniu Debiana musi zakończyć się przed końcem wsparcia całej
    dystrybucji. Wydanie Jessie zawiera nowy pakiet
    (debian-security-support) który ostrzega o takich przypadkach.
    Informuje również o pakietach z ograniczonym wsparciem
    bezpieczeństwa. Z tego powodu zaleca się zainstalowanie pakietu
    debian-security-support we wszystkich systemach wrażliwych na
    zagrożenia bezpieczeństwa.

    Kontynuując proces rozpoczęty w wydaniu Wheezy zbudowano jeszcze
    więcej pakietów z włączonymi opcjami kompilatora wzmacniających
    bezpieczeństwo. Aby zwiększyć ten pozytywny efekt, zmieniono
    opcję ochrony stosu na stack-protector-strong. Proszę zauważyć,
    że opcje kompilatora wzmacniające bezpieczeństwo nie są domyślnie
    włączone w gcc, dlatego nie są używane automatycznie przy
    lokalnie budowanych programach.

    Nowością w tym wydaniu jest pakiet needrestart. Jeśli jest
    zainstalowany, sprawdza po każdej aktualizacji za pomocą APT-a,
    czy któraś z działających usług wymaga ponownego uruchomienia aby
    skorzystać z wprowadzonych zmian w zaktualizowanych pakietach i
    proponuje wykonanie tej operacji. Zaleca się zainstalowanie
    pakietu needrestart aby zapewnić wprowadzenie aktualizacji
    związanych z bezpieczeństwem w bibliotekach do działających
    usług.

2.2.5. MariaDB obecny obok MySQL

    Oprócz starszego MySQL 5.5, w wydaniu Jessie znajduje się nowa
    MariaDB 10.0. Więcej informacji znajduje się na stronie zespołu
    MySQL Debiana (http://wiki.debian.org/Teams/MySQL) . W wydaniu
    Debian 9 znajdzie się prawdopodobnie tylko jedna z nich.

    Proszę zauważyć, że wsparcie twórców MySQL 5.5 zakończy się w
    grudniu 2018 (prawdopodobnie podobnie stanie się ze wsparciem
    bezpieczeństwa ze strony Debiana), natomiast MariaDB 10.0 będzie
    otrzymywać wsparcie ze strony projektu macierzystego aż do marca
    2019.

2.2.6. Aplikacje PHP

    W wydaniu Jessie poprzez pakiet php-horde dostępny jest Horde
    Application Framework.

2.2.7. Odmiana Debian Games

    Zespół Debian Games z dumą prezentuje odmianę (http://
    blends.debian.org/blends/) Debian Games składającą się z 33
    metapakietów (https://tracker.debian.org/pkg/debian-games)
    ułatwiających instalowanie gier według kategorii. Są to między
    innymi gry strategiczne, karciane, programistyczne i symulacje.
    Debian Games umożliwia również deweloperom szybką instalację
    oprogramowania zalecanego do tworzenia gier w językach C++, Java,
    Perl, Python 3 i innych. Twórcy zawartości gier znajdą tu
    przydatne narzędzia do tworzenia strony wizualnej gier w
    games-content-dev. Strona internetowa projektu zawiera zrzuty
    ekranu, więcej informacji i zwięzły przegląd wszystkich gier w
    tym najlepsze gry Debiana (http://blends.debian.org/games/tasks/
    finest) .

2.2.8. Wieści z odmiany Debian Med

    Zespół Debian Med ponownie dokonał ponownie nie tylko znacznego
    zwiększenia liczby pakietów z dziedziny biologii i medycyny, lecz
    również poprawił ich jakość pod względem przetestowania (w
    trakcie budowania jak również przez autopkgtest). Te ulepszenia w
    wersji 2.0 metapakietów odmiany Debian Med odpowiadają na
    zapotrzebowanie w środowiskach naukowych dotyczące powtarzalnych
    wyników. Zachęcamy do odwiedzenia stron dot. zadań Debian Med
    (http://blends.debian.org/med/tasks) aby zapoznać się z pełnym
    zakresem oprogramowania biologicznego i medycznego w Debianie.

2.2.9. Wieści z odmiany Debian Science

    Dzięki ciągłej pracy zespołu Debian Science do puli pakietów
    Debiana dodano nie tylko nowe aplikacje naukowe, lecz także
    programy z nowych dziedzin nauki. Zachęcamy do odwiedzenia stron
    dot. zadań Debian Science (http://blends.debian.org/science/
    tasks) aby zapoznać się z pełnym zakresem oprogramowania
    naukowego w Debianie.

2.2.10. Wieści z odmiany Debian Geographical Information Systems
(GIS)

    W trakcie rozwoju wydania Jessie wiele zmian dokonanych w
    UbuntuGIS zostało przeniesionych na powrót do Debian GIS.
    Poprawiono współpracę między UbuntuGIS i OSGeo-Live, co
    zaowocowało nowymi pakietami i współpracownikami. Zachęcamy do
    odwiedzenia stron dot. zadań Debian GIS (http://blends.debian.org
    /gis/tasks) aby zapoznać się z pełnym zakresem oprogramowania
    GIS-owego w Debianie oraz stronę Debian GIS (https://
    wiki.debian.org/DebianGis) aby uzyskać więcej informacji.

2.2.11. Wieści od zespołu Debian Java

    Jessie zawiera 799 pakietów źródłowych (442 zaktualizowanych,
    ponad 130 nowych od wydania Wheezy) którymi opiekuje się zespół
    Java (https://qa.debian.org/developer.php?login=
    pkg-java-maintainers@lists.alioth.debian.org) . Istotne zmiany:

      * OpenJDK 7 jest nowym, obsługiwanym domyślnie środowiskiem
        uruchomieniowym Java.

      * OpenJDK 8 będzie dostępne z jessie-backports.
   
      * Wspierane są Tomcat 7 i Tomcat 8, natomiast usunięto Tomcat
        6.

      * Nowe narzędzia deweloperskie to między innymi VisualVM,
        Dynamic Code Evolution VM (openjdk-7-jre-dcevm), Gradle,
        eclipse-wtp-webtools, closure-compiler i inne.

      * Dodano androidsdk-tools (https://packages.debian.org/source/
        jessie/androidsdk-tools) .

Rozdział 3. System instalacyjny

    Instalator Debiana (Debian Installer) jest oficjalnym systemem
    instalacji w przypadku Debiana. Oferuje on wiele metod
    instalacji. To, które z nich są dostępne, zależy od używanej
    architektury.

    Obrazy instalatora wydania jessie są dostępne razem z
    przewodnikiem po instalacji na stronach Debiana (https://
    www.debian.org/releases/jessie/debian-installer/) .

    Przewodnik po instalacji jest również dołączony do pierwszego CD/
    DVD oficjalnego zestawu CD/DVD Debiana w:

    /doc/install/manual/język/index.html

    Można również zapoznać się z erratą (https://www.debian.org/
    releases/jessie/debian-installer/index#errata) programu
    debian-installer, aby poznać listę znanych błędów.

3.1. Co nowego w systemie instalacyjnym?

    W instalator Debiana włożono wiele pracy od jego ostatniego
    oficjalnego wydania wraz z dystrybucją Debian 7 dzięki czemu
    zwiększyła się obsługa sprzętu oraz dodano wiele nowych,
    interesujących funkcji.

    W niniejszych uwagach do wydania zamieszczamy jedynie główne
    zmiany w instalatorze. Szczegółowy przegląd zmian od chwili
    wydania wheezy znajduje w ogłoszeniach wydań beta i RC
    dystrybucji jessie, w archiwalnych wiadomościach (https://
    www.debian.org/devel/debian-installer/News/) instalatora Debiana.

3.1.1. Główne zmiany

    Usunięte porty

        Porzucono obsługę architektur "ia64" i "sparc" z instalatora,
        ponieważ usunięto je z archiwum.

    Nowe porty

        Instalator obsługuje teraz architektury "arm64" i "ppc64el".

    Nowy domyślny system init

        Instalator instaluje obecnie systemd jako nowy domyślny
        system init.

    Wybór środowiska

        Środowiska graficzne można wybrać podczas instalacji za
        pomocą tasksela. Proszę zauważyć, że choć można wybrać wiele
        środowisk graficznych naraz, to niektóre kombinacje mogą nie
        dać zainstalować się jednocześnie.

    Zastąpienie "--" przez "---" w parametrach rozruchowych

        Z powodu zmian po stronie jądra Linux, do oddzielania
        parametrów jądra od parametrów przestrzeni użytkownika
        obecnie używany jest separator "---" zamiast starego "--".

    Nowe języki

        Dzięki staraniom tłumaczy, Debian może być teraz
        zainstalowany w 75 językach, w tym w języku polskim. Jest to
        o jeden więcej, niż w wydaniu wheezy. Większość języków jest
        dostępnych zarówno w interfejsie tekstowych jak i
        graficznych, jednak kilka wymaga skorzystania z interfejsu
        graficznego.

        W niniejszym wydaniu dodano następujące języki:

          + Do instalatora graficznego i tekstowego dodano język
            tadżycki.

        Następujące języki mogą być wybrane wyłącznie w instalatorze
        graficznym, ponieważ ich znaki nie mogą być wyświetlone w
        interfejsie tekstowym: amharski, bengalski, dzongkha,
        gujarati, hindi, gruziński, kannada, khmerski, malajski,
        marathi, nepalski, pendżabski, tamilski, telugu, tybetański i
        ujgurski.

    Rozruch z UEFI

        W instalatorze wydania Jessie wiele UEFI zyskało
        poprawioną obsługę, podobnie jak możliwa jest instalacja na
        32-bitowym oprogramowaniu UEFI 64-bitowego jądra.

        Bezpieczny rozruch UEFI (UEFI Secure Boot) nie jest
        obsługiwany.

3.1.2. Instalacja automatyczna

    Część zmian opisanych w poprzednim rozdziale implikuje również
    zmiany w obsłudze automatycznych instalacji, za pomocą wstępnie
    skonfigurowanych plików. Oznacza to, że jeśli posiada się
    wstępnie skonfigurowane pliki działające z wydaniem wheezy
    instalatora, nie należy oczekiwać, że będą również działać z
    nowym instalatorem bez potrzeby modyfikacji.

    Przewodnik po instalacji (https://www.debian.org/releases/jessie/
    installmanual) zawiera zaktualizowany dodatek opisujący
    szczegółowo używanie wstępnej konfiguracji.

Rozdział 4. Aktualizacja z Debiana 7 (wheezy)

4.1. Przygotowanie do aktualizacji

    Przed aktualizacją zalecamy zapoznanie się z informacjami
    zawartymi w Rozdział 5, Problemy, które należy mieć na uwadze, a
    dotyczące wydania jessie. Rozdział ten opisuje również
    potencjalne trudności, niezwiązane bezpośrednio z procesem
    aktualizacji, o których warto wiedzieć przed rozpoczęciem całej
    procedury.

4.1.1. Kopia zapasowa danych i konfiguracji

    Przed zaktualizowaniem systemu zalecamy wykonanie pełnej kopii
    zapasowej, a przynajmniej kopii tych danych i konfiguracji,
    których utrata byłaby dla nas bolesna. Narzędzia i proces
    aktualizacji są dość niezawodne, lecz problem sprzętowy w trakcie
    procedury może spowodować znaczne uszkodzenie systemu.

    Główną rzeczą, którą warto skopiować jest zawartość plików /etc,
    /var/lib/dpkg, /var/lib/apt/extended_states oraz wynik polecenia
    dpkg --get-selections "*" (cudzysłów jest istotny). Jeśli do
    zarządzania pakietami wykorzystuje się program aptitude, należy
    zachować również zawartość pliku /var/lib/aptitude/pkgstates.

    Sam proces aktualizacji nie zmienia niczego w katalogu /home.
    Niektóre aplikacje (np. część zestawu Mozilla oraz środowiska
    graficzne GNOME i KDE) nadpisują istniejące ustawienia
    użytkownika wartościami domyślnymi, gdy użytkownik uruchamia dany
    program jako pierwszy. Środkiem ostrożności jest wykonanie kopii
    zapasowych ukrytych plików i katalogów (z kropką - „dotfiles”) z
    katalogów domowych użytkowników. Ta kopia może ułatwić
    odtworzenie lub przywrócenie starych ustawień. Powinno się
    również poinformować o tym pozostałych użytkowników.

    Operacja związana z instalacją pakietów musi być wykonana z
    uprawnieniami administratora, dlatego należy się zalogować na
    konto root, używając polecenia su lub wykorzystując sudo do
    uzyskania potrzebnych uprawnień.

    Przed aktualizacją należy wykonać kilka czynności, dlatego trzeba
    zapoznać się z poniższą listą:

4.1.2. Uprzednie ostrzeżenie użytkowników

    Przed każdą aktualizacją powinno się poinformować innych
    użytkowników systemu o tym fakcie, choć osoby uzyskujące dostęp
    do komputera za pomocą ssh nie powinny napotkać większych
    problemów podczas kontynuowania pracy.

    Jako dodatkowe zabezpieczenie można wykonać przed wykonaniem
    aktualizacji kopię zapasową lub odmontować partycję z katalogiem
    /home.

    Przy aktualizacji do wydania jessie konieczne jest
    zaktualizowanie jądra. Nie obędzie się więc bez ponownego
    uruchomienia komputera. Zwykle odbywa się to po zakończeniu
    aktualizacji.

4.1.3. Przygotowanie do przestoju usług

    Mogą istnieć usługi oferowane przez system, które są związane z
    pakietami objętymi aktualizacją. W takim przypadku proszę
    pamiętać, że podczas aktualizacji i konfiguracji będą one
    zatrzymane na czas zastąpienia ich przez nowszą wersję oraz nie
    będą w tym czasie dostępne.

    Dokładny czas braku dostępu do usług zależy od liczby
    aktualizowanych pakietów i od okresu, w jakim administrator
    odpowie na pytania konfiguracyjne. Proszę zwrócić uwagę, że jeśli
    proces aktualizacji nie będzie nadzorowany, a system będzie
    wymagał reakcji administratora, występuje duże prawdopodobieństwo
    trwania usług niedostępnych^[1] w dłuższym okresie.

    Jeśli aktualizowany system udostępnia usługi, które są krytyczne
    dla użytkowników bądź sieci^[2], można ograniczyć przerwę w ich
    działaniu wykonując aktualizację minimalną (zgodnie z opisem w
    Sekcja 4.4.4, „Minimalna aktualizacja systemu”) a następnie
    wykonać aktualizację jądra i ponownie uruchomić komputer
    (aktualizując pakiety związane z krytycznymi usługami). Dopiero
    później należy wykonać pełną aktualizację opisaną w Sekcja 4.4.5,
    „Aktualizacja systemu”. W ten sposób można sprawdzić, że
    krytyczne usługi działają i są dostępne w trakcie pełnej
    aktualizacji, a przerwa w działaniu będzie zminimalizowana.

4.1.4. Przygotowanie do odzyskiwania

    Choć Debian stara się zapewnić, że system będzie się uruchomiał w
    każdym przypadku to zawsze istnieje możliwość, że wystąpią
    problemy z ponownym jego uruchomieniem po dokonaniu aktualizacji.
    Rozpoznane, ewentualne problemy są omówione w tym i kolejnych
    rozdziałach uwag do wydania.

    Z tego względu należy się upewnić, że będzie istniała możliwość
    odzyskania systemu jeśli nie uruchomi się on po aktualizacji (lub
    w przypadku systemów zarządzanych zdalnie nie zaktywuje sieci).

    W przypadku aktualizacji zdalnej za pomocą ssh, zaleca się
    dodatkowe środki bezpieczeństwa, w celu zapewnienia sobie
    możliwości dostępu do serwera za pomocą zdalnego terminala
    szeregowego. Istnieje ryzyko, że po aktualizacji jądra i ponownym
    uruchomieniu systemu wystąpi konieczność poprawienia konfiguracji
    systemu korzystając z konsoli lokalnej. Jeśli w trakcie
    aktualizacji system zostanie przypadkowo zresetowany, możliwe że
    konieczne będzie odzyskiwanie za pomocą lokalnej konsoli.

    Zalecamy korzystanie z trybu ratunkowego w instalatorze Debiana
    jessie. Zaletą skorzystania z instalatora jest możliwość wyboru
    takiej metody jaka jest najkorzystniejsza. Więcej informacji
    zawiera „Recovering a Broken System” w rozdziale 8 przewodnika
    instalacji (https://www.debian.org/releases/jessie/installmanual)
    i FAQ instalatora Debiana (https://wiki.debian.org/
    DebianInstaller/FAQ) .

    Jeśli ten sposób zawiedzie konieczne jest zapewnienie sobie
    alternatywnego sposobu rozruchu systemu, by móc go naprawić.
    Rozwiązaniem może okazać się specjalny obraz ratunkowy lub płyta
    typu live CD. Po uruchomieniu systemu za pomocą jednej z tych
    metod powinno się udać podmontować główny system plików, a
    następnie wykonać chroot w celu rozpoznania i naprawy problemu.

4.1.4.1. Debugowanie powłoki podczas rozruchu przy użyciu initrd

    Pakiet initramfs-tools udostępnia powłokę debugowania^[3] w
    generowanych obrazach initrd. Na przykład: jeśli initrd nie
    będzie mógł zamontować głównego systemu plików to przeniesie się
    do powłoki debugowania z dostępnymi podstawowymi poleceniami, aby
    dać możliwość znalezienia problemu i naprawy.

    Podstawowymi sprawami do sprawdzenia są: obecność poprawnych
    plików urządzeń w /dev; które moduły są załadowane (cat /proc/
    modules); wynik dmesg pod kątem błędów ładowania sterowników.
    Wynik dmesg pokaże również jakie pliki urządzeń zostały
    przypisane do danych dysków; powinno się je sprawdzić z wynikiem
    echo $ROOT, aby upewnić się, że główny system plików znajduje się
    na oczekiwanym urządzeniu.

    Jeśli problem się rozwiąże to polecenie exit zamknie powłokę
    debugowania i proces debugowania będzie kontynuowany od momentu
    wystąpienia błędu. Oczywiście, konieczne będzie naprawienie
    źródła problemu i ponowne wygenerowanie initrd, aby przy
    następnym rozruchu nie znaleźć się w identycznej sytuacji.

4.1.4.2. Debugowanie powłoki podczas rozruchu przy użyciu systemd

    Jeśli rozruch nie powiedzie się korzystając z systemd, można
    dostać się do powłoki roota służącej do debugowania zmieniając
    wiersz polecenia jądra. Jeśli podstawowy rozruch uda się, lecz
    część usług nie wystartuje, można spróbować dodać do parametrów
    jądra systemd.unit=rescue.target.

    Z kolei parametr jądra systemd.unit=emergency.target udostępni
    powłokę roota najwcześniej jak to możliwe. Będzie to jednak
    jeszcze przed zamontowaniem głównego systemu plików z
    uprawnieniami do odczytu i zapisu. Zajdzie konieczność ręcznego
    wykonania:

    mount -o remount,rw /

    Więcej informacji o debugowaniu rozruchu kończącego się
    niepowodzeniem za pomocą systemd można znaleźć w artykule
    Diagnosing Boot Problems (http://freedesktop.org/wiki/Software/
    systemd/Debugging/) .

    W najgorszym scenariuszu może zajść konieczność dokonania
    rozruchu ze pomocą starego systemu sysvinit. Aby to uczynić
    pakiet sysvinit musi być wciąż zainstalowany, a plik binarny /lib
    /sysvinit/init zawarty w initramfs. Jeśli te wymagania są
    spełnione, należy dodać init=/lib/sysvinit/init do wiersza
    polecenia jądra, co spowoduje rozruch z wykorzystaniem pliku
    binarnego sysvinit.

4.1.5. Przygotowanie bezpiecznego środowiska do uaktualnienia

    Aktualizacja dystrybucji może być wykonana lokalnie, z trybu
    tekstowego wirtualnej konsoli (lub przez bezpośrednio połączony
    terminal szeregowy) bądź zdalnie, za pomocą ssh.

    Ważne

    Jeśli korzysta się z usług VPN (takich jak tinc) to mogą one nie
    być dostępne w czasie aktualizacji. Proszę zapoznać się z
    Sekcja 4.1.3, „Przygotowanie do przestoju usług”.

    Aby zapewnić sobie większy margines bezpieczeństwa podczas
    aktualizacji zdalnej sugeruje się uruchomić proces aktualizacji w
    wirtualnej konsoli (zapewnionej przez program screen, który
    pozwala na bezpieczne ponowne podłączenie oraz zapewnia trwałość
    procesu aktualizacji, nawet przy zerwaniu połączenia).

    Ważne

    Nie należy wykonywać aktualizacji przy użyciu telnet, rlogin, rsh
    lub z sesji X zarządzanej przez xdm, gdm, kdm, itp. na
    aktualizowanym komputerze. Każda z tych usług może zostać
    przerwana podczas aktualizacji co może skutkować niedostępnym
    systemem, uaktualnionym jedynie częściowo. Używanie programu
    GNOME update-manager jest zdecydowanie odradzane przy
    aktualizacji do obecnego wydania, ponieważ narzędzie to wymaga,
    aby sesja pulpitu pozostawała aktywna.

4.2. Sprawdzenie statusu systemu

    Proces aktualizacji opisany w tym rozdziale został opracowany dla
    aktualizacji z „czystego” wydania wheezy bez pakietów
    pochodzących z zewnątrz. Aby zwiększyć niezawodność aktualizacji
    można usunąć takie pakiety przed rozpoczęciem procesu.

    Bezpośrednie aktualizacje z wydań Debiana starszych od 7 (wheezy)
    nie są wspierane. Proszę zapoznać się z instrukcjami w Uwagach do
    wydania Debian 7 (https://www.debian.org/releases/wheezy/
    releasenotes) , aby wykonać wpierw aktualizację do wydania 7.

    Procedura ta zakłada, że system został zaktualizowany do
    ostatniej aktualizacji punktowej wheezy. Jeśli się tego nie
    wykonało lub nie jest się tego pewnym należy wykonać instrukcje z
    Sekcja A.1, „Uaktualnienie wydania wheezy”.

4.2.1. Przejrzenie zaplanowanych działań w menedżerze pakietów

    Niekiedy użycie do instalowania pakietów apt-get zamiast aptitude
    może spowodować, że aptitude potraktuje je jako „nieużywane” i
    przeznaczy do usunięcia. Z reguły należy się upewnić, że system
    jest całkowicie uaktualniony i „czysty” przed rozpoczęciem
    procesu aktualizacji.

    Z tego powodu należy sprawdzić czy nie ma zaplanowanych działań w
    menedżerze pakietów aptitude. Jeśli jakiś pakiet jest
    przeznaczony do usunięcia lub aktualizacji może to negatywnie
    wpłynąć na przebieg aktualizacji. Proszę zauważyć, że naprawienie
    tego problemu będzie możliwe tylko wówczas, gdy sources.list
    wciąż wskazuje na wydanie wheezy, a nie na stable lub jessie -
    patrz Sekcja A.2, „Sprawdzenie listy źródeł”.

    Sprawdzenie polega na uruchomieniu aptitude w „trybie wizualnym”
    i wciśnięciu g („pobierz/instaluj/usuń”). Jeśli pokazane zostaną
    jakieś akcje należy je przejrzeć i albo poprawić, albo wykonać.
    Jeśli nie będzie sugerowanych akcji zostanie wyświetlony
    komunikat: „Nie jest zaplanowana instalacja, aktualizacja, ani
    usunięcie żadnych pakietów”.

4.2.2. Wyłączenie priorytetów APT-a (APT pinning)

    Jeśli skonfigurowano APT w celu instalacji konkretnych pakietów z
    dystrybucji innej niż stabilna (np. testowej), konieczna może
    okazać się zmiana konfiguracji priorytetów APT-a (przechowywanej
    w /etc/apt/preferences i /etc/apt/preferences.d/), aby zezwolić
    na aktualizację pakietów do wersji nowego wydania stabilnego.
    Więcej informacji na ten temat można znaleźć w podręczniku
    systemowym apt_preferences(5).

4.2.3. Sprawdzenie statusu pakietów

    Niezależnie od wybranej metody aktualizacji zaleca się uprzednie
    sprawdzenie wszystkich pakietów i zweryfikowanie czy wszystkie
    nadają się do aktualizacji. Następujące polecenie pokaże pakiety
    o statusie „częściowo zainstalowany” lub „nieprawidłowa
    konfiguracja” i te z jakimkolwiek statusem błędu:

    # dpkg --audit

    Można również sprawdzić stan wszystkich pakietów za pomocą 
    aptitude lub np.:

    # dpkg -l | pager

    albo:

    # dpkg --get-selections "*" > ~/curr-pkgs.txt

    Pożądane może okazać się usunięcie wszelkich zatrzymań z
    pakietów. Jeśli jakikolwiek aktualizowany pakiet o statusie „
    istotny” będzie zatrzymany to aktualizacja nie powiedzie się.

    Proszę zauważyć, że aptitude używa innej metody rejestrowania
    zatrzymanych pakietów niż apt-get i dselect. Pakiety zatrzymane w
    aptitude można sprawdzić za pomocą polecenia:

    # aptitude search "~ahold"

    Pakiety zatrzymane w apt-get można sprawdzić korzystając z:

    # dpkg --get-selections | grep 'hold$'

    Jeśli zmieniono jakiś pakiet lub ponownie skompilowano go
    lokalnie bez zmiany nazwy ani dodania epoki do nazwy, konieczne
    będzie zatrzymanie go, aby zapobiec uaktualnieniu.

    Stan „zatrzymania” pakietu w apt-get można zmienić za pomocą:

    # echo package_name hold | dpkg --set-selections

    Proszę zastąpić hold słowem install aby cofnąć „zatrzymanie”
    pakietu.

    Jeśli sygnalizowana jest potrzeba poprawy najlepiej jest upewnić
    się, że lista sources.list wciąż odnosi się do wydania wheezy,
    zgodnie z opisem Sekcja A.2, „Sprawdzenie listy źródeł”.

4.2.4. Sekcja proposed-updates

    Jeśli w pliku /etc/apt/sources.list znajduje się sekcja
    proposed-updates należy usunąć ją przed rozpoczęciem aktualizacji
    systemu. Jest to środek ostrożności zmniejszający
    prawdopodobieństwo konfliktów.

4.2.5. Nieoficjalne źródła

    Jeśli zainstalowano pakiety pochodzące spoza Debiana należy
    pamiętać, że mogą one zostać usunięte podczas aktualizacji z
    powodu konfliktów w zależnościach. Jeśli pakiety zostały
    zainstalowane przez dodanie dodatkowego archiwum pakietów w /etc/
    apt/sources.list należy sprawdzić czy nie oferuje ono pakietów
    skompilowanych dla wydania jessie. Wówczas należy odpowiednio
    zmienić wiersz dotyczący tego archiwum we wspomnianym pliku, w
    tym samym czasie co pozostałe wiersze związane z pakietami
    Debiana.

    Część użytkowników może posiadać nieoficjalne, backportowane
    wersje pakietów, które są „nowsze” niż pakiety zainstalowane w
    Debianie wheezy. Te pakiety będą prawdopodobnie sprawiać kłopoty
    z powodu konfliktów plików^[4]. Sekcja 4.5, „Możliwe problemy
    przy aktualizacji” opisuje sposoby rozwiązywania konfliktów
    plików.

4.3. Przygotowanie źródeł do APT-a

    Przed rozpoczęciem aktualizacji należy przygotować plik
    konfiguracyjny apt z listami pakietów - /etc/apt/sources.list.

    apt weźmie pod uwagę wszystkie pakiety oznaczone za pomocą wpisu 
    „deb” i zainstaluje pakiety o najwyższym numerze wersji, dając
    priorytet wcześniejszym wierszom w pliku (stąd, jeśli wymieniono
    kilka położeń powinno się zwykle jako pierwszy umieścić lokalny
    dysk twardy, następnie CD-ROM-y, a na końcu serwery lustrzane
    HTTP/FTP).

    Wydanie można określić dzięki nazwie kodowej (np. wheezy, jessie)
    lub statusowi wydania (oldstable - stare stabilne, stable -
    stabilne, testing - testowe, unstable - niestabilne). Zapis
    odnoszący się do nazwy kodowej ma tę zaletę, że użytkownik nie
    zostanie nigdy zaskoczony nowym wydaniem. Z tego powodu to
    rozwiązanie jest preferowane w niniejszym dokumencie. Z drugiej
    strony, powoduje to konieczność samodzielnego sprawdzania czy nie
    wydano nowej wersji systemu. Jeśli użyje się nazwy statusu pokaże
    się wówczas bardzo dużo dostępnych aktualizacji pakietów.

4.3.1. Dodanie internetowych źródeł APT-a

    Domyślna konfiguracja jest przeznaczona do instalacji z głównych
    serwerów internetowych Debiana, ale można zmodyfikować plik /etc/
    apt/sources.list w celu użycia innych serwerów lustrzanych,
    najlepiej położonych najbliżej użytkownika (w infrastrukturze
    sieciowej).

    Adresy serwerów lustrzanych HTTP i FTP można znaleźć na stronie
    https://www.debian.org/distrib/ftplist (https://www.debian.org/
    distrib/ftplist) (w rozdziale „lista serwerów lustrzanych Debiana
    ”). Serwery HTTP są zwykle szybsze niż FTP.

    Załóżmy na przykład, że najbliższym serwerem lustrzanym jest
    http://mirrors.kernel.org. Przy sprawdzaniu go przeglądarką
    internetową lub programem FTP, można zauważyć, że główne katalogi
    są ułożone podobnie do:

    http://mirrors.kernel.org/debian/dists/jessie/main/binary-amd64/...
    http://mirrors.kernel.org/debian/dists/jessie/contrib/binary-amd64/...

    Aby użyć tego serwera lustrzanego z apt, należy dodać poniższy
    wiersz do pliku sources.list:

    deb http://mirrors.kernel.org/debian jessie main contrib

    Proszę zwrócić uwagę, że „dists” jest dodane jawnie, a argumenty
    po nazwie wydania są używane do rozwinięcia ścieżki na wiele
    katalogów.

    Pod dodaniu nowych źródeł należy wyłączyć istniejące wcześniej
    wiersze „deb” w sources.list, dodając na ich początku znak kratki
    (#).

4.3.2. Dodanie źródeł APT-a do lokalnego serwera lustrzanego

    Zamiast używania serwerów lustrzanych HTTP lub FTP, można
    zmodyfikować swój plik /etc/apt/sources.list tak, aby skorzystać
    z kopii na dysku lokalnym (np. zamontowanej za pomocą NFS).

    Kopia serwera lustrzanego może się znajdować np. w /var/ftp/
    debian/ i posiadać główne katalogi, takie jak:

    /var/ftp/debian/dists/jessie/main/binary-amd64/...
    /var/ftp/debian/dists/jessie/contrib/binary-amd64/...

    Aby użyć jej ze swoim aptem, proszę dodać ten wiersz do pliku
    sources.list:

    deb file:/var/ftp/debian jessie main contrib

    Proszę zwrócić uwagę, że „dists” jest dodane jawnie, a argumenty
    po nazwie wydania są używane do rozwinięcia ścieżki na wiele
    katalogów.

    Pod dodaniu nowych źródeł należy wyłączyć istniejące wcześniej
    wiersze „deb” w sources.list, dodając na ich początku znak kratki
    (#).

4.3.3. Dodanie źródeł APT-a do nośników optycznych

    Aby korzystać wyłącznie z płyt (CD, DVD lub Blu-ray), proszę
    wyłączyć istniejące wiersze „deb” w pliku /etc/apt/sources.list
    dodając na początku znak kratki (#).

    Proszę upewnić się, że w pliku /etc/fstab istnieje wiersz
    pozwalający na zamontowanie CD-ROM-u w punkcie montowania /media/
    cdrom. Na przykład, jeśli napęd CD-ROM jest urządzeniem /dev/sr0,
    to plik /etc/fstab powinien zawierać wiersz podobny do
    poniższego:

    /dev/sr0 /media/cdrom auto noauto,ro 0 0

    Proszę zauważyć, że w czwartym polu, między słowami noauto,ro nie
    mogą występować spacje.

    Aby sprawdzić, czy wszystko działa, proszę włożyć płytę i
    spróbować wykonać

    # mount /media/cdrom    # montowanie płyty w punkcie montowania
    # ls -alF /media/cdrom  # wyświetlenie głównego katalogu płyty
    # umount /media/cdrom   # odmontowanie płyty

    Następnie, proszę uruchomić:

    # apt-cdrom add

    dla każdej płyty binarnej Debiana, aby dodać dane z każdego CD do
    bazy danych APT-a.

4.4. Aktualizacja pakietów

    Zalecanym sposobem aktualizacji z poprzedniego wydania systemu
    Debian jest narzędzie zarządzania pakietami apt-get. W
    poprzednich wydaniach zalecano skorzystanie z aptitude, lecz
    najnowsze wersje apt-get zawierają równorzędną funkcjonalność i
    dają lepsze rezultaty w procesie aktualizacji.

    Proszę nie zapomnieć o zamontowaniu potrzebnych partycji do
    odczytu i zapisu (przede wszystkim partycji głównej i /usr), za
    pomocą polecenia podobnego do poniższego:

    # mount -o remount,rw /punkt-montowania

    Proszę dobrze sprawdzić czy źródła APT-a (w /etc/apt/
    sources.list) odnoszą się do wydania „jessie” lub „stable”. Nie
    powinno być tam wpisów dotyczących wheezy.

    +--------------------------------------------------+
    |Uwaga                                             |
    |                                                  |
    |Wiersze źródeł CD-ROM-u mogą niekiedy wskazywać na|
    |„unstable”; choć może być to mylące, nie należy   |
    |tego zmieniać.                                    |
    +--------------------------------------------------+

4.4.1. Zapisanie sesji

    Zaleca się skorzystanie z programu /usr/bin/script, aby zapisać
    wyniki sesji aktualizacji. Wówczas, jeśli wystąpi problem, gotowy
    będzie log, który będzie można wykorzystać np. do zgłoszenia
    błędu. Aby rozpocząć zapisywanie, proszę wpisać:

    # script -t 2>~/upgrade-jessiekrok.time -a ~/upgrade-jessiekrok.script

    lub coś podobnego. Jeśli będzie trzeba uruchomić zapis ponownie
    (np. po ponownym uruchomieniu systemu), proszę użyć innej
    wartości krok, aby wskazać zapisywany krok aktualizacji. Nie
    należy umieszczać pliku (do którego będzie się zapisywało) w
    katalogu tymczasowym, takim jak /tmp lub /var/tmp. Pliki w tych
    katalogach będą usuwane przy aktualizacjach i po restarcie.

    Zapis ten pozwoli również na przejrzenie informacji, które już
    zniknęły z ekranu. Jeśli jest się w konsoli systemowej wystarczy
    przełączyć się do VT2 (za pomocą Alt+F2) i (po zalogowaniu się)
    skorzystać z polecenia less -R ~root/upgrade-jessie.script, aby
    przejrzeć plik.

    Po zakończeniu aktualizacji można zatrzymać polecenie script
    poleceniem exit.

    Jeśli użyto przełącznika -t do polecenia script można skorzystać
    z programu scriptreplay, aby odtworzyć całą sesję:

    # scriptreplay ~/upgrade-jessie.time ~/upgrade-jessie.script

4.4.2. Aktualizowanie listy pakietów

    Na początku, należy pobrać listę dostępnych pakietów nowego
    wydania. Można to zrobić za pomocą polecenia:

    # apt-get update

4.4.3. Zapewnienie wystarczającej ilości wolnego miejsca

    Konieczne jest upewnienie się, że system posiada wystarczająco
    dużo wolnej przestrzeni dyskowej przed pełną aktualizacją
    systemu, opisaną w sekcji Sekcja 4.4.5, „Aktualizacja systemu”.
    Wszystkie pakiety potrzebne do instalacji są najpierw pobierane z
    sieci i przechowywane w /var/cache/apt/archives (przy pobieraniu
    w podkatalogu partial/), dlatego trzeba zapewnić sobie wolne
    miejsce na partycji z katalogiem /var/. Po zakończeniu pobierania
    wolne miejsce potrzebne będzie na innych partycjach, aby
    zainstalować aktualizowane pakiety (które mogą zawierać większe
    pliki wykonywalne lub więcej danych) i nowe pakiety, pobrane przy
    aktualizacji. Jeśli jest zbyt mało wolnego miejsca można
    doprowadzić do trudnej w opanowaniu, niedokończonej aktualizacji.

    Polecenie apt-get może pokazać szczegółowe informacje o
    potrzebnym miejscu. Przed wykonaniem aktualizacji przybliżoną
    wartość wymaganej przestrzeni można zobaczyć wykonując:

    # apt-get -o APT::Get::Trivial-Only=true dist-upgrade
    [ ... ]
    XXX aktualizowanych, XXX nowo instalowanych, XXX do usunięcia i XXX nieaktualizowanych.
    Konieczne pobranie xx.x MB archiwów.
    Po tej operacji zostanie dodatkowo użyte AAA MB miejsca na dysku.

    Uwaga

    Wykonanie tego polecenia na początku procesu aktualizacji może
    wypisać błąd, z powodów opisanych w następnych rozdziałach.
    Trzeba wówczas poczekać z komendą do zakończenia minimalnej
    aktualizacji systemu (opisanej w rozdziale Sekcja 4.4.4,
    „Minimalna aktualizacja systemu”)

    Jeśli zabraknie miejsca apt-get wyświetli ostrzeżenie:

    E: Niestety w /var/cache/apt/archives/ nie ma wystarczającej ilości wolnego miejsca.

    W takim przypadku, konieczne będzie zwolnienie miejsca na dysku.
    Można:

      * Usunąć pakiety pobrane wcześniej do instalacji (z /var/cache/apt/
        archives). Zwolnienie bufora pakietów za pomocą polecenia apt-get
        clean usunie wszystkie pobrane wcześniej pliki pakietów.

      * Usunąć zapomniane pakiety. Jeśli w wheezy korzystano z poleceń 
        aptitude lub apt-get do ręcznego instalowania pakietów to
        programy te przechowują o nich informacje i będą w stanie
        oznaczyć jako przestarzałe pakiety, pobrane jedynie przez
        zależności, które nie są dłużej potrzebne po usunięciu pakietu.
        Nie przeznaczą one do usunięcia pakietów zainstalowanych ręcznie
        lecz jedynie te zainstalowane automatycznie. Aby usunąć
        nieużywane obecnie pakiety zainstalowane automatycznie proszę
        wykonać:

        # apt-get autoremove

        Do znalezienia zbędnych pakietów można również użyć programów 
        deborphan, debfoster lub cruft. Nie należy usuwać wszystkich
        proponowanych przez to narzędzie pakietów bez zastanowienia
        (szczególnie, jeśli skorzysta się z agresywnych opcji, które nie
        są domyślne, a są podatne na nieprawidłowe wskazania). Powinno
        się osobiście przejrzeć pakiety sugerowane do usunięcia (ich
        zawartość, rozmiar i opis) przed ostateczną decyzją.

      * Usunąć pakiety zajmujące zbyt dużo miejsca, które nie są obecnie
        potrzebne (można je zawsze doinstalować po aktualizacji). Jeśli
        zainstalowano pakiet popularity-contest to do wyświetlenia listy
        nieużywanych pakietów zajmujących najwięcej miejsca można
        posłużyć się poleceniem popcon-largest-unused. Największe pakiety
        można znaleźć poleceniem dpigs (z pakietu debian-goodies) lub
        programem wajig (poleceniem wajig size). Można użyć także
        programu aptitude. W tym celu proszę uruchomić aptitude w „trybie
        wizualnym”, wybrać Widoki → Nowy płaski widok pakietów, wcisnąć l
        , wpisać ~i, następnie wcisnąć S i wpisać ~installsize. W ten
        sposób można otrzymać zwięzłą listę do dalszych działań.

      * Usunąć niepotrzebne tłumaczenia i pliki lokalizacji. Można
        zainstalować pakiet localepurge i skonfigurować go tak, aby
        zachował w systemie jedynie potrzebne tłumaczenia. Zredukuje to
        przestrzeń zajętą przez katalog /usr/share/locale.

      * Tymczasowo przenieść na inny system lub usunąć całkowicie
        dzienniki systemowe z katalogu /var/log/.

      * Użyć tymczasowego /var/cache/apt/archives; można użyć
        tymczasowego katalogu bufora z innego systemu plików (urządzenia 
        USB, przenośnego dysku, używanego systemu plików, ...)

        +-----------------------------------------------------+
        |Uwaga                                                |
        |                                                     |
        |Proszę nie używać montowań NFS, ponieważ połączenie  |
        |sieciowe może zostać przerwane przy aktualizacji.    |
        +-----------------------------------------------------+

        Na przykład, jeśli napęd USB jest zamontowany w /media/usbkey:

         1. usunięcie poprzednio pobranych pakietów do instalacji:

            # apt-get clean

         2. skopiowanie katalogu /var/cache/apt/archives na napęd USB:

            # cp -ax /var/cache/apt/archives /media/usbkey/

         3. zamontowanie tymczasowego bufora w obecnym:

            # mount --bind /media/usbkey/archives /var/cache/apt/archives

         4. przywrócenie pierwotnego katalogu /var/cache/apt/archives po
            aktualizacji:

            # umount /media/usbkey/archives

         5. usunięcie pozostałego /media/usbkey/archives.

        Tymczasowy bufor można utworzyć w dowolnym systemie plików
        zamontowanym w systemie.

      * Wykonanie minimalnej aktualizacji (opisanej w Sekcja 4.4.4,
        „Minimalna aktualizacja systemu”) lub częściowych aktualizacji
        systemu przed pełną aktualizacją. Umożliwi to częściową
        aktualizację systemu i pozwoli na wyczyszczenie bufora pakietów
        przed pełną aktualizacją.

    Proszę zwrócić uwagę, że w celu bezpiecznego usunięcia pakietów
    zaleca się przełączenie swojego pliku sources.list z powrotem na
    wydanie wheezy zgodnie z opisem w Sekcja A.2, „Sprawdzenie listy
    źródeł”.

4.4.4. Minimalna aktualizacja systemu

    W niektórych przypadkach bezpośrednie wykonanie pełnej
    aktualizacji (opisanej poniżej) może usunąć wiele pakietów które
    mają być zachowane. Z tego powodu zaleca się wykonanie
    dwustopniowej aktualizacji. Najpierw minimalnej, pozwalającej
    uporać się z tymi konfliktami, a następnie pełnej, zgodnie z
    opisem w Sekcja 4.4.5, „Aktualizacja systemu”.

    Aby to zrobić, proszę wykonać

    # apt-get upgrade

    Uwaga

    Proces aktualizacji innych wydań zalecał używanie programu 
    aptitude do aktualizacji. To narzędzie nie jest zalecane do
    aktualizacji z wydania wheezy do jessie.

    W ten sposób zaktualizowane zostaną pakiety, które nie wymagają
    usunięcia lub instalacji innych pakietów.

    Minimalna aktualizacja systemu może okazać się przydatna również
    w systemach z niewielką ilością wolnego miejsca, na których pełna
    aktualizacja nie może być wykonana z tego powodu.

    Jeśli zainstalowano pakiet apt-listchanges to (w domyślnej
    konfiguracji) wyświetli on ważne informacje o aktualizowanych
    pakietach w programie stronicującym. Po zapoznaniu się z ich
    treścią należy wcisnąć q aby kontynuować aktualizację.

4.4.5. Aktualizacja systemu

    Po wykonaniu poprzednich kroków, nadszedł czas na główną część
    aktualizacji. Proszę wykonać

    # apt-get dist-upgrade

    Uwaga

    Proces aktualizacji innych wydań zalecał używanie programu 
    aptitude do aktualizacji. To narzędzie nie jest zalecane do
    aktualizacji z wydania wheezy do jessie.

    Przeprowadzona zostanie w ten sposób pełna aktualizacja systemu,
    instalacja najnowszych dostępnych wersji wszystkich pakietów i
    rozwiązanie wszystkich możliwych zmian zależności pakietów w
    innych wydaniach. Jeśli jest to konieczne zainstalowane zostaną
    nowe pakiety (najczęściej nowe wersje bibliotek lub pakiety o
    nowych nazwach) i usunięte wszystkie niepotrzebne pakiety
    powodujące konflikty.

    Przy aktualizacji z zestawu CD-ROM-ów (lub płyt DVD), użytkownik
    będzie proszony o włożenie określonej płyty w wielu miejscach
    aktualizacji. Z powodu zależności między pakietami rozproszonymi
    na poszczególnych nośnikach konieczne może okazać się wielokrotne
    wkładanie tej samej płyty.

    Nowe wersje zainstalowanych pakietów, które nie mogą być
    zainstalowane bez zmiany statusu innego pakietu zostaną
    pozostawione w bieżącej wersji (wyświetlone jako „zatrzymane”).
    Można to rozwiązać za pomocą aptitude, wybierając te pakiety do
    instalacji; można też spróbować wykonać apt-get install pakiet.

4.5. Możliwe problemy przy aktualizacji

    Poniższe sekcje opisują znane problemy, które mogą pojawić się
    przy aktualizacji do wydania jessie.

4.5.1. Podczas aktualizacji dystrybucji pojawia się błąd „Nie udało
się wykonać natychmiastowej konfiguracji”.

    W niektórych przypadkach polecenie apt-get dist-upgrade po pobraniu
    pakietów może wypisać następujący błąd:

    E: Nie udało się wykonać natychmiastowej konfiguracji "pakietu". Proszę wykonać "man 5 apt.conf" i zapoznać się z wpisem APT::Immediate-Configure aby dowiedzieć się więcej.

    W takim wypadku, polecenie apt-get dist-upgrade -o
    APT::Immediate-Configure=0 powinno pozwolić przeprowadzić
    aktualizację pomyślnie.

    Innym wyjściem pozwalającym obejść problem jest tymczasowe
    dodanie do pliku sources.list źródeł wydań wheezy i jessie, a
    następnie uruchomienie apt-get update.

4.5.2. Spodziewane usunięcia pakietów

    Proces aktualizacji do wydania jessie może prosić o usunięcie
    pewnych pakietów. Dokładna lista będzie zależała od obecnie
    zainstalowanych pakietów. Niniejsze uwagi do wydania dają ogólny
    obraz tego zabiegu. W razie wątpliwości przed kontynuowaniem
    należy sprawdzić kasowanie proponowane przez każdą z metod.
    Więcej informacji o pakietach przestarzałych w jessie znajduje
    się w Sekcja 4.10, „Przestarzałe pakiety”.

4.5.3. Konflikty lub pętle „wymaga wstępnie”

    Czasami potrzebne jest włączenie opcji APT::Force-LoopBreak w
    APT, aby móc tymczasowo usunąć pakiet istotny z powodu pętli
    konfliktów/zależności wstępnych. Polecenie apt-get wyświetli o
    tym ostrzeżenie i przerwie aktualizację. Można obejść problem
    podając opcję -o APT::Force-LoopBreak=1 w wierszu polecenia 
    apt-get.

    Istnieje możliwość, że struktura zależności systemowych będzie na
    tyle naruszona, że konieczna będzie ręczna interwencja. Zwykle
    oznacza to użycie polecenia apt-get lub

    # dpkg --remove nazwa-pakietu

    aby wyeliminować część przeszkadzających pakietów lub

    # apt-get -f install
    # dpkg --configure --pending

    W sytuacjach ekstremalnych konieczne może być wymuszenie
    reinstalacji za pomocą polecenia

    # dpkg --install /ścieżka/do/nazwy-pakietu.deb

4.5.4. Konflikty plików

    Konflikty plików nie powinny wystąpić przy aktualizacji z „
    czystego” wydania wheezy, lecz mogą się pojawić przy
    zainstalowanych nieoficjalnych backportach. Konflikty plików
    objawiają się komunikatami błędów, podobnymi do poniższego:

    Rozpakowywanie <pakiet-foo> (z <plik-pakietu-foo>) ...
    dpkg: błąd przetwarzania <pakiet-foo> (--install):
     próba nadpisania "<jakiś-plik>",
     który istnieje także w pakiecie <pakiet-bar>
    dpkg-deb: podproces wklej zabity przez sygnał (Przerwany potok)
     Wystąpiły błędy podczas przetwarzania:
     <pakiet-foo>

    Można spróbować rozwiązać konflikt plików przez wymuszenie
    usunięcia pakietu wymienionego w ostatnim wierszu komunikatu
    błędu:

    # dpkg -r --force-depends nazwa-pakietu

    Po zakończeniu naprawy powinno się dać wznowić aktualizację,
    ponawiając poprzednio wymienione polecenia apt-get.

4.5.5. Zmiany konfiguracji

    Podczas aktualizacji zostaną wyświetlone pytania dotyczące
    konfiguracji lub ponownej konfiguracji kilku pakietów. Gdy
    pytanie będzie dotyczyło tego czy plik w katalogu /etc/init.d lub
    plik /etc/manpath.config ma zostać zastąpiony wersją opiekuna
    pakietu to odpowiedź powinna z reguły brzmieć „tak” (aby zapewnić
    spójność systemu). Zawsze można cofnąć się do starszej wersji,
    ponieważ są one zapisywane z rozszerzeniem .dpkg-old.

    W razie wątpliwości, proszę zapisać nazwę pakietu lub pliku i
    zdecydować o tym później. Można przeszukać plik z zapisem sesji,
    aby znaleźć informację wyświetloną na ekranie przy aktualizacji.

4.5.6. Zmiany sesji na konsoli

    Jeśli aktualizacja jest wykonywana z lokalnej konsoli systemowej,
    w którymś momencie aktualizacji może zdarzyć się, że konsola
    zostanie przesunięta na inny widok i straci się obraz procesu
    aktualizacji. Prawdopodobieństwo takiego zdarzenia istnieje np.
    podczas korzystania z interfejsu graficznego, gdy restartowany
    jest menedżer logowania.

    Aby odzyskać konsolę, na której trwa aktualizacja, należy wcisnąć
    Ctrl+Alt+F1, aby przełączyć się z powrotem na terminal wirtualny
    1 z graficznego ekranu powitalnego lub Alt+F1 z trybu lokalnej
    konsoli tekstowej. Proszę zastąpić F1 klawiszem funkcyjnym o tym
    samym numerze co terminal wirtualny, na którym trwa aktualizacja.
    Można również skorzystać ze kombinacji Alt+strzałka w lewo lub 
    Alt+strzałka w prawo aby przenosić się na kolejne terminale
    tekstowe.

4.5.7. Pakiety specjalnej troski

    Pakiety powinny się zwykle aktualizować bez problemów, z wydania
    wheezy do jessie. Jest jednak kilka przypadków, gdzie może okazać
    się potrzebna interwencja albo przed, albo w trakcie
    aktualizacji. Szczegółowa rozpiska dla poszczególnych pakietów
    znajduje się poniżej.

4.5.7.1. systemd

    Aktualizacja Debiana z wydania wheezy do jessie domyślnie zmieni
    domyślny system init z SysV na systemd. W zależności od systemu i
    ustawień użytkownika może zajść potrzeba dokonania pewnych zmian
    ręcznie. Szczegółowy opis znanych problemów znajduje się w
    Sekcja 5.6, „Aktualizacja instaluje nowy domyślny system init
    wydania Jessie”.

4.5.7.2. LXC

    W przypadku zainstalowanego LXC przy aktualizacji systemu i
    kontenerów należy zachować szczególną ostrożność. Potencjalne
    problemy i ich rozwiązania opisano w Sekcja 5.8, „Zastrzeżenia
    przy aktualizacji gospodarzy i kontenerów LXC”.

4.6. Aktualizacja jądra i powiązanych pakietów

    Niniejszy rozdział opisuje sposób aktualizacji jądra i
    identyfikacji potencjalnych problemów który mogą się pojawić.
    Można zainstalować jeden z pakietów linux-image-* udostępnionych
    przez Debiana lub skompilować dostosowany do swoich potrzeb.

    Proszę zauważyć, że wiele poniższych informacji zakłada, że używa
    się jednego z modularnych jąder Debiana razem z initramfs-tools i
    udev. Jeśli korzysta się z własnego, dostosowanego jądra, które
    nie wymaga initrd lub wykorzystuje się inny program tworzący
    initrd to część informacji będzie nieprzydatna.

4.6.1. Instalowanie metapakietu jądra

    Przy aktualizowaniu dystrybucji z wydania wheezy do jessie zaleca
    się zainstalowanie metapakietu linux-image-*, jeśli nie dokonano
    tego wcześniej. Te metapakiety będą zainstalowane automatycznie w
    nowszych wersjach jądra przy dokonywaniu aktualizacji. To, czy
    są zainstalowane, można sprawdzić za pomocą:

    # dpkg -l "linux-image*" | grep ^ii | grep -i meta

    Jeśli nie zostanie wypisany żaden wynik potrzeba będzie albo
    zainstalować ręcznie nowy pakiet linux-image lub zainstalować
    metapakiet linux-image. Aby zobaczyć listę dostępnych
    metapakietów linux-image, proszę wykonać:

    # apt-cache search linux-image- | grep -i meta | grep -v transition

    W razie wątpliwości co do wyboru pakietu proszę uruchomić uname
    -r i znaleźć pakiet o podobnej nazwie. Na przykład jeśli widać „
    2.6.32-5-amd64”, to zaleca się zainstalowanie linux-image-amd64.
    Można również użyć apt-cache, aby zobaczyć długi opis każdego
    pakietu, pomocny do wyboru najlepszego z nich. Na przykład:

    # apt-cache show linux-image-amd64

    Powinno się następnie uruchomić apt-get install, aby go
    zainstalować. Po zainstalowaniu nowego jądra należy uruchomić
    system ponownie przy możliwie najbliższej okazji, aby zyskać
    zalety nowego jądra. Przed wykonaniem pierwszego ponownego
    uruchomienia proszę zapoznać się z Sekcja 4.7, „Sprawy do
    zrobienia przed ponownym uruchomieniem”.

    Dla bardziej doświadczonych użytkowników istnieje łatwy sposób
    skompilowania swojego, dostosowanego jądra w systemie Debian.
    Proszę zainstalować źródła jądra zawarte w pakiecie linux-source.
    Do zbudowania pakietu binarnego można wykorzystać deb-pkg,
    dostępne w źródłach makefile. Więcej informacji można znaleźć na
    stronie Debian Linux Kernel Handbook (http://
    kernel-handbook.alioth.debian.org/) , dostępnej również jako
    pakiet debian-kernel-handbook (w języku angielskim).

    Jeśli to możliwe, to osobna aktualizacja pakietu jądra od
    głównego dist-upgrade jest dobrym rozwiązaniem - redukuje szanse
    na otrzymanie tymczasowo pozbawionego możliwości rozruchu
    systemu. Należy to zrobić wyłącznie po aktualizacji minimalnej,
    opisanej w Sekcja 4.4.4, „Minimalna aktualizacja systemu”.

4.6.2. Zmiany w montowaniu i sprawdzaniu systemu plików /usr

    Obecnie, initramfs-tools będzie sprawdzało również główny system
    plików przed zamontowaniem go, za pomocą fsck. Jeśli wybrano
    systemd jako swój system init oraz istnieje oddzielny system
    plików /usr, sprawdzany i montowany będzie również /usr.

      * Jeśli /usr jest oddzielnym systemem plików na urządzeniu
        RAID, a ustawienie INITRDSTART w /etc/default/mdadm nie ma
        wartości "all", konieczna będzie jego zmiana, aby objąć
        również to urządzenie.

      * Jeśli /usr jest oddzielnym system plików na woluminie
        logicznym LVM, a wiersz /usr w /etc/fstab określa urządzenie
        przez UUID lub LABEL, konieczna jest jego zmiana i zapis w
        formacie /dev/mapper/VG-LV lub /dev/VG/LV.

      * Nie jest obecnie możliwe montowanie za pomocą podpięcia
        ("bind") systemu plików /usr.

      * Jeśli RTC (zegar czasu rzeczywistego) jest ustawiony na czas
        lokalny i wyprzedza on UTC, e2fsck wypisze ostrzeżenie w
        trakcie rozruchu o zmianie czasu do tyłu (błąd #767040
        (https://bugs.debian.org/767040) ). Można to wyłączyć za
        pomocą następujących wierszy w /etc/e2fsck.conf:

        [options]
        broken_system_clock=1

4.7. Sprawy do zrobienia przed ponownym uruchomieniem

    Po zakończeniu apt-get dist-upgrade „formalna” aktualizacja jest
    zakończona, lecz są pewne rzeczy do sprawdzenia przed ponownym
    uruchomieniem.

      * Przy aktualizacji z wydania Wheezy do Jessie dobrym pomysłem
        może być wyczyszczenie starych pakietów przed pierwszym
        ponownym uruchomieniem. W szczególności problemy
        mogą sprawiać stare skrypty init. Proszę zapoznać się z
        Sekcja 4.8.1, „Czyszczenie usuniętych pakietów” aby
        dowiedzieć się więcej o znajdowaniu i czyszczeniu usuniętych
        pakietów.

4.8. Przygotowanie do kolejnego wydania

    Po aktualizacji jest kilka rzeczy, które można zrobić w celu
    przygotowania do następnego wydania.

      * Usunięcie pakietów oznaczonych teraz jako przestarzałe
        zgodnie z opisem w rozdziałach Sekcja 4.4.3, „Zapewnienie
        wystarczającej ilości wolnego miejsca ” i Sekcja 4.10,
        „Przestarzałe pakiety”. Proszę przejrzeć używane pliki
        konfiguracyjne i rozważyć całkowite wyczyszczenie (ang.
        purge) pakietów, w celu usunięcia ich plików
        konfiguracyjnych. Zob. też Sekcja 4.8.1, „Czyszczenie
        usuniętych pakietów”.

4.8.1. Czyszczenie usuniętych pakietów

    Ogólnym zaleceniem jest czyszczenie usuniętych pakietów. Ma to
    szczególny sens, jeśli pakiety zostały usunięte we wcześniejszej
    aktualizacji wydania (np. przy aktualizacji do wheezy) lub
    pochodzą od zewnętrznych dostawców. W szczególności znane są
    problemy ze starymi skryptami init.d.

    Ostrzeżenie

    Wyczyszczenie pakietu zazwyczaj usuwa również jego pliki
    dziennika, dlatego można rozważyć uprzednie wykonanie ich kopii
    zapasowej.

    Poniższe polecenie wyświetla listę wszystkich usuniętych pakietów
    z pozostawionymi w systemie plikami konfiguracyjnymi:

    # dpkg -l | awk '/^rc/ { print $2 }'

    Pakiety można wyczyścić poleceniem apt-get purge. Aby wyczyścić
    od razu wszystkie, można skorzystać z następującego polecenia:

    # apt-get purge $(dpkg -l | awk '/^rc/ { print $2 }')

    Jeśli korzysta się z programu aptitude, można rozważyć użycie
    następującego odpowiednika powyższych poleceń:

    $ aptitude search '~c'
    $ aptitude purge '~c'

4.9. Przestarzałe składniki

    Od następnego wydania systemu Debian 9 (nazwa kodowa stretch)
    część funkcji zostanie porzucona. Użytkownicy powinni przejść na
    rozwiązania alternatywne, aby uniknąć problemów przy aktualizacji
    do 9.

    Dotyczy do między innymi:

      * Pakiet hardening-wrapper jest przestarzały i będzie
        prawdopodobnie usunięty w wydaniu Stretch.

4.10. Przestarzałe pakiety

    Wprowadzając wiele nowych pakietów, jessie porzuca i pomija
    również sporo starych pakietów z wydania wheezy. Nie ma dla nich
    ścieżki aktualizacji. Choć nic nie stoi na przeszkodzie, aby w
    razie potrzeby używać takich pakietów to projekt Debian kończy
    wsparcie bezpieczeństwa po roku od wydania jessie^[5] i nie
    dostarczy innego wsparcie w międzyczasie. Zaleca się zastąpienie
    ich dostępnymi alternatywami jeśli takie istnieją.

    Jest wiele powodów, dla których pakiet mógł zostać usunięty z
    dystrybucji: nie jest dłużej utrzymywany przez projekt
    macierzysty, nie ma chętnego Dewelopera Debiana, który byłby
    zainteresowany opiekowaniem się pakietem, funkcja którą pełnił
    została przejęta przez inne programy (lub nowszą wersję), nie
    jest dłużej uważany za odpowiedni dla wydania jessie ze względu
    na poważne błędy. W tym ostatnim przypadku pakiet może być wciąż
    obecny w dystrybucji „niestabilnej”.

    Znalezienie pakietów „przestarzałych” w zaktualizowanym systemie
    jest łatwe ponieważ interfejsy zarządzania pakietami oznaczają je
    odpowiednio. W aptitude znajdują się one w sekcji „Pakiety
    przestarzałe i lokalne”.

    System śledzenia błędów Debiana (https://bugs.debian.org/) często
    udostępnia dodatkowe informacje nt. powodów usunięcia danego
    pakietu. Należy przejrzeć zarówno archiwalne zgłoszenia błędów
    samego pakietu jak i archiwalne zgłoszenia pseudopakietu
    ftp.debian.org (https://bugs.debian.org/cgi-bin/pkgreport.cgi?pkg
    =ftp.debian.org&archive=yes) .

    Lista przestarzałych pakietów obejmuje:

      * postgresql-9.1, zastąpiony przez postgresql-9.4. Po
        ukończeniu aktualizacji systemu powinno się zaplanować
        aktualizację swoich baz danych PostgreSQL 9.1 do nowej wersji
        9.4 za pomocą narzędzia pg_upgradecluster. Użytkownikom
        języka proceduralnego PL/perl wydanie Jessie zapewnia
        zaktualizowany pakiet postgresql-plperl-9.1 zlinkowany z
        wersją biblioteki libperl z Jessie, aby umożliwić
        aktualizację do nowej wersji perla w Jessie przy zachowaniu
        działających starych funkcji bazy danych PL/perl aż do
        momentu zaktualizowania samej bazy.

      * python3.2, zastąpiony przez python3.4 (wersja 2.7 jest
        wspierana w wheezy i jessie).

      * ruby1.8 i ruby1.9.1; zastąpione przez ruby2.1. Proszę
        zainstalować pakiet ruby aby automatycznie śledzić bieżącą
        wersję ruby.

      * mplayer; można go zastąpić pakietem mplayer2 lub mpv (nowość
        w jessie). Stary pakiet był najbardziej kompatybilny gdy
        idzie o argumenty wiersza poleceń i konfigurację (dodając
        przy tym kilka nowych funkcji), natomiast nowszy dodaje wiele
        nowych funkcji i usprawnień i jest aktywnie rozwijany przez
        swój projekt macierzysty.

      * openoffice.org; proszę przejść na libreoffice.

      * squid, zastąpiony przez squid3.

      * libjpeg-progs, zastąpiony przez libjpeg-turbo-progs.

      * openjdk-6-*, zastąpiony przez openjdk-7-*.

4.10.1. Pakiety atrapy

    Część pakietów z wydania wheezy w jessie została podzielona na
    kilka pakietów, często w celu ułatwienia zarządzania systemem.
    Aby ułatwić ścieżkę aktualizacji jessie często udostępnia pakiety
    „atrapy”: puste pakiety o tej samej nazwie co stary pakiet w
    wydaniu wheezy, z zależnościami, które spowodują instalację
    nowych pakietów. Te pakiety „atrapy” stają się niepotrzebne po
    aktualizacji i mogą zostać usunięte.

    Większość (choć nie wszystkie) opisów pakietów atrap wskazuje ich
    przeznaczenie. Opisy pakietów nie są jednak ustandaryzowane,
    można skorzystać więc z deborphan z opcjami --guess-* (np.
    --guess-dummy), aby je odszukać. Proszę zwrócić uwagę, że część
    pakietów atrap nie jest przeznaczona do usunięcia po
    aktualizacji, lecz są używane do śledzenia obecnie dostępnych
    wersji danego pakietu.


---------------------------------------------------------------------

    ^[1] Jeśli priorytet debconfa jest ustawiony na bardzo wysoką
    wartość to może spowodować niewyświetlanie pytań
    konfiguracyjnych. Usługi zależne od domyślnych odpowiedzi, które
    nie będą pasowały do danego systemu, nie uruchomią się.

    ^[2] Przykład: usługi DNS i DHCP, szczególnie jeśli nie ma
    redundancji lub tzw. failover. W przypadku DHCP użytkownicy mogą
    zostać odłączeni z sieci, jeśli czas dzierżawy jest mniejszy niż
    czas trwania aktualizacji.

    ^[3] Można wyłączyć tę funkcję dodając parametr panic=0 do
    parametrów rozruchowych.

    ^[4] System zarządzania pakietami Debiana nie pozwala zwykle na
    usunięcie lub zastąpienie pliku będącego własnością innego
    pakietu, chyba że pakiet został zdefiniowany jako zastępujący
    dany pakiet.

    ^[5] Lub tak długo, aż nie pojawi się nowe wydanie w tym czasie.
    Zwykle jedynie dwa wydania stabilne są wspierane w dowolnym
    czasie.

Rozdział 5. Problemy, które należy mieć na uwadze, a dotyczące
wydania jessie

    Czasami zmiany wprowadzone w nowym wydaniu mają skutki uboczne,
    którym nie można zapobiec w sensowny sposób, lub które odsłaniają
    inne błędy. Niniejszy rozdział dokumentuje znane problemy. Proszę
    zapoznać się również z erratą, dokumentacją odpowiednich
    pakietów, zgłoszeniami błędów i pozostałymi informacjami
    opisanymi w Sekcja 6.1, „Dodatkowe informacje”.

5.1. Ograniczenia we wsparciu bezpieczeństwa

    Istnieje kilka pakietów, którym Debian nie może zapewnić
    minimalnego wsparcia bezpieczeństwa. Szczegółowo opisano je
    poniżej.

    Proszę zauważyć, że pakiet debian-security-support, wprowadzony w
    Jessie, pomaga śledzić status wsparcia bezpieczeństwa
    zainstalowanych pakietów.

5.1.1. Stan bezpieczeństwa przeglądarek internetowych

    Debian 8 zawiera kilka silników przeglądarek, które są narażone
    na wiele zagrożeń bezpieczeństwa. Wysoki poziom błędów związanych
    z bezpieczeństwem oraz częściowy brak długotrwałego wsparcia
    przed projekty macierzyste powoduje, że bardzo trudno jest
    wspierać te przeglądarki w postaci przepisywanych do starszych
    wersji poprawek bezpieczeństwa. Co więcej, zależności między
    bibliotekami powodują, że nie da się zaktualizować ich do
    nowszych wersji. W związku z tym przeglądarki oparte o silniki
    webkit, qtwebkit i khtml znajdują się w wydaniu Jessie, ale nie
    są objęte wsparciem bezpieczeństwa. Przeglądarek tych nie należy
    używać do przeglądania niezaufanych stron internetowych.

    Do zwykłego przeglądania Internetu zalecamy Iceweasel lub
    Chromium.

    Chromium - choć zbudowany na podstawie kodu Webkit - jest
    niezależnym pakietem który będzie utrzymywany w aktualności przez
    przebudowanie bieżących wydań Chromium do wydania stabilnego.
    Iceweasel i Icedove również będą aktualne poprzez przebudowanie
    bieżących wydań ESR do wydania stabilnego.

5.1.2. Brak wsparcia bezpieczeństwa dla ekosystemów wokół libv8 i
Node.js

    Platformę Node.js zbudowano w oparciu o libv8-3.14, które
    doświadcza wielu problemów związanych z bezpieczeństwem. Obecnie
    brakuje wolontariuszy wewnątrz projektu i w zespole ds.
    bezpieczeństwa, którzy chcieliby poświęcić znaczną ilość czasu do
    ich rozwiązania.

    Niestety, oznacza to że libv8-3.14, nodejs i powiązane pakiety
    node-* nie powinny być używane z niezaufaną zawartością, taką jak
    nieprzefiltrowane dane z Internetu.

    Dodatkowo pakiety te nie otrzymają żadnych aktualizacji
    bezpieczeństwa w trakcie wsparcia wydania Jessie.

5.1.3. Wcześniejsze zakończenie wsparcia bezpieczeństwa MediaWiki.

    Wsparcie bezpieczeństwa ze strony projektu macierzystego dla
    serii 1.19 mediawiki kończy się w trakcie przewidywanego czasu
    wspierania wydania Jessie. Pakiet mediawiki znalazł się w
    dystrybucji aby spełnić zależności ze strony innych pakietów.

    Poprawki bezpieczeństwa do mediawiki będą dostarczane do momentu
    zakończenia okresu wsparcia wydania Wheezy, czyli w kwietniu
    2016.

5.2. Serwer OpenSSH zyskał domyślne ustawienie: PermitRootLogin
without-password

    Aby wzmocnić domyślne ustawienia, konfiguracja openssh-server
    przyjmie obecnie wartość domyślną "PermitRootLogin
    without-password". Użytkownicy korzystający z uwierzytelnienia
    hasłem użytkownika root mogą być dotknięci tą zmianą.

    Pakiet openssh-server postara się wykryć takie przypadki i
    zwiększyć priorytet szablonu debconf.

    Aby pozostawić uwierzytelnianie hasłem użytkownika root można również
    dokonać uprzedniej konfiguracji za pomocą:
   
    # The "false" value is in fact correct despite being confusing.
    $ echo 'openssh-server openssh-server/permit-root-login boolean false' | debconf-set-selections

5.3. Kompatybilność Puppet 2.7 / 3.7

    Osoby używające Puppet muszą wiedzieć, że Puppet 3.7 nie jest
    kompatybilny wstecznie z Puppet 2.7. Wśród wielu innych rzeczy,
    zmieniono reguły zasięgów oraz usunięto wiele przestarzałych
    konstrukcji. Więcej informacji o zmianach można przeczytać w
    uwagach do wydania Puppet 3.x (https://docs.puppetlabs.com/puppet
    /3/reference/release_notes.html#puppet-300) , choć w wersji 3.7
    dokonano kolejnych zmian.

    Sprawdzenie plików dziennika bieżącego puppetmaster w celu
    znalezienia ostrzeżeń o przestarzałych konstrukcjach i
    rozwiązanie wszystkich wskazanych w ten sposób problemów przed
    uaktualnieniem znacznie ułatwi proces aktualizacji. Zamiast lub
    oprócz tego można również przetestować pliki manifest narzędziem
    Puppet catalog test (https://github.com/duritong/
    puppet_catalog_test) które może również wyszukać potencjalne
    przeszkody w aktualizacji.

    Przy aktualizacji systemu zarządzania Puppet z wydania Wheezy do
    Jessie należy upewnić się, że na odpowiednim puppetmaster działa
    co najmniej wersja 3.7. Jeśli master korzysta z wersji
    puppetmaster z wydania Wheezy, system zarządzający Jessiem nie
    będzie mógł się z nim połączyć.

    Więcej informacji o niekompatybilnych zmianach można znaleźć na
    stronach Telly upgrade issues (https://projects.puppetlabs.com/
    projects/puppet/wiki/Telly_Upgrade_Issues) i "The Angry Guide to
    Puppet 3" (http://somethingsinistral.net/blog/
    the-angry-guide-to-puppet-3/) .

5.4. Zmiany w zachowaniu PHP 5.6 wynikające z aktualizacji

    Aktualizacja do wydania Jessie obejmuje uaktualnienie PHP z
    wersji 5.4 do 5.6. Może mieć ona wpływ na lokalne skrypty PHP, w
    związku z czym zaleca się sprawdzenie ich przed dokonaniem
    aktualizacji. Poniżej znajduje się opis niektórych problemów:

      * Aby zapobiec atakom typu man-in-the-middle przeciwko
        szyfrowanym transferom, strumienie klientów weryfikują
        obecnie domyślnie certyfikaty partnerów.

        W wyniku tej zmiany istniejący kod używający
        opakowań strumieni ssl:// lub tls:// (np. file_get_contents
        (), fsockopen(), stream_socket_client()) może obecnie nie
        łączyć się bez ręcznego wyłączenia weryfikacji partnerów za
        pomocą ustawienia "verify_peer" strumienia.

        Więcej informacji o tym problemie można znaleźć w tym
        dokumencie (https://wiki.php.net/rfc/tls-peer-verification) .

      * PHP w wielu przypadkach zmienia obsługę ignorowania wielkości
        znaków:

          + Cała wewnętrzna obsługa ignorowania wielkości znaków w
            klasach, funkcjach i nazwach stałych jest wykonywana
            zgodnie z regułami ASCII. Bieżące ustawienia językowe są
            ignorowane.

          + Słowa kluczowe "self", "parent" i "static" są obecnie
            zawsze niezależne od wielkości znaków.
   
          + Funkcja json_decode() nie akceptuje obecnie wariantów
            wartości "boolean" innych niż pisanych małymi literami.

      * Usunięto funkcje logo GUID (np. php_logo_guid()).

      * Obecnie nie da się nadpisywać kluczy w statycznych tablicach
        liczbowych (skalarnych). Więcej informacji o tym problemie
        znajduje się w opisie błędu PHP nr 66015 (https://
        bugs.php.net/bug.php?id=66015) .

      * Funkcje mcrypt_encrypt(), mcrypt_decrypt() i mcrypt_{MODE}()
        nie obsługują obecnie kluczy lub IV o niewłaściwych
        rozmiarach. Co więcej, IV jest obecne wymagane jeżeli używany
        tryb szyfru bloku wymaga go.

      * Z powodów prawnych implementację JSON dostarczaną razem z PHP
        zastąpiono wersję udostępnianą przez moduł PECL "jsonc". Może
        zajść potrzeba sprawdzenia, czy kod nie zakłada występowania
        pewnych detali implementacyjnych parsera PHP JSON.

      * The "short_open_tag" setting is now disabled by default. The
        ASP variant of the short tags ("<%" and "%>") are scheduled
        for removal in PHP7.

    Więcej informacji i pełna lista potencjalnych problemów znajduje
    się w liście niekompatybilnych wstecznie zmian PHP projektu
    macierzystego dla wersji PHP 5.5 (https://php.net/manual/en/
    migration55.incompatible.php) i 5.6 (https://php.net/manual/en/
    migration56.incompatible.php) .

5.5. Niekompatybilne zmiany w Apache HTTPD 2.4

    Uwaga
   
    Poniższy rozdział ma znaczenie jedynie w przypadku systemów z
    zainstalowanym serwerem HTTPD Apache skonfigurowanym ręcznie.

    W wersji 2.4 serwera HTTPD Apache zaszło wiele zmian w
    konfiguracji. Od strony projektu macierzystego zmieniła się
    składnia. Duże zmiany dotknęły przede wszystkim dyrektyw kontroli
    dostępu, co będzie wymagało ręcznej zmiany na nowe dyrektywy.

    Moduł mod_access_compat w poradniku aktualizacji projektu
    wskazany jest jako możliwa alternatywa do bezpośredniej migracji.
    Niestety, z informacji od użytkowników wynika, że może nie zawsze
    działać poprawnie.

    Zarządzanie plikami konfiguracyjnymi zmieniło się również w
    pakiecie Debiana. W szczególności, wszystkie strony i pliki
    konfiguracyjne muszą kończyć się obecnie ".conf", aby domyślnie
    były parsowane. Zmiana zastępuje również obecne korzystanie z /
    etc/apache2/conf.d/.

    Uwaga

    Podczas aktualizacji mogą się wyświetlać również ostrzeżenia o
    plikach konfiguracyjnych umieszczonych w /etc/apache2/conf.d/,
    które są udostępniane przez pakiety Debiana. Ostrzeżenia nie da
    się uniknąć, ale jest niegroźne, jako że poszczególne pakiety
    przeniosą swoją konfigurację po zakończeniu aktualizacji (co
    zwykle następuje po wypisaniu ostrzeżenia przez HTTPD Apache).

    Więcej informacji i pełna lista zmian:

      * Upgrading to 2.4 from 2.2 (http://httpd.apache.org/docs/2.4/
        upgrading.html) - dokument udostępniony przez Apache dla
        zmian projektu macierzystego.

      * Plik /usr/share/doc/apache2/NEWS.Debian.gz zawarty w pakiecie
        apache2.

5.6. Aktualizacja instaluje nowy domyślny system init wydania Jessie

    Domyślnym systemem init wydania Jessie jest systemd-sysv. Pakiet
    jest instalowany automatycznie przy aktualizacji.

    Osoby preferujący inny system init, taki jak sysvinit-core lub
    upstart powinny ustawić odpowiedni priorytet APT-a przed
    aktualizacją. Może być to wymagane również przy aktualizacji
    kontenerów LXC przed aktualizacją systemu gospodarza. W takim
    przypadku proszę zapoznać się z Sekcja 5.8.1, „Aktualizacja gości
    LXC na gospodarzu z wydaniem Wheezy”.

    Przykładowo, aby zapobiec instalacji systemd-sysv przy
    aktualizacji, można utworzyć plik /etc/apt/preferences.d/
    local-pin-init z poniższą zawartością:

    Package: systemd-sysv
    Pin: release o=Debian
    Pin-Priority: -1

    Ostrzeżenie

    Proszę zauważyć, że niektóre pakiety mogą nie działać w pełni lub
    nie wykorzystywać wszystkich dostępnych funkcji z systemem init
    innym niż domyślny.

    Proszę zauważyć, że aktualizacja może doprowadzić do instalacji
    pakietów zawierających w swej nazwie "systemd" nawet przy
    powyższych ustawieniach. Nie zmieni to systemu init. Aby systemd
    stał się systemem init z którego będzie korzystał system,
    konieczne jest uprzednie zainstalowanie pakietu systemd-sysv.

    Jeżeli APT lub aptitude ma problemy z wybraniem ścieżki
    aktualizacji z włączonym priorytetem, można mu pomóc ręcznie
    instalując sysvinit-core i systemd-shim.

5.6.1. Bardziej rygorystyczna obsługa błędów montowań w trakcie
rozruchu przez systemd

    Nowy domyślny system init systemd-sysv, zachowuje się w inny
    sposób przy niepowodzeniu zamontowania punktu montowania "auto" w
    trakcie rozruchu systemu, w porównaniu do sysvinit. Jeśli nie uda
    się zamontować punktu montowania "auto" (bez opcji "nofail"),
    systemd odwoła się do powłoki awaryjnej zamiast kontynuować
    rozruch.

    Zalecamy aby wszystkie odłączalne lub "opcjonalne" punkty
    montowań (np. dyski sieciowe które nie są konieczne do działania
    systemu) ujęte w /etc/fstab miały przypisaną opcję "noauto" lub
    "nofail".

5.6.2. Zalecane wyczyszczenie przestarzałych skryptów init

    Przy aktualizowaniu dystrybucji z poprzednich wydań system może
    zawierać przestarzałe skrypty init udostępniane przez już
    usunięte pakiety. Skrypty te mogą nie zawierać lub posiadać
    nieprawidłowe metadane, co może doprowadzić do pętli zależności w
    konfiguracji inita.

    Z tego względu zalecamy przejrzenie listy pakietów ze statusem
    "rc" (usunięte, z pozostawionymi plikami konfiguracyjnymi) i
    wyczyszczenie co najmniej tych, zawierających skrypty init.

    Więcej informacji i znajdowaniu i czyszczeniu usuniętych
    pakietów: Sekcja 4.8.1, „Czyszczenie usuniętych pakietów”.

5.6.3. Lokalnie zmodyfikowane skrypty init mogą wymagać przepisania
pod systemd

    Uwaga
   
    Poniższy rozdział ma znaczenie jedynie w przypadku systemów w
    których zmodyfikowano skrypty init dostarczane przez Debiana.

    W przypadku modyfikacji skryptów init dostarczanych przez Debiana
    proszę wziąć pod uwagę, że mogły zostać zastąpione przez plik
    unit systemd lub przez samego systemd. Jeśli zainstalowano pakiet
    debsums, można wyszukać lokalnie zmodyfikowane skrypty init za
    pomocą poniższego polecenia powłoki.

    debsums -c -e | grep ^/etc/init.d

    W przypadku braku pakietu debsums można skorzystać z poniższego
    polecenia.

      dpkg-query --show -f'${Conffiles}' | sed 's, /,\n/,g' | \
        grep /etc/init.d | awk 'NF,OFS="  " {print $2, $1}' | \
        md5sum --quiet -c

    Jeżeli któreś z powyższych poleceń oznaczy jakieś pliki i
    odpowiadające im pakiety lub pakiet systemd zapewnia obecnie plik
    systemd dla tej usługi, to plik unit systemd będzie miał
    pierwszeństwo przed lokalnie zmodyfikowanym skryptem init. W
    zależności od typu zmiany istnieją różne sposoby przeprowadzenia
    migracji.

    Jeśli to konieczne, możliwe jest przesłonięcie pliku unit systemd
    aby uruchomił on skrypt sysvinit. Więcej informacji o plikach
    systemd znajduje się w poniższych opracowaniach (w języku
    angielskim).

      * How Do I Convert A SysV Init Script Into A systemd Service
        File? (http://0pointer.de/blog/projects/
        systemd-for-admins-3.html)

      * systemd.special — Special systemd units (http://0pointer.de/
        public/systemd-man/systemd.special.html)

      * My Service Can't Get Realtime! (http://www.freedesktop.org/
        wiki/Software/systemd/MyServiceCantGetRealtime/) (zawiera
        również króciutką wzmiankę o przywoływaniu skryptów init z
        plików unit)

5.6.4. Do interakcji w czasie rozruchu z systemd wymagany jest
Plymouth

    Jeżeli w trakcie rozruchu wymagana jest interakcja z
    użytkownikiem (np. do wpisania hasła do zaszyfrowanego dysku),
    proszę upewnić się, że zainstalowano i skonfigurowano plymouth.
    Więcej informacji o konfiguracji plymouth znajduje się w pliku /
    usr/share/doc/plymouth/README.Debian.

    Bez plymouth może okazać się, że okienka z prośbą o wpisanie
    hasła nie pojawią się. Z informacji od użytkowników wynika, że
    wpisane znaki dotrą do cryptsetup pomimo że nie będzie to
    widoczne. W takim przypadku podanie poprawnego hasła może
    działać.

5.6.5. Interakcja pomiędzy logind i acpid

    Zdarzenia ACPI mogą być obsługiwane przez logind lub acpid.
    Skonfigurowanie obu usług do obsługi wydarzeń w różny sposób może
    powodować nieprzewidywane skutki.

    Zaleca się dokonanie migracji wszystkich zmienionych ustawień do
    logind i odinstalowanie acpid. Zamiast tego da się
    również skonfigurować logind aby ignorował zdarzenia ACPI przez
    dodanie:

    HandlePowerKey=ignore
    HandleSuspendKey=ignore
    HandleHibernateKey=ignore
    HandleLidSwitch=ignore

    do /etc/systemd/logind.conf. Może to zmienić zachowanie środowisk
    graficznych korzystających z logind.

5.6.6. Nieobsługiwane funkcje crypttab przez systemd (np. "keyscript
=...")

    Część funkcji cryptsetup nie jest obsługiwana przy korzystaniu z
    systemd jako systemu init. Są to:

      * precheck

      * check

      * checkargs
   
      * noearly

      * loud

      * keyscript

    Jeśli system wymaga którejkolwiek z nich do poprawnego rozruchu,
    konieczne będzie użycie sysvinit (sysvinit-core) jako systemu
    init. Więcej informacji o tym jak uniknąć konkretnego systemu
    init: Sekcja 5.6, „Aktualizacja instaluje nowy domyślny system
    init wydania Jessie”.

    Można sprawdzić czy któraś z tych opcji jest używana w swoim
    systemie za pomocą polecenia:

    grep -e precheck -e check -e checkargs -e noearly -e loud -e keyscript /etc/crypttab

    Jeśli polecenie nie wypisze żadnego wyniku, system nie korzysta z
    powyższych opcji.

5.6.7. systemd: wywołuje SIGKILL zbyt wcześnie [naprawiono w 8.1]

    Uwaga
   
    Problem został rozwiązany w wydaniu punktowym 8.1 Jessie.

    Zgłoszono regresję w systemd po wydaniu Jessie. Błąd występował
    przy zamykaniu lub ponownym uruchamianiu systemu, gdy systemd
    wysyłał SIGKILL do procesów bez zachowania odpowiedniego odstępu
    czasowego. Mogło to doprowadzić do utraty danych przez procesy
    które nie zachowują wszystkich danych w trakcie ponownego
    uruchamiania (np. działające bazy danych).

    Błąd jest śledzony w systemie śledzenia błędów Debiana pod
    numerem #784720 (https://bugs.debian.org/784720)

5.6.8. systemd: zachowanie polecenia "halt"

    Implementacja sysvinit polecenia halt wyłączała również komputer.
    Implementacja systemd-sysv zatrzymuje system, lecz nie wyłącza
    komputera. Aby zatrzymać system i wyłączyć komputer proszę używać
    polecenia poweroff.

    Zob. też błąd Debiana #783297 (https://bugs.debian.org/783297) .

5.7. Wymagane opcje konfiguracji jądra w Jessie

    Uwaga

    Poniższy rozdział tyczy się jedynie użytkowników kompilujących
    swoje jądra. Osoby korzystające z jąder skompilowanych przez
    projekt Debian mogą go pominąć.

    Poniższe opcje konfiguracji jądra są obecnie wymagane lub
    zalecane w wydaniu Jessie (oprócz tych z poprzednich wydań):

    # Wymagane do udev
    CONFIG_DEVTMPFS=y
    # Wymagane przez *część* usług systemd
    CONFIG_DEVPTS_MULTIPLE_INSTANCES=y
    # Wymagane przez "bluez" (GNOME)
    CONFIG_BT=y
    # Wymagane przez cups + systemd.
    CONFIG_PPDEV=y

    Usługi systemd wymagające CONFIG_DEVPTS_MULTIPLE_INSTANCES=y
    zwykle zawierają co najmniej jedną z poniższych dyrektyw:

    PrivateTmp=yes
    PrivateDevices=yes
    PrivateNetwork=yes
    ProtectSystem=yes

    Jeśli nie korzysta się z systemd lub żadna z usług systemd nie
    korzysta z powyższych dyrektyw opisywana opcja konfiguracji może
    nie być wymagana.

    Więcej informacji o wymaganiach jest opisanych w rozdziale
    zatytułowanym "REQUIREMENTS" w pliku README (https://
    sources.debian.net/src/systemd/jessie/README/) pakietu systemd.

5.8. Zastrzeżenia przy aktualizacji gospodarzy i kontenerów LXC

    Uwaga

    Poniższy rozdział ma znaczenie jedynie w przypadku systemów które
    mają kontenery i gospodarzy LXC, co zwykle nie dotyczy
    przeciętnych użytkowników.

    Aktualizacja z wydania Wheezy do Jessie spowoduje domyślnie
    migrację dystrybucji na systemd (zobacz Sekcja 5.6, „Aktualizacja
    instaluje nowy domyślny system init wydania Jessie”).

    Przy aktualizacji kontenera lub maszyny wirtualnej LXC mogą zajść
    następujące przypadki w zależności od tego, czy system-gospodarz
    dokonał już aktualizacji do jessie.

5.8.1. Aktualizacja gości LXC na gospodarzu z wydaniem Wheezy

    Przy aktualizacji kontenera LXC działającego na systemie-
    gospodarzu Wheezy może zajść konieczność zablokowania
    automatycznej migracji do systemd. Można to zrobić przed
    odpowiednie priorytet, zgodnie z opisem Sekcja 5.6, „Aktualizacja
    instaluje nowy domyślny system init wydania Jessie”.

    Jest to wymagane w związku z brakiem możliwości rozruchu
    gospodarza z wydaniem Wheezy i systemd.

    Po aktualizacji systemu-gospodarza do Jessie powinno się dać
    przejść na systemd w kontenerze LXC. Więcej informacji o
    czynnościach do wykonania na gospodarzu z wydaniem Jessie
    znajduje się poniżej.

5.8.2. Aktualizacja gości LXC na gospodarzu z wydaniem Jessie

    Aby uruchomić gości LXC i systemd, konieczne jest dostosowanie
    konfiguracji kontenera LXC. Konfiguracja ta znajduje się zwykle /
    var/lib/lxc/NAZWA_KONTENERA/config. Konieczne jest dodanie dwóch
    poniższych ustawień:

    lxc.autodev = 1
    lxc.kmsg = 0

5.8.3. Więcej informacji

    Więcej informacji o LXC w Debianie znajduje się w wiki Debiana
    (https://wiki.debian.org/LXC) .

5.9. Ręczna migracja dysków szyfrowanych whirlpool w LUKS
(konfiguracje niestandardowe)

    Uwaga

    Poniższy rozdział jest przeznaczony wyłącznie dla użytkowników
    korzystających z dysków zaszyfrowanych przy pomocy LUKS i funkcji
    skrótu whirlpool. Instalator dystrybucji Debian nigdy nie
    obsługiwał tworzenia takich dysków.

    Jeśli utworzyło się ręcznie dysk zaszyfrowany whirlpool w LUKS,
    konieczne będzie ręczne przejście na silniejszą funkcję skrótu.
    Aby sprawdzić czy dysk korzysta z whirlpool proszę wydać
    polecenie:

    # /sbin/cryptsetup luksDump <urządzenie-dyskowe> | grep -i whirlpool

    Więcej informacji o migracji można znaleźć pod wpisem "8.3 Gcrypt
    1.6.x and later break Whirlpool" na stronie często zadawanych
    pytań cryptsetup (https://code.google.com/p/cryptsetup/wiki/
    FrequentlyAskedQuestions) .

    Ostrzeżenie

    Jeśli ma się taki dysk, cryptsetup domyślnie odmówi odszyfrowania
    go. Jeśli partycja główna lub inny dysk systemowy (np. /usr)
    został zaszyfrowany przy pomocy whirlpool, należy dokonać
    migracji przed pierwszym ponownym uruchomieniem po aktualizacji
    pakietu cryptsetup.

5.10. Pulpit GNOME wymaga prostej grafiki 3D

    Pulpit GNOME 3.14 w Jessie nie ma już opcji trybu zastępczego dla
    komputerów nieobsługujących prostej grafiki 3D. Do poprawnego
    działania konieczne jest posiadanie odpowiednio nowego komputera
    PC (wszystkie komputery z ostatnich 10 lat powinny obsługiwać
    wymagany zestaw instrukcji SSE2) lub, w przypadku architektur
    innych niż i386 i amd64, kart graficznych z akceleracją 3D i
    sterownikami EGL.

5.11. Pulpit GNOME nie działa z własnościowymi sterownikami FGLRX do
AMD

    W przeciwieństwie do innych sterowników OpenGL sterownik FGLRX
    firmy AMD do kart Radeon nie obsługuje interfejsu EGL. W związku
    z tym wiele aplikacji GNOME, w tym główne składniki pulpitu GNOME
    nie uruchomią się na tym sterowniku.

    Zaleca się przejście na wolny sterownik radeon, który jest
    jednocześnie domyślnym sterownikiem w wydaniu jessie.

5.12. Zmiany w domyślnych skrótach klawiszowych GNOME

    Zmieniono domyślne skróty klawiszowe pulpitu GNOME, tak aby
    bardziej przypominały te znane z innych systemów operacyjnych.

    Uprzednio zmodyfikowane przez użytkownika ustawienia skrótów będą
    zachowane prze aktualizacji. Zawsze można je zmienić z centrum
    konfiguracyjnego GNOME, dostępnego z menu w górnym prawym rogu po
    kliknięciu na ikonę "ustawienia".

5.13. Zmiany w domyślnych powłokach użytkowników systemowych
udostępnianych przez base-passwd

    Aktualizacja pakietu base-passwd spowoduje przypisanie pewnym
    użytkownikom powłoki "nologin". Dotyczy to poniższych
    użytkowników:

      * daemon

      * bin

      * sys

      * sync

      * games

      * man

      * lp

      * mail

      * news

      * uucp

      * proxy

      * www-data

      * backup

      * list

      * irc

      * gnats

      * nobody

    Jeżeli lokalna konfiguracja wymaga aby któryś z tych użytkowników
    posiadał powłokę, powinno się zrezygnować z migracji lub
    przeprowadzić migrację a następnie zmienić powłokę odpowiednim
    użytkowników. Istotnym przykładem może być wykonywanie lokalnych
    kopii zapasowych za pomocą użytkownika "backup" z
    uwierzytelnianiem "ssh-key".

    Ostrzeżenie
   
    Migracja odbędzie się automatycznie, jeśli ustawiono priorytet
    pytań debconfa na nie niższy niż "wysoki".

    Aby zachować bieżącą powłokę dla danego użytkownika można
    wstępnie odpowiedzieć na pytania konfiguracyjne za
    pomocą poniższego polecenia:

    echo 'base-passwd base-passwd/system/nazwa-użytkownika/shell/przetworzona-nazwa-powłoki/_usr_sbin_nologin boolean false' | debconf-set-selections

    Gdzie nazwa-użytkownika jest nazwą użytkownika z pytania, a
    przetworzona-nazwa-powłoki jest nazwą powłoki przetworzoną
    zgodnie z zasadą, że wszystkie znaki inne niż cyfry, litery,
    minusy i podkreślniki są zastępowane przez podkreślniki.
    Przykładowo /bin/bash jest zapisane jako _bin_bash.

5.14. Migracja do nowej poczty, kalendarza i kontaktów (Kontact) KDE

    System Kontact Personal Information Management przeszedł dużą
    zmianę. Nowa wersja w znacznie większym stopniu korzysta z
    metadanych indeksujących, dlatego dane każdego użytkownika muszą
    przejść migrację.

    Kontakty poczty, wpisy kalendarza i książki adresowej
    przechodzą migrację automatycznie, gdy dany użytkownik loguje się
    i uruchamia się dany komponent. Część zaawansowanych ustawień,
    takich jak filtry poczty i własne szablony wymagają ręcznych
    zmian. Więcej informacji i rozwiązań problemów znajduje się w
    wiki Debiana (https://wiki.debian.org/KDE/Jessie/kontact) .

5.15. Brak wirtualnych konsoli ("getty") przy kilku środowiskach
graficznych

    Uwaga

    This issue is currently reported as fixed in Jessie. Should you
    still be able to reproduce it, then please follow up to Debian
    Bug#766462 (https://bugs.debian.org/766462) . Note that you may
    have to unarchive the issue first (please refer to the Debian BTS
    control server (https://www.debian.org/Bugs/server-control)
    documentation on how to unarchive bugs).

    Jeśli zainstalowano kilka środowisk graficznych może okazać się,
    że żadna z "konsoli wirtualnych" nie wyświetli ekranu logowania.

    Ten problem występuje gdy zainstalowano razem plymouth, systemd i
    GNOME. Błąd zgłoszono pod numerem #766462 (https://
    bugs.debian.org/766462) .

    Ze zgłoszeń wynika, że usunięcie argumentu "splash" z wiersza
    poleceń jądra może zapobiec występowaniu tego problemu. Proszę
    sprawdzić /etc/default/grub i pamiętać o uruchomieniu update-grub
    po aktualizacji tego pliku.

5.16. "VGA signal out of range" / pusty ekran przy rozruchu z grub-pc

    Znana jest niekompatybilność grub-pc ze starszymi kartami
    graficznymi (np. "ATI Rage 128 Pro Ultra TR") który powoduje
    wyświetlenie pustego ekranu podczas rozruchu. Monitor może
    również pokazać komunikat "VGA signal out of range" lub podobny.

    Prostym rozwiązaniem problemu jest ustawienie GRUB_TERMINAL=
    console w /etc/default/grub.

5.17. Ściślejsze sprawdzanie plików crona w crontab

    Program crontab jest dokładniejszy i może odmówić zapisania pliku
    crona który jest nieprawidłowy. W przypadku problemów z crontab
    -e, proszę sprawdzić plik crontab pod kątem istniejących pomyłek.

5.18. Zmiana w obsłudze nieodczytywalnych ścieżek modułów przez perl

    Od wersji 5.18 (w tym 5.20 dostarczanej w wydaniu Jessie), Perl
    zakończy działanie z błędem krytycznym, jeżeli napotka na
    nieodczytywalną ścieżkę w @INC. Wcześniej pomijał takie wpisy.
    Zaleca się sprawdzenie zawartości @INC w środowisku użytkownika
    pod kątem katalogów które nie są do odczytu dla wszystkich i
    dokonanie odpowiednich zmian.

    Można pokazać domyślne @INC Perla za pomocą polecenia perl -V.

5.19. Zastrzeżenia przy aktualizacji klastrów Ganeti

5.19.1. Problemy przy aktualizacji klastrów Ganeti z instancjami
używającymi DRBD [naprawiony w 8.1]

    Uwaga
   
    Problem został rozwiązany w wydaniu punktowym 8.1 Jessie.

    Wersja ganeti (2.12.0-3) z wydania Jessie nie obsługuje migracji
    z instalacji w wersji 2.5 i wcześniejszych (w tym Wheezy) w
    przypadkach gdy istnieją instancje korzystające z dysków DRBD.
    Ten problem powinien zostać rozwiązany w kolejnym wydaniu
    punktowym, dlatego zaleca się niedokonywanie aktualizacji
    klastrów Ganeti o których mowa do tego momentu. Więcej informacji
    można znaleźć w zgłoszeniu błędu #783186 (https://bugs.debian.org
    /783186) .

5.19.2. Ogólne uwagi przy aktualizacji klastrów Ganeti

    Zalecaną procedurą aktualizacji klastra Ganeti z wersji ganeti z
    wydania Wheezy (2.5.2-1) do Jessie (2.12.0-3) jest zatrzymanie
    wszystkich instancji, a następnie dokonanie jednoczesnej
    aktualizacji oraz ponownego uruchomienia wszystkich węzłów
    jednocześnie. Zapewni to, że na wszystkich instancjach będzie
    działać wersja nadzorcy z wydania Jessie, a wszystkie węzły będą
    miały uruchomioną tą samą wersję Ganeti i DRBD.

    Proszę zauważyć, że nie jest obsługiwane jednoczesne uruchomienie
    węzłów z różnymi wersjami: 2.5 i 2.12. Dodatkowo, w zależności od
    nadzorcy, migracja live instancji może nie działać między
    wersjami nadzorcy z wydania Wheezy i Jessie.

5.20. Nowe wymaganie do wykonywania plików w Samba4

    Jeżeli klient zażąda otwarcia pliku do wykonania, Samba4 będzie
    wymagała, aby oprócz zwykłych uprawnień odczytu ustawiony był
    atrybut wykonywalności. Powoduje to również, że skrypty
    "netlogon" są po cichu ignorowane, jeżeli powyższy warunek nie
    jest spełniony.

5.21. Cryptsetup może uniemożliwić rozruch z BUSYBOX=n

    Uwaga

    Poniższy rozdział ma znaczenie jedynie w przypadku systemów w
    których ręcznie zmieniono /etc/initramfs-tools/initramfs.conf
    tak, aby nie był używany busybox.

    Jeśli zainstalowano zarówno busybox jak cryptsetup oraz
    skonfigurowano initramfs tak, aby nie używać busybox, może to
    doprowadzić do braku możliwości rozruchu systemu.

    Proszę sprawdzić wartość swojego ustawienia BUSYBOX w /etc/
    initramfs-tools/initramfs.conf jeśli zainstalowano oba omawiane
    pakiety. Obecnie znanym obejściem problemu jest odinstalowanie
    pakietu busybox lub ustawienie BUSYBOX=y w /etc/initramfs-tools/
    initramfs.conf.

    Ostrzeżenie

    Jeśli dokonano zmian, proszę pamiętać o wykonaniu
    update-initramfs -u aby zaktualizować swój initramfs. W
    przeciwnym razie ustawienie nie odniesienie pożądanego skutku.

    Więcej informacji znajduje się w opisie błędu #783297 (https://
    bugs.debian.org/783297) .

5.22. Backwards incompatible changes in the Squid webproxy

    Uwaga
   
    This section only applies to people that have installed the squid
    webproxy.

    The configuration of squid has changed in an incompatible way.
    Notably some of the squid "helpers" have changed their name. If
    your configuration relies on old features no longer present or on
    the old names for the helpers, your squid service may fail to
    start after the upgrade.

    Please see the upstream release notes for more information. These
    are:

      * Release notes for Squid 3.2 (http://www.squid-cache.org/
        Versions/v3/3.2/RELEASENOTES.html) (The renamed helpers can
        be found in 2.6 Helper Name Changes (http://
        www.squid-cache.org/Versions/v3/3.2/RELEASENOTES.html#ss2.6)
        )

      * Release notes for Squid 3.3 (http://www.squid-cache.org/
        Versions/v3/3.3/RELEASENOTES.html)

      * Release notes for Squid 3.4 (http://www.squid-cache.org/
        Versions/v3/3.4/RELEASENOTES.html)

Rozdział 6. Więcej informacji na temat projektu Debian

6.1. Dodatkowe informacje

    Poza uwagami do wydana i przewodnikiem po instalacji dostępna
    jest również dodatkowa dokumentacja na temat systemu Debian,
    pochodząca z Projektu Dokumentacji Debiana (DDP), którego
    zadaniem jest tworzenie wysokiej jakości dokumentacji dla
    użytkowników i deweloperów Debiana. Dostępne są dokumenty Debian
    Reference, Debian New Maintainers' Guide i FAQ Debiana oraz wiele
    innych. Pełny spis wszystkich zasobów można znaleźć na stronie z
    dokumentacją Debiana (https://www.debian.org/doc/) (proszę
    zwrócić uwagę na odnośnik do polskiej dokumentacji w dolnej
    części strony) i w Wiki Debiana (https://wiki.debian.org/) .

    Dokumentacja poszczególnych pakietów jest instalowana do
    katalogów /usr/share/doc/pakiet. Mogą być to informacje o prawach
    autorskich, detale dystrybucji Debian lub dokumentacja z projektu
    macierzystego.

6.2. Pomoc

    Istnieje wiele źródeł pomocy, rady i wsparcia dla użytkowników
    Debiana, lecz powinno się z nich korzystać wtedy, gdy przeszukało
    się wszelką dokumentację, która mogła zawierać wyjaśnienie
    problemu. Niniejszy rozdział jest krótkim wprowadzeniem który
    może okazać się pomocny dla nowych użytkowników Debiana.

6.2.1. Listy dyskusyjne

    Najbardziej interesującymi dla użytkowników Debiana listami
    dyskusyjnymi są: debian-user (angielska) i listy dla
    poszczególnych języków: debian-user-język (np. debian-user-polish
    - polska lista). Więcej informacji i szczegóły na temat
    subskrypcji zawiera strona https://lists.debian.org/ (https://
    lists.debian.org/) . Przed zamieszczeniem nowej wiadomości
    prosimy o uprzednie przeszukanie archiwów listy, które może już
    zawierać odpowiedź na zadawane pytanie; proszę również pamiętać o
    zachowaniu netykiety.

6.2.2. IRC

    Debian ma kanał IRC, który jest przeznaczony do pomocy
    użytkownikom Debiana (w sieci IRC OFTC). Dostęp do kanału można
    uzyskać ze swojego klienta IRC, pod adresem irc.debian.org,
    wybierając kanał #debian. Obowiązującym językiem jest angielski.

    Proszę przestrzegać zasad kanału respektując prawa innych
    użytkowników. Wytyczne są dostępne na Wiki Debiana (https://
    wiki.debian.org/DebianIRC) .

    Więcej informacji o OFTC można znaleźć na odpowiedniej stronie
    internetowej (http://www.oftc.net/) .

6.3. Zgłaszanie błędów

    Staramy się, aby Debian był systemem operacyjnym wysokiej
    jakości, jednak nie znaczy to, że udostępniane pakiety są
    całkowicie wolne od błędów. Zgodnie z filozofią „otwartego
    rozwoju” Debiana i jako usługa dla naszych użytkowników,
    dostarczamy wszystkie informacje o zgłoszonych błędach w naszym
    Systemie Śledzenia Błędów (Bug Tracking System - BTS). BTS można
    przeglądać pod adresem https://bugs.debian.org/ (https://
    bugs.debian.org/) .

    W przypadku znalezienia błędu w dystrybucji lub spakietowanym
    programie będącym jej częścią prosimy o zgłoszenie błędu, dzięki
    czemu będzie mógł zostać poprawiony w kolejnych wydaniach.
    Zgłaszanie błędów wymaga poprawnego adresu poczty elektronicznej.
    Dzięki niemu możliwe jest śledzenie błędów i kontakt deweloperów
    ze zgłaszającym, w razie potrzeby uzyskania dodatkowych
    informacji.

    Błędy można zgłaszać za pomocą programu reportbug lub ręcznie, za
    pomocą poczty elektronicznej. Więcej informacji o Systemie
    Śledzenia Błędów i sposobie korzystania z niego, zawiera
    dokumentacja (dostępna w /usr/share/doc/debian, jeśli
    zainstalowano pakiet doc-debian) lub strona System Śledzenia
    Błędów (https://bugs.debian.org/) .

6.4. Uczestnictwo w rozwoju Debiana

    Nie trzeba być ekspertem, aby wspomóc rozwój Debiana. Pomagając
    rozprawić się użytkownikom z ich problemami, za pomocą wielu
    dostępnych list dyskusyjnych (https://lists.debian.org/)
    uczestniczy się w rozwoju społeczności. Rozpoznawanie (jak
    również rozwiązywanie) problemów związanych z rozwojem
    dystrybucji, przez udział w listach deweloperskich (https://
    lists.debian.org/) jest również niezwykle pomocne. Aby utrzymać
    wysoką jakość dystrybucji Debian prosimy o zgłaszanie błędów
    (https://bugs.debian.org/) i pomoc deweloperom w ich śledzeniu i
    naprawianiu. Narzędzie how-can-i-help może pomóc w znalezieniu
    błędów które można naprawić. Osoby czujące się dobre w pisaniu,
    mogą pomóc w tworzeniu dokumentacji (https://www.debian.org/doc/
    cvs) lub tłumaczeniu (https://www.debian.org/international/)
    istniejącej na swój język.

    Jeśli ma się nieco więcej czasu można poświęcić go jakiejś części
    Wolnego Oprogramowania w Debianie. Szczególnie pożądane jest, aby
    adoptować lub zacząć opiekować się pakietami, o których dodanie
    prosili inni użytkownicy. Baza Work Needing and Prospective
    Packages (https://www.debian.org/devel/wnpp/) dostarcza
    szczegółowych informacji w tym zakresie. Jeśli jest się
    szczególnie zainteresowanym jakąś konkretną dziedziną to można
    włożyć swój wkład w któryś z podprojektów (https://www.debian.org
    /devel/#projects) Debiana, które zajmują się również portami na
    różne architektury lub w tzw. Debian Pure Blends (https://
    wiki.debian.org/DebianPureBlends) , przeznaczonych dla
    określonych grup użytkowników, albo w wiele innych.

    W każdym razie, niezależnie od tego, czy działa się na rzecz
    społeczności Wolnego Oprogramowania jako użytkownik, programista,
    osoba zajmująca się pisaniem dokumentacji lub tłumaczeniami, już
    teraz dokłada się swoją cegiełkę w budowie Wolnego
    Oprogramowania. Taka praca daje dużo satysfakcji i radości oraz
    pozwala na poznanie nowych ludzi.

Dodatek A. Zarządzanie wydaniem wheezy przed aktualizacją

    Dodatek zawiera informacje pozwalające upewnić się, że można
    instalować lub aktualizować pakiety z wheezy przed aktualizacją
    do jessie. Jest to konieczne tylko w szczególnych przypadkach.

A.1. Uaktualnienie wydania wheezy

    Nie różni się to od żadnej innej aktualizacji, którą
    przeprowadzano wcześniej w wydaniu wheezy. Jedyną różnicą jest
    konieczność upewnienia się, że lista pakietów wciąż odnosi się do
    wheezy, tak jak wyjaśniono to w Sekcja A.2, „Sprawdzenie listy
    źródeł”.

    Przy aktualizowaniu systemu z serwera lustrzanego Debiana,
    zostanie on automatycznie uaktualniony do ostatniego wydania
    punktowego wheezy.

A.2. Sprawdzenie listy źródeł

    Jeśli jakiś wiersz pliku /etc/apt/sources.list odnosi się do „
    stable”, oznacza to, że efektywnie „korzysta się” już z jessie.
    Może nie być to pożądane jeśli nie jest się jeszcze gotowym na
    aktualizację. Jeśli wykonało się już apt-get update, to wciąż
    można bezproblemowo skorzystać z poniższej procedury.

    Jeśli zainstalowało się już pakiety z wydania jessie, to
    prawdopodobnie nie ma sensu instalowania pakietów ze starego
    wydania wheezy. Proszę wówczas zdecydować czy chce się
    kontynuować czy też nie. Instalowanie starszych wersji pakietów
    jest technicznie możliwe lecz nie zostało tu opisane.

    Proszę otworzyć plik /etc/apt/sources.list swoim ulubionym
    edytorem (jako root) i sprawdzić wszystkie wiersze zaczynające
    się od deb http: lub deb ftp:, wyszukując odwołań do „stable”.
    Proszę zmienić wszystkie znalezione wpisy stable na wheezy.

    Jeśli istnieją jakieś wiersze zaczynające się od deb file:, to
    konieczne jest samodzielne sprawdzenie podanej w nich lokalizacji
    i określenie czy zawiera ona archiwum wydania wheezy czy jessie.

    Ważne

    Proszę nie zmieniać wierszy zaczynających się od deb cdrom:.
    Unieważni się je bowiem w ten sposób i konieczne będzie ponowne
    wykonanie polecenia apt-cdrom. Proszę nie przejmować się, że
    wiersz źródła „cdrom” odnosi się do „unstable”. Jest to mylące,
    lecz poprawne.

    Jeśli dokonało się jakichś zmian, proszę zapisać plik i wykonać

    # apt-get update

    aby odświeżyć listę pakietów.

A.3. Usunięcie przestarzałych plików konfiguracyjnych

    Przed aktualizacją do jessie, zaleca się usunąć stare pliki
    konfiguracyjne (takie jak *.dpkg-{new,old} z /etc.

A.4. Aktualizacja przestarzałych kodowań do UTF-8

    Jeśli posiada się system korzystający z kodowania innego niż
    UTF-8 (w przypadku systemu spolonizowanego może być to
    ISO-8859-2), zaleca się przejście na UTF-8. W przeszłości
    znaleziono błędy^[6], które pojawiały się wyłącznie w kodowaniach
    innych niż UTF-8. W przypadku systemów biurkowych, takie
    przestarzałe kodowania są obsługiwane za pomocą paskudnych
    sztuczek wewnątrz bibliotek. Nie możemy również zapewnić
    wystarczającego wsparcia dla użytkowników, którzy wciąż z nich
    korzystają.

    Aby skonfigurować swoje kodowanie, konieczne jest wykonanie
    polecenia dpkg-reconfigure locales. W pytaniu o domyślny wybór
    dla systemu proszę wybrać locale UTF-8 . Dodatkowo, proszę
    przejrzeć ustawienia swoich użytkowników i upewnić się, że nie
    posiadają oni starej konfiguracji locale w swoim środowisku.


---------------------------------------------------------------------

    ^[6] W wygaszaczu ekranu GNOME używanie haseł ze znakami spoza
    ASCII, obsługa pam_ldap, a nawet możliwość odblokowania ekranu
    może być niepewna, gdy nie korzysta się z UTF-8. Wygaszacz GNOME
    jest dotknięty błędem #599197 (http://bugs.debian.org/599197) .
    Menedżer plików Nautilus (i wszystkie programy korzystające z
    glib, jak również prawdopodobnie wszystkie programy Qt)
    zakładają, że nazwy plików podane są w UTF-8, podczas gdy powłoka
    zakłada, że korzystają z bieżącego kodowania wynikającego z
    ustawień systemowych. W codziennym użytkowaniu nazwy plików spoza
    ASCII są w takiej konfiguracji nieużywalne. Co więcej, czytnik
    ekranowy gnome-orca (który pozwala użytkownikom mających problemy
    ze wzrokiem na korzystanie ze środowiska GNOME) wymaga UTF-8 od
    wydania Squeeze. Przy używaniu przestarzałego kodowania nie
    będzie w stanie odczytać informacji z takich elementów okien jak
    panel Nautilusa i środowiska GNOME oraz menu Alt-F1.

Dodatek B. Współtwórcy uwag do wydania

    W tworzeniu uwag do wydania brało udział wiele osób, między
    innymi

    Adam Di Carlo, Andreas Barth, Andrei Popescu, Anne Bezemer, Bob 
    Hilliard, Charles Plessy, Christian Perrier, Daniel Baumann, 
    David Prévot, Eddy Petrișor, Emmanuel Kasper, Esko Arajärvi, 
    Frans Pop, Giovanni Rapagnani, Gordon Farquharson, Javier 
    Fernández-Sanguino Peña, Jens Seidel, Jonas Meurer, Jonathan 
    Nieder, Joost van Baal-Ilić, Josip Rodin, Julien Cristau, Justin
    B Rye, LaMont Jones, Luk Claes, Martin Michlmayr, Michael Biebl, 
    Moritz Mühlenhoff, Niels Thykier, Noah Meyerhans, Noritada 
    Kobayashi, Osamu Aoki, Peter Green, Rob Bradford, Samuel Thibault
    , Simon Bienlein, Simon Paillard, Stefan Fritsch, Steve Langasek,
    Steve McIntyre, Tobias Scherer, Vincent McIntyre i W. Martin 
    Borgert.

    Niniejszy dokument został przetłumaczony na wiele języków.
    Podziękowania dla wszystkich tłumaczy!

    Polskie tłumaczenie: Michał Kułach i Wojciech Zaręba. Cenne
    wskazówki i uwagi wnieśli: Bolesław Śliwicki i Paweł Sadkowski.

Indeks

A

Abiword, Co nowego w dystrybucji?
Apache, Co nowego w dystrybucji?

B

BIND, Co nowego w dystrybucji?
Blu-ray, Płyty CD, DVD i BD

C

Calligra, Co nowego w dystrybucji?
CD, Płyty CD, DVD i BD
Courier, Co nowego w dystrybucji?

D

Dia, Co nowego w dystrybucji?
DocBook XML, Źródła niniejszego dokumentu
DVD, Płyty CD, DVD i BD

E

Evolution, Co nowego w dystrybucji?
Exim, Co nowego w dystrybucji?

G

GCC, Co nowego w dystrybucji?
GNOME, Co nowego w dystrybucji?
GNUcash, Co nowego w dystrybucji?
GNUmeric, Co nowego w dystrybucji?

K

KDE, Co nowego w dystrybucji?

L

LibreOffice, Co nowego w dystrybucji?
LXDE, Co nowego w dystrybucji?

O

OpenSSH, Co nowego w dystrybucji?

P

packages

    apache2, Niekompatybilne zmiany w Apache HTTPD 2.4
    apt, Wysyłanie sprawozdań aktualizacji, Przygotowanie źródeł do
        APT-a, Dodanie internetowych źródeł APT-a, Dodanie źródeł
        APT-a do lokalnego serwera lustrzanego
    apt-listchanges, Minimalna aktualizacja systemu
    aptitude, Zapewnienie wystarczającej ilości wolnego miejsca , 
        Czyszczenie usuniętych pakietów
    base-passwd, Zmiany w domyślnych powłokach użytkowników
        systemowych udostępnianych przez base-passwd
    busybox, Cryptsetup może uniemożliwić rozruch z BUSYBOX=n
    cryptsetup, Ręczna migracja dysków szyfrowanych whirlpool w LUKS
        (konfiguracje niestandardowe), Cryptsetup może uniemożliwić
        rozruch z BUSYBOX=n
    dblatex, Źródła niniejszego dokumentu
    debian-goodies, Zapewnienie wystarczającej ilości wolnego miejsca
    debian-kernel-handbook, Instalowanie metapakietu jądra
    debian-security-support, Bezpieczeństwo, Ograniczenia we wsparciu
        bezpieczeństwa
    doc-debian, Zgłaszanie błędów
    docbook-xsl, Źródła niniejszego dokumentu
    dpkg, Wysyłanie sprawozdań aktualizacji
    games-content-dev, Odmiana Debian Games
    ganeti, Problemy przy aktualizacji klastrów Ganeti z instancjami
        używającymi DRBD [naprawiony w 8.1], Ogólne uwagi przy
        aktualizacji klastrów Ganeti
    gcc, Bezpieczeństwo
    grub-pc, "VGA signal out of range" / pusty ekran przy rozruchu z
        grub-pc
    hardening-wrapper, Przestarzałe składniki
    how-can-i-help, Uczestnictwo w rozwoju Debiana
    initramfs-tools, Debugowanie powłoki podczas rozruchu przy użyciu
        initrd, Aktualizacja jądra i powiązanych pakietów, Zmiany w
        montowaniu i sprawdzaniu systemu plików /usr
    libjpeg-progs, Przestarzałe pakiety
    libjpeg-turbo-progs, Przestarzałe pakiety
    libreoffice, Przestarzałe pakiety
    libv8-3.14, Brak wsparcia bezpieczeństwa dla ekosystemów wokół
        libv8 i Node.js
    linux-image-*, Aktualizacja jądra i powiązanych pakietów
    linux-image-amd64, Instalowanie metapakietu jądra
    linux-source, Instalowanie metapakietu jądra
    localepurge, Zapewnienie wystarczającej ilości wolnego miejsca
    mediawiki, Wcześniejsze zakończenie wsparcia bezpieczeństwa
        MediaWiki.
    mplayer, Przestarzałe pakiety
    mplayer2, Przestarzałe pakiety
    mpv, Przestarzałe pakiety
    needrestart, Bezpieczeństwo
    nodejs, Brak wsparcia bezpieczeństwa dla ekosystemów wokół libv8
        i Node.js
    openjdk-6-*, Przestarzałe pakiety
    openjdk-7-*, Przestarzałe pakiety
    openoffice.org, Przestarzałe pakiety
    openssh-server, Serwer OpenSSH zyskał domyślne ustawienie:
        PermitRootLogin without-password
    perl, Zmiana w obsłudze nieodczytywalnych ścieżek modułów przez
        perl
    php-horde, Aplikacje PHP
    plymouth, Do interakcji w czasie rozruchu z systemd wymagany jest
        Plymouth, Brak wirtualnych konsoli ("getty") przy kilku
        środowiskach graficznych
    popularity-contest, Zapewnienie wystarczającej ilości wolnego
        miejsca
    postgresql-9.1, Przestarzałe pakiety
    postgresql-9.4, Przestarzałe pakiety
    postgresql-plperl-9.1, Przestarzałe pakiety
    puppetmaster, Kompatybilność Puppet 2.7 / 3.7
    python3.2, Przestarzałe pakiety
    python3.4, Przestarzałe pakiety
    release-notes, Zgłaszanie błędów w tym dokumencie
    ruby, Przestarzałe pakiety
    ruby1.8, Przestarzałe pakiety
    ruby1.9.1, Przestarzałe pakiety
    ruby2.1, Przestarzałe pakiety
    squid, Przestarzałe pakiety
    squid3, Przestarzałe pakiety
    systemd, Nowy domyślny system init (systemd), Lokalnie
        zmodyfikowane skrypty init mogą wymagać przepisania pod
        systemd, Wymagane opcje konfiguracji jądra w Jessie, Brak
        wirtualnych konsoli ("getty") przy kilku środowiskach
        graficznych
    systemd-shim, Aktualizacja instaluje nowy domyślny system init
        wydania Jessie
    systemd-sysv, Nowy domyślny system init (systemd), Aktualizacja
        instaluje nowy domyślny system init wydania Jessie, Bardziej
        rygorystyczna obsługa błędów montowań w trakcie rozruchu
        przez systemd, systemd: zachowanie polecenia "halt"
    sysvinit, Nowy domyślny system init (systemd), Debugowanie
        powłoki podczas rozruchu przy użyciu systemd, systemd:
        zachowanie polecenia "halt"
    sysvinit-core, Aktualizacja instaluje nowy domyślny system init
        wydania Jessie, Nieobsługiwane funkcje crypttab przez systemd
        (np. "keyscript=...")
    tinc, Przygotowanie bezpiecznego środowiska do uaktualnienia
    udev, Aktualizacja jądra i powiązanych pakietów
    upgrade-reports, Wysyłanie sprawozdań aktualizacji
    upstart, Aktualizacja instaluje nowy domyślny system init wydania
        Jessie
    xmlroff, Źródła niniejszego dokumentu
    xsltproc, Źródła niniejszego dokumentu

Perl, Co nowego w dystrybucji?
PHP, Co nowego w dystrybucji?
Postfix, Co nowego w dystrybucji?
PostgreSQL, Co nowego w dystrybucji?

X

Xfce, Co nowego w dystrybucji?

glosariusz

ACPI

    Advanced Configuration and Power Interface

ALSA

    Advanced Linux Sound Architecture (zaawansowana architektura
    dźwięku Linuksa)

APM

    Advanced Power Management

BD

    Blu-ray Disc

CD

    Compact Disc

CD-ROM

    Compact Disc Read Only Memory

DHCP

    Dynamic Host Configuration Protocol

DNS

    Domain Name System

DVD

    Digital Versatile Disc

GIMP

    GNU Image Manipulation Program

GNU

    GNU's Not Unix (GNU to nie Unix)

GPG

    GNU Privacy Guard

IDE

    Integrated Drive Electronics

LDAP

    Lightweight Directory Access Protocol

LILO

    LInux LOader

LSB

    Linux Standard Base

LVM

    Logical Volume Manager

MTA

    Mail Transport Agent

NBD

    Network Block Device

NFS

    Network File System (sieciowy system plików)

NIC

    Network Interface Card

NIS

    Network Information Service

OSS

    Open Sound System

RAID

    Redundant Array of Independent Disks

RPC

    Remote Procedure Call

SATA

    Serial Advanced Technology Attachment

SSL

    Secure Sockets Layer

TLS

    Transport Layer Security

UEFI

    Unified Extensible Firmware Interface

USB

    Universal Serial Bus (uniwersalna magistrala szeregowa)

UUID

    Universally Unique Identifier

VGA

    Video Graphics Array

WPA

    Wi-Fi Protected Access

