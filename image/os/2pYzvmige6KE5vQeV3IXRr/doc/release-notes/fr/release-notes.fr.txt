
     Notes de publication pour Debian 8 (« Jessie »), PC 64 bits


---------------------------------------------------------------------

Projet de documentation de Debian (http://www.debian.org/doc/)

    Ce document est libre, vous pouvez le redistribuer et/ou le
    modifier selon les termes de la Licence Publique Générale GNU
    publiée par la Free Software Foundation (version 2 ou bien toute
    autre version ultérieure choisie par vous).

    Ce document est distribué car potentiellement utile, mais SANS
    AUCUNE GARANTIE, ni explicite ni implicite, y compris les
    garanties de commercialisation ou d'adaptation dans un but
    spécifique. Reportez-vous à la Licence Publique Générale GNU pour
    plus de détails.

    Vous devez avoir reçu une copie de la Licence Publique Générale
    GNU en même temps que ce programme ; si ce n'est pas le cas,
    écrivez à la Free Software Foundation, Inc., 51 Franklin Street,
    Fifth Floor, Boston, MA 02110-1301 USA.

    Le texte de la licence peut être trouvé (en langue anglaise) à
    l'adresse http://www.gnu.org/licenses/gpl-2.0.html (http://
    www.gnu.org/licenses/gpl-2.0.html) et dans le fichier /usr/share/
    common-licenses/GPL-2 sur une machine Debian.

---------------------------------------------------------------------

Table des matières

1. Introduction

    1.1. Signaler des bogues au sujet de ce document
    1.2. Fournir des comptes-rendus de mise à niveau
    1.3. Sources de ce document

2. Nouveautés de Debian 8

    2.1. Architectures prises en charge
    2.2. Quoi de neuf dans la distribution ?

        2.2.1. CD, DVD et BD
        2.2.2. Changements dans le bureau GNOME
        2.2.3. Nouveau système d'initialisation par défaut (systemd)
        2.2.4. Sécurité
        2.2.5. MariaDB à côté de MySQL
        2.2.6. Applications PHP
        2.2.7. Mélange Debian Games
        2.2.8. Nouveauté du mélange Debian Med
        2.2.9. Nouveauté du mélange Debian Science
        2.2.10. Nouveauté du mélange Debian GIS (Système
            d'Information Géographique)
        2.2.11. Nouveauté de l'équipe Java de Debian

3. Système d'installation

    3.1. Quoi de neuf dans le système d'installation ?

        3.1.1. Changements majeurs
        3.1.2. Installation automatisée

4. Mises à niveau depuis Debian 7 (Wheezy)

    4.1. Actions nécessaires avant la mise à niveau

        4.1.1. Sauvegarder toutes les données et informations de
            configuration
        4.1.2. Informer les utilisateurs à l'avance
        4.1.3. Préparez-vous à un arrêt des services
        4.1.4. Soyez prêts à récupérer le système
        4.1.5. Préparer un environnement sain pour la mise à niveau

    4.2. Vérifier l'état du système

        4.2.1. Vérifier les actions en cours dans le gestionnaire de
            paquets
        4.2.2. Désactiver l'épinglage APT
        4.2.3. Vérification de l'état des paquets
        4.2.4. La section proposed-updates
        4.2.5. Sources non officielles

    4.3. Préparer les sources d'APT

        4.3.1. Ajouter des sources Internet à APT
        4.3.2. Ajouter les sources d'un miroir local à APT
        4.3.3. Ajouter les sources d'un média optique à APT

    4.4. Mettre à niveau les paquets

        4.4.1. Enregistrer la session
        4.4.2. Mettre à jour la liste des paquets
        4.4.3. Assurez-vous d'avoir suffisamment d'espace disque pour
            la mise à niveau
        4.4.4. Mise à niveau minimale du système
        4.4.5. Mettre à niveau le système

    4.5. Problèmes possibles pendant une mise à niveau

        4.5.1. La mise à niveau échoue avec « Impossible de faire une
            configuration immédiate ».
        4.5.2. Suppressions attendues
        4.5.3. Boucles de conflits ou de prédépendances
        4.5.4. Conflits de fichiers
        4.5.5. Changements de configuration
        4.5.6. Changement de session sur la console
        4.5.7. Attention particulière à porter à certains paquets

    4.6. Mise à niveau du noyau et des paquets liés

        4.6.1. Installer un métapaquet du noyau
        4.6.2. Modifications apportées au montage des systèmes de
            fichiers racine et /usr et à leur vérification.

    4.7. Choses à faire avant le prochain redémarrage
    4.8. Préparations pour la prochaine version

        4.8.1. Purger les paquets supprimés

    4.9. Composants obsolètes
    4.10. Paquets obsolètes

        4.10.1. Paquets factices

5. Problèmes à connaître pour Jessie

    5.1. Limitations de la prise en charge de sécurité

        5.1.1. État de sécurité des navigateurs web
        5.1.2. Manque de prise en charge de sécurité pour
            l'écosystème autour de libv8 et Node.js
        5.1.3. Limitation précoce de la prise en charge de sécurité

    5.2. Le serveur OpenSSH est réglé par défaut sur
        « PermitRootLogin without-password »
    5.3. Compatibilité de Puppet 2.7 et 3.7
    5.4. La mise à niveau vers PHP 5.6 produit des modifications de
        son comportement
    5.5. Modifications incompatibles dans Apache HTTPD 2.4
    5.6. La mise à niveau installe le nouveau système
        d'initialisation par défaut de Jessie

        5.6.1. Gestion plus stricte des échecs de montage lors du
            démarrage sous systemd
        5.6.2. Les scripts de démarrage obsolètes devraient être
            purgés
        5.6.3. Les scripts de démarrage modifiés localement peuvent
            nécessiter d'être portés vers systemd
        5.6.4. Plymouth nécessaire aux invites de commandes au
            démarrage pour les démarrages sous systemd
        5.6.5. Interaction entre logind et acpid
        5.6.6. Fonctionnalités de crypttab non prises en charge sous
            systemd (par exemple "keyscript=...")
        5.6.7. systemd : envoie des SIGKILL trop tôt (corrigé dans
            8.1)
        5.6.8. systemd : comportement de la commande 'halt'

    5.7. Options de noyau requises pour Jessie
    5.8. Considérations au sujet de la mise à niveau des hôtes et
        conteneurs LXC

        5.8.1. Mettre à niveau des invités LXC tournant sur des hôtes
            sous Wheezy
        5.8.2. Mettre à niveau des invités LXC tournant sur des hôtes
            sous Jessie
        5.8.3. Informations supplémentaires

    5.9. Migration manuelle de disques chiffrés avec LUKS whirlpool
        (configurations non standard)
    5.10. Le bureau GNOME nécessite des graphismes 3D de base
    5.11. Le bureau GNOME ne fonctionne pas avec le pilote AMD
        propriétaire FGLRX
    5.12. Modifications des raccourcis clavier par défaut de GNOME
    5.13. Modifications dans l'interpréteur de commande par défaut
        pour les utilisateurs système fourni par base-passwd.
    5.14. Migration vers le nouveau logiciel KDE de courriel,
        calendrier et contacts (Kontact)
    5.15. Consoles virtuelles (« getty ») manquantes avec plusieurs
        environnements de bureau
    5.16. "Signal VGA hors de portée" / écran noir lors du démarrage
        avec grub-pc
    5.17. Validation plus stricte des fichiers cron dans crontab
    5.18. Modification dans la gestion des chemins de modules
        illisibles perl.
    5.19. Considérations au sujet de la mise à niveau des grappes
        Ganeti

        5.19.1. Problème lors de la mise à niveau de grappes Ganeti
            avec les instances basées sur DRBD (corrigé dans 8.1).
        5.19.2. Notes générales à propos de la mise à niveau des
            grappes Ganeti

    5.20. Nouveaux prérequis pour l'exécution de fichier dans Samba4
    5.21. Cryptsetup peut casser le démarrage avec BUSYBOX=n
    5.22. Modifications incompatibles dans le serveur mandataire
        Squid

6. Plus d'informations sur Debian

    6.1. Lectures pour aller plus loin
    6.2. Obtenir de l'aide

        6.2.1. Listes de diffusion
        6.2.2. Chat (IRC)

    6.3. Signaler les bogues
    6.4. Contribuer à Debian

A. Gérer le système Wheezy avant la mise à niveau

    A.1. Mettre à niveau le système Wheezy
    A.2. Vérifier la liste de sources
    A.3. Supprimer les fichiers de configuration obsolètes
    A.4. Mettre à niveau les anciens paramètres linguistiques
        régionaux vers UTF-8

B. Contributeurs des notes de publication
Index
Glossaire

Chapitre 1. Introduction

    Ce document présente aux utilisateurs de la distribution Debian
    les changements majeurs introduits dans la version 8 (nom de code
    Jessie).

    Les notes de publication fournissent des informations sur la
    façon d'effectuer une mise à niveau depuis la version précédente
    7 (nom de code Wheezy) vers la version actuelle et renseignent
    les utilisateurs sur les problèmes éventuels qu'ils pourraient
    rencontrer pendant cette mise à niveau.

    La version la plus récente de ce document est toujours disponible
    à l'adresse https://www.debian.org/releases/jessie/releasenotes
    (https://www.debian.org/releases/jessie/releasenotes) . En cas de
    doute, vérifiez la date du document en première page et
    assurez-vous de lire la dernière version.

    Attention

    Veuillez noter qu'il est impossible de lister tous les problèmes
    connus. C'est pourquoi une sélection a été faite selon la
    fréquence et l'impact de ces problèmes.

    Veuillez noter que nous ne prenons en charge et documentons que
    les mises à niveau depuis la précédente version de Debian (dans
    ce cas, la mise à niveau depuis Wheezy). Si vous devez effectuer
    la mise à niveau depuis une version antérieure, nous vous
    suggérons de lire les éditions précédentes de ces notes de
    publication et de commencer par faire une mise à niveau vers
    Wheezy.

1.1. Signaler des bogues au sujet de ce document

    Nous avons essayé de tester toutes les différentes étapes de mise
    à niveau décrites dans ce document, en essayant d'anticiper tous
    les problèmes que peuvent rencontrer nos utilisateurs.

    Cependant, si vous pensez avoir trouvé un bogue dans cette
    documentation (une information incorrecte ou manquante), merci de
    soumettre un rapport de bogue dans le système de suivi des bogues
    (https://bugs.debian.org/) sur le pseudo-paquet release-notes.
    Pensez à consulter au préalable les rapports de bogue existants
    (https://bugs.debian.org/release-notes) pour vérifier que ce
    problème n'a pas déjà été signalé. N'hésitez pas à ajouter des
    informations supplémentaires aux rapports de bogue existants si
    vous pouvez contribuer au contenu de ce document.

    Nous apprécions, et encourageons, les rapports qui fournissent
    des correctifs aux sources du document. Vous pouvez trouver plus
    de renseignements sur la manière d'obtenir les sources de ce
    document en Section 1.3, « Sources de ce document ».

1.2. Fournir des comptes-rendus de mise à niveau

    Nous recueillons toutes les expériences de nos utilisateurs sur
    les mises à niveau de Wheezy vers Jessie. Si vous désirez
    partager la vôtre, veuillez soumettre un rapport de bogue dans le
    système de suivi des bogues (https://bugs.debian.org/) sur le
    pseudo-paquet upgrade-reports présentant votre bilan. Nous vous
    demandons de compresser toutes les pièces jointes (en utilisant 
    gzip).

    Veuillez fournir les renseignements suivants lors de l'envoi de
    votre compte-rendu de mise à niveau :

      * l'état de votre base de données de paquets avant et après la
        mise à niveau : la base de données d'état de dpkg disponible
        dans /var/lib/dpkg/status et les informations d'état des
        paquets d'apt disponibles dans /var/lib/apt/extended_states.
        Vous devriez faire une sauvegarde avant la mise à niveau
        comme décrit en Section 4.1.1, « Sauvegarder toutes les
        données et informations de configuration », mais vous pouvez
        également trouver des sauvegardes de /var/lib/dpkg/status
        dans /var/backups ;

      * les fichiers journaux de session créés avec script, comme
        décrit en Section 4.4.1, « Enregistrer la session » ;

      * vos fichiers journaux d'apt, disponibles dans /var/log/apt/
        term.log, ou ceux d'aptitude, disponibles dans /var/log/
        aptitude.

    Note

    Prenez le temps de parcourir les journaux et d'en supprimer toute
    information sensible ou confidentielle avant de les inclure dans
    un rapport de bogue car ces informations seront publiées dans une
    base de données publique.

1.3. Sources de ce document

    Ce document utilise le format DocBook XML. La version HTML est
    créée avec docbook-xsl et xsltproc. La version PDF est créée avec
    dblatex ou xmlroff. Les sources des notes de publication sont
    disponibles dans le dépôt Subversion du Projet de documentation
    Debian . Vous pouvez utiliser l'interface web (https://
    anonscm.debian.org/viewvc/ddp/manuals/trunk/release-notes/) pour
    accéder aux fichiers par le web et pour consulter leurs
    modifications. Veuillez consulter les pages du dépôt Subversion
    du projet de documentation Debian (https://www.debian.org/doc/
    cvs) pour obtenir plus de renseignements sur les accès au dépôt
    Subversion.

Chapitre 2. Nouveautés de Debian 8

    Le wiki (https://wiki.debian.org/NewInJessie) contient plus de
    renseignements à ce sujet.

2.1. Architectures prises en charge

    Debian 8 introduit deux nouvelles architectures :

      * arm64, portage 64 bits pour les machines ARM.
   
      * ppc64el, portage 64 bits petit-boutiste pour les machines
        PowerPC.

    En conséquence, voici ci-dessous la liste des architectures
    officiellement prises en charge par Debian 8 :

      * PC 64 bits (« amd64 ») et PC 32 bits (« i386 »)

      * ARM 64 bits (« arm64 »)

      * ARM EABI (« armel »)

      * ARMv7 (ARM avec unité de calcul flottant, « armhf »)
   
      * MIPS (« mips » (gros-boutiste — big endian en anglais) et
        « mipsel » (petit-boutiste — little endian en anglais))

      * PowerPC (« powerpc »)

      * PowerPC 64 bits petit-boutiste (« ppc64el »)

      * System z (« s390x »)

    Trois architectures faisaient partie de Debian 7 mais ne sont pas
    publiées avec jessie.

      * Comme annoncé lors de la publication de wheezy, le portage
        s390 32 bits est interrompu et remplacé par s390x.

      * De plus, les portages sur IA-64 et Sparc ont été supprimés de
        cette publication à cause du manque de développeurs.
        L'architecture Sparc a été prise en charge dans Debian depuis
        la version 2.1 (en 1999), et ia64 a été ajoutée dans
        Debian 3.0 (en 2002).

   

    Enfin, les portages Debian sur le noyau FreeBSD, kfreebsd-amd64
    et kfreebsd-i386, inclus comme démonstrations technologiques dans
    Debian 6.0 et Debian 7, ne font pas partie de cette publication.

    Vous pouvez en savoir plus sur l'état des portages et les
    renseignements spécifiques en consultant les pages web sur les
    portages Debian (https://www.debian.org/ports/) .

2.2. Quoi de neuf dans la distribution ?

    Cette nouvelle version de Debian propose plus de logiciels que la
    version précédente, Wheezy ; la distribution inclut plus de
    12253 nouveaux paquets, pour un total de plus de 43512 paquets.
    La plupart des logiciels de la distribution ont été mis à jour :
    plus de 24573 paquets logiciels (ce qui représente 66 % des
    paquets de la distribution Wheezy). Un nombre significatif de
    paquets (plus de 5441, soit 14 % des paquets de Wheezy) ont
    également été supprimés de la distribution pour diverses raisons.
    Vous ne verrez pas de mise à jour pour ces paquets et ils seront
    indiqués comme « obsolètes » dans les interfaces de gestion des
    paquets ; consultez pour cela Section 4.10, « Paquets obsolètes »
    .

    Debian fournit à nouveau plusieurs applications et environnements
    de bureau. Entre autres, sont maintenant inclus GNOME 3.14, KDE
     4.11, Xfce 4.10 et LXDE.

    Des applications ont également été mises à jour comme les suites
    bureautiques :

      * LibreOffice est mis à jour vers la version 4.3 ;

      * Calligra est mis à jour vers la version 2.8 ;

      * GNUcash est mis à jour vers la version 2.6 ;

      * GNUmeric est mis à jour vers la version 1.12 ;

      * Abiword est mis à jour vers la version 3.0.

    Les mises à jour des autres applications de bureau incluent la
    mise à niveau vers Evolution 3.12.

    Parmi de nombreuses autres mises à jour, cette publication inclut
    également celles des logiciels suivants :

    +---------------------------------------------------------------+
    |              Paquet              |Version dans 7 |Version dans|
    |                                  |   (Wheezy)    | 8 (Jessie) |
    |----------------------------------+---------------+------------|
    |Apache                            |2.2.22         |2.4.10      |
    |----------------------------------+---------------+------------|
    |Serveur DNS BIND                  |9.8            |9.9         |
    |----------------------------------+---------------+------------|
    |Courier MTA                       |0.68           |0.73        |
    |----------------------------------+---------------+------------|
    |Dia                               |0.97.2         |0.97.3      |
    |----------------------------------+---------------+------------|
    |Serveur de messagerie Exim        |4.80           |4.84        |
    |----------------------------------+---------------+------------|
    |La collection de compilateurs GNU |4.7 sur les PC,|4.9         |
    |comme compilateur par défaut      |4.6 ailleurs   |            |
    |----------------------------------+---------------+------------|
    |La bibliothèque C GNU             |2.13           |2.19        |
    |----------------------------------+---------------+------------|
    |lighttpd                          |1.4.31         |1.4.35      |
    |----------------------------------+---------------+------------|
    |Image du noyau Linux              |Série 3.2      |Série 3.16  |
    |----------------------------------+---------------+------------|
    |OpenLDAP                          |2.4.31         |2.4.40      |
    |----------------------------------+---------------+------------|
    |OpenSSH                           |6.0p1          |6.7p1       |
    |----------------------------------+---------------+------------|
    |Perl                              |5.14           |5.20        |
    |----------------------------------+---------------+------------|
    |PHP                               |5.4            |5.6         |
    |----------------------------------+---------------+------------|
    |Postfix MTA                       |2.9            |2.11        |
    |----------------------------------+---------------+------------|
    |PostgreSQL                        |9.1            |9.4         |
    |----------------------------------+---------------+------------|
    |Python 3                          |3.2            |3.4         |
    |----------------------------------+---------------+------------|
    |Samba                             |3.6            |4.1         |
    +---------------------------------------------------------------+

2.2.1. CD, DVD et BD

    Debian est officiellement distribuée sous la forme de 9 ou 10 DVD
    ou 75 à 85 CD de binaires (selon les architectures), et 10 DVD ou
    59 CD de fichiers source. Il existe également un DVD multi-arch,
    comprenant une sélection de paquets pour les architectures amd64
    et i386 avec le code source. Debian est également publiée sous
    forme d'images Blu-ray (BD), deux pour chacune des architectures
    amd64 et i386, ou deux pour le code source. Pour des
    considérations de taille, certains très gros paquets ne sont pas
    disponibles en CD, ces paquets conviennent mieux aux images DVD
    et BD dans lesquelles ils sont toujours inclus.

2.2.2. Changements dans le bureau GNOME

    En étant mis à niveau vers la version 3.14, le nouveau bureau
    GNOME amène de nouvelles fonctionnalités et des améliorations
    ergonomiques.

    Le design de GNOME shell a été mis à jour. La barre de message du
    bas de l'écran est plus grande, plus facile à utiliser et moins
    prompte à apparaître accidentellement. Une nouvelle zone d'état
    du système dans le coin supérieur droit regroupe tous les
    paramètres utiles.

    L'écran de veille a été remplacé par un écran verrouillé qui
    comporte des fonctionnalités minimales lorsque l'utilisateur
    s'est absenté. Par exemple, vous pouvez mettre la musique en
    pause, être informé d'un nouveau courriel, ou changer la
    luminosité de l'écran sans entrer le mot de passe. En appuyant
    sur la touche Échap ou lorsque vous commencez à entrer votre mot
    de passe, vous retournez automatiquement à l'invite de connexion.
    Le gestionnaire d'affichage de GNOME utilise ce même concept pour
    garder une cohérence.

    Plusieurs applications, y compris le gestionnaire de fichier
    Nautilus, l'éditeur de texte Gedit et la visionneuse de documents
    Evince, ont maintenant un design plus compact en fusionnant la
    barre de titre de la fenêtre avec la barre d'outils. Cela laisse
    plus de place pour les documents sur lesquels l'utilisateur
    travaille. Les boîtes de dialogue standards ont évolué de la même
    façon.

    La prise en charge des écrans tactiles a été totalement intégrée,
    y compris les mouvements intuitifs à plusieurs doigts. GNOME
    prend maintenant en charge les écrans à haute résolution (HiDPI),
    utilisant ainsi tous les avantages de la pixelisation fine pour
    un rendu plus clair.

    GNOME prend en charge la géolocalisation et inclut une
    application de cartographie et de navigation.

    La documentation utilisateur est encore plus complète et comporte
    des tutoriels vidéos pour les nouveaux utilisateurs.

    Plus d'informations peuvent être trouvées dans les notes de
    publications de GNOME 3.14 (https://help.gnome.org/misc/
    release-notes/3.14/) .

2.2.3. Nouveau système d'initialisation par défaut (systemd)

    Introduit dans Debian wheezy, systemd est maintenant le système
    d'initialisation par défaut. Il offre des capacités évoluées de
    surveillance (monitoring), d'enregistrement (logging) et de
    gestion de services.

    Même s'il est conçu comme un remplaçant direct de sysvinit et
    qu'il utilise donc les scripts d'init SysV existants, le paquet
    systemd peut être installé en même temps que sysvinit en toute
    sécurité et démarré grâce l'option init=/bin/systemd du noyau. Le
    paquet systemd-sysv procure le remplaçant de /sbin/init.

    Pour plus de renseignements sur ce sujet, veuillez consulter le
    wiki (http://wiki.debian.org/systemd) Debian.

2.2.4. Sécurité

    L'ancien protocole SSLv3 a été désactivé dans cette publication.
    Beaucoup de bibliothèques de cryptographie du système, ainsi que
    des applications serveur et client ont été compilées ou
    configurées sans la prise en charge de ce protocole.

    Le noyau Linux procure un mécanisme de sécurité qui annule une
    grande partie des attaques par lien symbolique. Celui-ci est
    activé par défaut dans le noyau Linux de Debian. Les bogues
    relatifs à /tmp, qui sont rendus inexploitables par ce mécanisme,
    ne sont pas traités comme des vulnérabilités de sécurité. Si vous
    utilisez un noyau Linux personnalisé, vous devriez l'activer en
    utilisant un paramètre de sysctl :

    echo 1 > /proc/sys/fs/protected_symlinks

    Dans quelques rares cas, la prise en charge de la sécurité d'un
    paquet fournie dans une publication de Debian doit être
    interrompue avant la fin de la prise en charge de la distribution
    elle-même. Jessie fournit un nouveau paquet
    (debian-security-support) qui avertit si la prise en charge d'un
    paquet doit se terminer en avance. Il documente aussi les paquets
    qui ont une prise en charge limitée. Ainsi, il est recommandé
    d'installer debian-security-support sur tous les systèmes
    concernés par la sécurité.

    Dans la lignée de Wheezy, encore plus de paquets ont été
    construits avec les drapeaux de renforcement de la sécurité du
    compilateur. De plus, le drapeau de la pile de protection a été
    basculé en stack-protector-strong pour une sécurité accrue.
    Remarquez que les attributs de renforcement à la construction ne
    sont pas activés par défaut dans gcc, et ne sont donc pas
    utilisés automatiquement lors de la construction locale d'un
    logiciel.

    Le paquet needrestart est une nouveauté de cette version.
    Lorsqu'il est installé, il vérifiera, après chaque mise à jour
    par APT, la nécessité de redémarrer des services pour utiliser
    les modifications et proposera ainsi de les redémarrer. Il est
    recommandé d'installer le paquet needrestart pour s'assurer que
    les mises à jour de sécurité des bibliothèques sont bien
    propagées dans les services.

2.2.5. MariaDB à côté de MySQL

    En parallèle de la version 5.5 de MySQL, Jessie fournit la
    nouvelle version 10.0 de MariaDB. Consultez la page de l'équipe
    MySQL du wiki Debian (http://wiki.debian.org/Teams/MySQL) pour
    plus d'informations. Il est fort probable qu'une seule d'entre
    elles soit livrée dans Debian 9.

    Veuillez noter que la prise en charge amont pour MySQL 5.5 sera
    interrompue en décembre 2018 (et que Debian devra suivre cette
    décision), alors que celle de MariaDB 10.0 continuera jusqu'en
    mars 2019.

2.2.6. Applications PHP

    Le cadre applicatif Horde est disponible dans Jessie dans le
    paquet php-horde.

2.2.7. Mélange Debian Games

    L'équipe Debian Games est fière de vous présenter le mélange
    (blend) (http://blends.debian.org/blends/) Debian Games qui
    consiste en 33 métapaquets (https://tracker.debian.org/pkg/
    debian-games) qui simplifient l'installation de jeux par
    catégories. Cette sélection comporte, parmi beaucoup d'autres,
    des jeux de stratégie, de simulation, de cartes et de
    programmation. Debian Games offre aussi aux développeurs une
    façon rapide d'installer les logiciels recommandés pour le
    développement de jeux en C++, Java, Perl ou Python 3. Les
    développeurs de contenu trouveront des outils utiles pour créer
    des thèmes artistiques de jeux dans le paquet games-content-dev.
    La page d'accueil du projet comporte des captures d'écran, plus
    d'informations, et offre un survol des jeux disponibles, en
    particulier les jeux les plus populaires de Debian (http://
    blends.debian.org/games/tasks/finest) .

2.2.8. Nouveauté du mélange Debian Med

    L'équipe de Debian Med a de nouveau considérablement accru le
    nombre de paquets disponibles dans les domaines de la biologie et
    la médecine, mais aussi leur qualité en terme de test (au moment
    de la compilation du paquet ainsi que lors de tests automatisés
    autopkgtest). Ces améliorations dans la version 2.0 du métapaquet
    Debian Med reflètent l'exigence des scientifiques d'avoir des
    logiciels robustes pour fournir des résultats reproductibles.
    Veuillez consulter les pages des tâches Debian Med (http://
    blends.debian.org/med/tasks) pour apprécier l'étendue des
    logiciels à vocation biologique et médicale dans Debian.

2.2.9. Nouveauté du mélange Debian Science

    Grâce à l'effort continu de l'équipe Debian Science, de
    nombreuses nouvelles applications ont été ajoutées au dépôt
    Debian Science, ainsi que des applications couvrant de nouveaux
    domaines de la science. Veuillez consulter les pages des tâches
    Debian Science (http://blends.debian.org/science/tasks) pour
    apprécier l'étendue des logiciels à caractère scientifique dans
    Debian.

2.2.10. Nouveauté du mélange Debian GIS (Système d'Information
Géographique)

    Pendant le cycle de développement de Jessie, beaucoup de
    changements de UbuntuGIS furent incorporés dans Debian GIS. La
    collaboration avec les projets UbuntuGIS et OSGeo-Live s'est
    améliorée et a amené de nouveaux paquets et de nouveaux
    contributeurs. Veuillez consulter les pages des tâches Debian GIS
    (http://blends.debian.org/gis/tasks) pour apprécier l'étendue des
    logiciels de systèmes d'information géographique dans Debian, et
    la page de Debian GIS (https://wiki.debian.org/DebianGis) pour de
    plus amples informations.

2.2.11. Nouveauté de l'équipe Java de Debian

    Jessie est fournie avec 799 paquets sources (442 mis à jour et
    130 nouveaux depuis Wheezy) qui seront maintenus par l'équipe
    Java (https://qa.debian.org/developer.php?login=
    pkg-java-maintainers@lists.alioth.debian.org) . Les changements
    notables sont les suivants :

      * OpenJDK 7 est le nouveau runtime Java par défaut.

      * OpenJDK 8 sera disponible dans les rétroportages
        (jessie-backports).

      * Tomcat 7 et Tomcat 8 sont pris en charge et Tomcat 6 a été
        supprimé

      * De nouveaux outils de développement incluent VisualVM, the
        Dynamic Code Evolution VM (openjdk-7-jre-dcevm), Gradle,
        eclipse-wtp-webtools, closure-compiler et plus encore.

      * L'introduction d'androidsdk-tools (https://
        packages.debian.org/source/jessie/androidsdk-tools)

Chapitre 3. Système d'installation

    L'installateur Debian est le système officiel d'installation pour
    Debian. Il offre plusieurs méthodes d'installation. Les méthodes
    disponibles pour installer votre système dépendent de son
    architecture.

    Les images de l'installateur pour Jessie, ainsi que le manuel
    d'installation, se trouvent sur le site web de Debian (https://
    www.debian.org/releases/jessie/debian-installer/) .

    Le manuel d'installation se trouve également sur le premier CD
    (ou DVD) de l'ensemble des CD (ou DVD) Debian officiels, dans :

    /doc/install/manual/langue/index.html

    Il est également possible de consulter les errata (https://
    www.debian.org/releases/jessie/debian-installer/index#errata) de
    l'installateur Debian pour une liste de problèmes connus.

3.1. Quoi de neuf dans le système d'installation ?

    Depuis sa dernière publication officielle avec Debian 7,
    l'installateur Debian a remarquablement évolué, offrant une
    meilleure prise en charge du matériel et de nouvelles
    fonctionnalités très intéressantes.

    Dans ces notes de publication, nous ne détaillons que les
    changements majeurs dans l'installateur. Si vous êtes intéressé
    par un aperçu détaillé des changements depuis Wheezy, veuillez
    consulter les annonces de publication pour les versions bêtas et
    candidates de Jessie dans l'historique des nouveautés (https://
    www.debian.org/devel/debian-installer/News/) du projet de
    l'installateur Debian.

3.1.1. Changements majeurs

    Portages retirés

        La prise en charge des architectures « ia64 » et « sparc » a
        été supprimée de l'installateur car elles ont été retirées de
        l'archive.

    Nouveaux portages

        La prise en charge des architectures « arm64 » et « ppc64el »
        a été ajoutée à l'installateur.

    Nouveau système d'initialisation par défaut

        Le système d'installation installe maintenant « systemd »
        comme système d'initialisation par défaut.

    Sélection du bureau

        L'environnement de bureau peut maintenant être choisi au sein
        de tasksel pendant l'installation. Notez que plusieurs
        environnements de bureau peuvent être sélectionnés en même
        temps, mais certaines combinaisons de bureaux peuvent ne pas
        être installables en parallèle.

    Remplacement de « -- » par « --- » pour les paramètres de
        démarrage.

        À cause d'un changement du côté du noyau Linux, le séparateur
        « --- » est maintenant utilisé au lieu de l'historique « -- »
        pour séparer les paramètres du noyau de ceux de l'espace
        utilisateur.
   
    Nouvelles langues.

        Grâce à l'énorme travail des traducteurs, Debian peut
        maintenant être installée dans 75 langues, dont le français.
        Cela représente une langue supplémentaire par rapport à
        Wheezy. La plupart des langues sont disponibles dans les deux
        interfaces d'installation, textuelle et graphique, tandis que
        quelques-unes sont seulement disponibles dans l'interface
        utilisateur graphique.

        Voici les langues ajoutées à cette version :

          + le tadjik a été ajouté aux deux interfaces
            d'installation, textuelle et graphique

        Certaines langues ne peuvent être choisies qu'avec
        l'installateur graphique car leur jeu de caractères ne peut
        pas être représenté dans un environnement non graphique. Il
        s'agit des langues suivantes : l'amharique, le bengali, le
        dzongkha, le gujarati, l'hindi, le géorgien, le kannada, le
        khmer, le malayalam, le marathi, le népalais, le pendjabi, le
        tamoul, le télougou, le tibétain et le ouïghour.

    Démarrage UEFI

        L'installateur de Jessie améliore la prise en charge pour
        beaucoup de micrologiciel UEFI et prend en charge
        l'installation sur un micrologiciel UEFI 32 bits avec un
        noyau 64 bits.

        Veuillez noter que cela n'inclut pas la prise en charge du
        démarrage sécurisé d'UEFI (« Secure Boot »).

3.1.2. Installation automatisée

    Certaines modifications mentionnées dans la section précédente
    impliquent également des changements dans la gestion des
    installations automatisées qui utilisent des fichiers de
    préconfiguration. Les fichiers de préconfiguration existants, qui
    fonctionnent avec l'installateur de Wheezy, ne fonctionneront pas
    sans modification avec le nouvel installateur.

    Le manuel d'installation (https://www.debian.org/releases/jessie/
    installmanual) comprend une annexe séparée avec une documentation
    complète et mise à jour sur l'utilisation de la préconfiguration.

Chapitre 4. Mises à niveau depuis Debian 7 (Wheezy)

4.1. Actions nécessaires avant la mise à niveau

    Nous vous suggérons, avant la mise à niveau, de lire les
    informations du Chapitre 5, Problèmes à connaître pour Jessie. Ce
    chapitre couvre des problèmes potentiels qui ne sont pas
    directement liés au processus de mise à niveau, mais qu'il est
    important de connaître avant de commencer.

4.1.1. Sauvegarder toutes les données et informations de
configuration

    Avant de mettre à niveau le système, il est fortement conseillé
    de faire une sauvegarde complète ou, du moins, une sauvegarde des
    données et des informations de configuration que vous ne pouvez
    pas vous permettre de perdre. Les outils de mise à niveau sont
    tout à fait fiables, mais une panne matérielle au milieu de la
    mise à niveau peut fortement endommager le système.

    Ce que vous devriez principalement sauvegarder est le contenu des
    répertoires /etc et /var/lib/dpkg, du fichier /var/lib/apt/
    extended_states et la sortie de dpkg --get-selections "*" (les
    guillemets sont importants). Si vous utilisez aptitude pour gérer
    les paquets du système, vous devriez aussi sauvegarder /var/lib/
    aptitude/pkgstates.

    Le processus de mise à niveau en lui-même ne modifie rien dans le
    répertoire /home. Cependant, certaines applications (par exemple,
    des parties de la suite Mozilla et les environnements de bureau
    GNOME et KDE) sont connues pour écraser des paramètres
    utilisateur existants avec de nouvelles valeurs par défaut quand
    une nouvelle version de l'application est lancée pour la première
    fois par un utilisateur. Par précaution, vous pouvez faire une
    sauvegarde des fichiers et répertoires cachés (les « dotfiles »)
    dans les répertoires personnels des utilisateurs. Vous pouvez
    également informer les utilisateurs de ce problème.

    Toutes les opérations d'installation de paquets doivent être
    exécutées avec les privilèges du superutilisateur, vous devez
    donc soit vous connecter en tant que root, soit utiliser su ou 
    sudo pour obtenir les droits nécessaires.

    Il existe quelques conditions préalables à la mise à niveau ;
    vous devriez les vérifier avant d'effectuer réellement la mise à
    niveau.

4.1.2. Informer les utilisateurs à l'avance

    Il est sage d'informer à l'avance tous les utilisateurs que vous
    planifiez une mise à niveau, même si les utilisateurs accédant au
    système par connexion ssh ne devraient pas remarquer grand-chose
    durant la mise à niveau et devraient pouvoir continuer à
    travailler.

    Si vous voulez prendre des précautions supplémentaires,
    sauvegardez ou démontez la partition /home avant la mise à
    niveau.

    Vous devrez probablement faire une mise à niveau du noyau lors de
    la mise à niveau vers Jessie, un redémarrage sera donc
    normalement nécessaire.En général, celui-ci a lieu à la fin de la
    mise à niveau.

4.1.3. Préparez-vous à un arrêt des services

    Certains services fournis par le système peuvent être associés à
    des paquets concernés par une mise à niveau. Dans ce cas, ces
    services seront interrompus lorsque les paquets correspondants
    seront remplacés et configurés. Pendant ce temps, ces services
    seront indisponibles.

    Le temps d'arrêt de ces services va dépendre du nombre de paquets
    mis à niveau sur le système et du temps mis par l'administrateur
    système pour répondre aux possibles questions de configuration
    posées lors de la mise à niveau. Veuillez noter que si le
    processus de mise à niveau est laissé sans surveillance et que le
    système demande une information à un moment de la mise à niveau,
    il y a de grandes chances que des services soient ensuite
    indisponibles^[1] pour une longue durée.

    Si le système devant être mis à niveau fournit des services
    critiques pour vos utilisateurs ou le réseau^[2], vous pouvez
    réduire le temps d'arrêt en faisant une mise à niveau minimale du
    système (consultez Section 4.4.4, « Mise à niveau minimale du
    système »), puis une mise à niveau du noyau et un redémarrage, et
    ensuite une mise à niveau des paquets fournissant vos services
    critiques. Mettez-les à niveau avant de lancer la mise à niveau
    totale (Section 4.4.5, « Mettre à niveau le système ») pour vous
    assurer que ces services critiques sont lancés et sont
    disponibles pendant la mise à niveau, et réduisez ainsi leur
    temps d'arrêt.

4.1.4. Soyez prêts à récupérer le système

    Bien que Debian essaie d'assurer que votre système puisse être
    redémarré à tout moment, il y a toujours un risque que vous
    rencontriez des problèmes lors du redémarrage du système après la
    mise à niveau. Des problèmes potentiels connus sont documentés
    dans les chapitres de ces notes de publication.

    Pour cette raison, il est raisonnable de s'assurer que vous
    pourrez récupérer le système s'il ne redémarrait pas, ou, pour
    les systèmes gérés à distance, si la connexion au réseau
    échouait.

    Si vous effectuez une mise à niveau à distance par un lien ssh,
    il est recommandé de prendre toutes les précautions nécessaires
    pour pouvoir accéder au serveur par un terminal série distant. Il
    est possible qu'après la mise à niveau du noyau et le
    redémarrage, vous deviez corriger la configuration du système
    depuis une console locale. Par ailleurs, si le système est
    redémarré accidentellement au milieu de la mise à niveau, il est
    possible que vous deviez utiliser une console locale pour réparer
    le système.

    Nous recommandons généralement d'utiliser le mode de secours
    (« rescue mode ») de l'installateur Debian de Jessie. L'avantage
    d'utiliser l'installateur est que vous pouvez choisir l'option
    qui convient le mieux à votre situation parmi ses nombreuses
    méthodes d'installation. Pour plus d'informations, veuillez
    consulter la section « Récupérer un système cassé » du chapitre 8
    du manuel d'installation (https://www.debian.org/releases/jessie/
    installmanual) et la FAQ de l'installateur Debian (https://
    wiki.debian.org/DebianInstaller/FAQ) .

    Si cela échoue, vous aurez besoin d'une autre méthode pour
    amorcer le système et le réparer. Une option est d'utiliser une
    image de récupération spéciale ou un CD autonome Linux (« Live
    CD »). Après avoir démarré à partir de ce support, vous devriez
    pouvoir monter le système de fichiers racine et effectuer un
    chroot dans celui-ci pour analyser et corriger le problème.

4.1.4.1. Interpréteur de commande de débogage pendant l'amorçage
utilisant un initrd

    Le paquet initramfs-tools fournit un interpréteur de commande de
    débogage^[3] dans les initrd qu'il génère. Si, par exemple,
    l'initrd ne peut pas monter le système de fichiers racine, vous
    vous retrouverez dans cet interpréteur de commande de débogage.
    Celui-ci possède des commandes de base qui permettent
    d'identifier l'origine du problème et peut-être de le corriger.

    Les points de base à vérifier sont : la présence de fichiers de
    périphériques corrects dans /dev ; les modules chargés (cat /proc
    /modules) ; la sortie de dmesg pour des erreurs liées au
    chargement de pilotes. La sortie de dmesg affichera également les
    fichiers de périphériques qui ont été assignés aux disques ; vous
    devriez vérifier ces points et les comparer à l'affichage de echo
    $ROOT pour vous assurer que le système de fichiers racine est sur
    le périphérique attendu.

    Si vous parvenez à corriger le problème, entrez exit pour arrêter
    l'interpréteur de commande de débogage et continuer le processus
    d'amorçage au point où il avait échoué. Bien sûr, vous devrez
    également corriger le problème sous-jacent et régénérer l'initrd
    afin d'éviter un nouvel échec au prochain amorçage.

4.1.4.2. Interpréteur de commande de débogage pendant l'amorçage
utilisant systemd

    Si le démarrage échoue sous systemd, il est possible d'obtenir
    une invite de commande de débogage pour l'utilisateur root en
    modifiant la ligne de commande du noyau. Si le démarrage de base
    fonctionne, mais que certains services ne parviennent pas à se
    lancer, il peut être utile d'ajouter systemd.unit=rescue.target
    aux paramètres du noyau.

    Autrement, le paramètre du noyau systemd.unit=emergency.target
    vous fournira une invite de commande pour l'utilisateur root dès
    que possible. Cependant, cela se produira avant le montage du
    système de fichiers racine avec les permissions de lecture et
    écriture. Vous devrez le monter manuellement avec :

    mount -o remount,rw /

    De plus amples informations sur le débogage d'un démarrage cassé
    sous systemd sont disponibles dans l'article Diagnosing Boot
    Problems (http://freedesktop.org/wiki/Software/systemd/Debugging
    /) .

    Si tout le reste échoue, vous pourriez parvenir à démarrer avec
    l'ancien système sysvinit. Cela nécessite que sysvinit soit
    toujours installé et que l'exécutable /lib/sysvinit/init soit
    présent dans votre initramfs. Si ces prérequis sont remplis,
    ajoutez init=/lib/sysvinit/init à la ligne de commande du noyau.
    Celui-ci démarrera avec l'exécutable sysvinit.

4.1.5. Préparer un environnement sain pour la mise à niveau

    Vous devez faire la mise à niveau de la distribution soit
    localement, à partir d'une console texte virtuelle ou d'un
    terminal série directement connecté, soit à distance à l'aide
    d'une connexion ssh.

    Important

    Si vous utilisez des services VPN (par exemple tinc), ils ne
    seront peut-être pas disponibles en permanence pendant la mise à
    niveau. Veuillez consultez la Section 4.1.3, « Préparez-vous à un
    arrêt des services ».

    Pour avoir une marge de sécurité supplémentaire lors des mises à
    niveau à distance, nous vous suggérons d'exécuter les processus
    de mise à niveau dans la console virtuelle fournie par le
    programme screen qui permet de se reconnecter en cas de coupure
    et garantit que le processus de mise à niveau ne sera pas
    interrompu même si le processus de connexion à distance a été
    coupé.

    Important

    Important : vous ne devez pas effectuer la mise à niveau en
    utilisant telnet, rlogin, rsh, ou depuis une session X gérée par 
    gdm, kdm, etc., sur la machine que vous mettez à niveau. En
    effet, chacun de ces services pourrait être interrompu pendant la
    mise à niveau, ce qui peut rendre inaccessible un système à
    moitié mis à niveau. Utiliser l'application GNOME update-manager
    est fortement déconseillé pour une mise à jour vers une nouvelle
    version de Debian, car cet outil suppose que la session graphique
    restera active.

4.2. Vérifier l'état du système

    Le processus de mise à niveau décrit dans ce chapitre a été conçu
    pour des mises à niveau des systèmes Wheezy « purs » sans paquet
    provenant d'autres sources. Pour une meilleure fiabilité du
    processus de mise à niveau, vous pouvez supprimer ces paquets du
    système avant de commencer la mise à niveau.

    Les mises à niveau directement depuis des versions de Debian plus
    vieilles que 7 (Wheezy) ne sont pas prises en charge. Merci de
    suivre les instructions dans les notes de publication (https://
    www.debian.org/releases/wheezy/releasenotes) et de mettre la
    machine à niveau vers 7 d'abord.

    Cette procédure suppose également que le système a été mis à
    niveau jusqu'à la dernière révision de Wheezy. Si vous ne l'avez
    pas fait ou si vous n'en êtes pas certain, veuillez suivre les
    instructions en Section A.1, « Mettre à niveau le système
    Wheezy ».

4.2.1. Vérifier les actions en cours dans le gestionnaire de paquets

    Dans certains cas, l'utilisation d'apt-get pour l'installation de
    paquets au lieu d'aptitude peut induire aptitude à considérer un
    paquet comme « unused » (inutilisé) et à le programmer pour être
    supprimé. En général, vous devez vous assurer que le système est
    complètement à jour et « propre » avant de commencer la mise à
    niveau.

    Ainsi, vous devez commencer par vérifier s'il y a des actions en
    attente dans le gestionnaire de paquets aptitude. Si un paquet
    est programmé pour être supprimé ou mis à jour dans le
    gestionnaire des paquets, cela peut poser problème lors de la
    procédure de mise à niveau. Notez que la correction d'un tel
    problème n'est possible que si le fichier sources.list pointe
    encore vers wheezy et pas vers stable ou jessie ; consultez la
    Section A.2, « Vérifier la liste de sources ».

    Pour faire cette vérification, vous devez lancer aptitude en « 
    mode interactif » et appuyer sur g (« Go »). S'il affiche une ou
    plusieurs action(s), vous devez les contrôler et les corriger ou
    les mettre en œuvre. Si aucune action n'est suggérée, un message
    sera affiché indiquant « Il n'est prévu d'installer, mettre à
    jour ou enlever aucun paquet. »

4.2.2. Désactiver l'épinglage APT

    Si vous avez configuré APT pour installer certains paquets d'une
    distribution autre que stable (par exemple, de testing), il se
    peut que vous deviez changer la configuration d'épinglage APT
    (« APT pinning ») (stockée dans /etc/apt/preferences et /etc/apt/
    preferences.d) pour permettre la mise à niveau de paquets vers
    les versions de la nouvelle version stable. Vous trouverez plus
    d'informations sur l'épinglage dans apt_preferences(5).

4.2.3. Vérification de l'état des paquets

    Quelle que soit la méthode utilisée pour mettre à niveau, il est
    recommandé de tester d'abord l'état de tous les paquets et de
    vérifier que tous les paquets se trouvent dans un état permettant
    la mise à niveau. La commande suivante vous indiquera tous les
    paquets qui sont dans l'état « Half-Installed » ou
    « Failed-Config », ainsi que ceux qui sont dans un état
    d'erreur :

    # dpkg --audit

    Vous pouvez aussi vérifier l'état de tous les paquets du système
    en utilisant aptitude, ou avec des commandes comme :

    # dpkg -l | pager

    ou :

    # dpkg --get-selections "*" > ~/paquets-actuels.txt

    Il est souhaitable d'enlever tous les blocages de paquets (on
    hold) avant de passer à la nouvelle version. Si un paquet
    essentiel pour la mise à niveau est bloqué, la mise à niveau va
    échouer.

    Notez que pour enregistrer les paquets qui sont bloqués, aptitude
    utilise une méthode différente de celles d'apt-get et dselect.
    Vous pouvez identifier les paquets bloqués pour aptitude avec :

    # aptitude search "~ahold"

    Si vous désirez vérifier quels paquets étaient bloqués pour 
    apt-get, il vous faudra utiliser :

    # dpkg --get-selections | grep 'hold$'

    Si vous aviez modifié et recompilé un paquet localement, sans
    changer son nom et sans mettre d'époque (« epoch ») dans la
    version, vous devez le bloquer pour éviter qu'il ne soit mis à
    niveau.

    Vous pouvez activer un blocage sur un paquet pour apt-get en
    utilisant :

    # echo package_name hold | dpkg --set-selections

    Remplacez hold par install pour débloquer un paquet.

    Si vous devez corriger quelque chose, il est préférable de vous
    assurer que sources.list fait toujours référence à Wheezy comme
    expliqué en Section A.2, « Vérifier la liste de sources ».

4.2.4. La section proposed-updates

    Si vous avez ajouté la section proposed-updates dans le fichier /
    etc/apt/sources.list, il est conseillé de la supprimer avant de
    tenter la mise à niveau. Il s'agit essentiellement d'une
    précaution pour éviter des conflits possibles.

4.2.5. Sources non officielles

    Si des paquets non-Debian sont présents sur le système, vous
    devez savoir qu'ils peuvent être supprimés pendant la mise à
    niveau à cause de dépendances conflictuelles. Si ces paquets ont
    été installés par l'ajout d'une archive de paquets dans /etc/apt/
    sources.list, vous devez vérifier si cette archive propose
    également des paquets compilés pour Jessie et changer la ligne de
    source en conséquence en même temps que les lignes de source pour
    les paquets Debian.

    Certains utilisateurs peuvent avoir installé sur leur système
    Wheezy des versions non officielles rétroportées de paquets plus
    récentes que celles qui sont dans Debian. De tels paquets sont
    les plus susceptibles de poser problème lors d'une mise à niveau
    car ils peuvent entraîner un conflit de fichiers^[4]. La
    Section 4.5, « Problèmes possibles pendant une mise à niveau »
    donne quelques informations sur la façon de gérer les conflits de
    fichiers s'ils se produisent.

4.3. Préparer les sources d'APT

    Avant de commencer la mise à niveau, vous devez ajuster le
    fichier de configuration des listes de paquets d'apt, /etc/apt/
    sources.list.

    apt prendra en compte tout paquet qui peut être trouvé par
    chacune des lignes « deb » et installera le paquet ayant le
    numéro de version le plus élevé, en donnant la priorité aux
    premières lignes mentionnées (ainsi, dans le cas de plusieurs
    miroirs, on indiquera d'abord un disque dur local, puis des CD,
    puis les miroirs FTP et HTTP).

    Une version peut être référencée à la fois par son nom de code
    (par exemple, wheezy, jessie) et par son nom d'état (c'est-à-dire
    oldstable, stable, testing, unstable). Se référer à une version
    par son nom de code évite d'être surpris par une nouvelle version
    et c'est pour cette raison que cette approche a été choisie ici.
    Bien sûr, vous devez surveiller vous-même les annonces des
    nouvelles versions. Si vous utilisez les noms d'état, vous verrez
    simplement une grande quantité de mises à jour de paquets
    disponibles dès qu'une publication a eu lieu.

4.3.1. Ajouter des sources Internet à APT

    La configuration par défaut est faite pour une installation
    depuis les principaux serveurs de Debian sur Internet, mais vous
    pouvez modifier /etc/apt/sources.list pour utiliser d'autres
    miroirs, de préférence plus proches de vous au sens réseau du
    terme.

    Les adresses des miroirs Debian HTTP et FTP se trouvent à https:/
    /www.debian.org/distrib/ftplist (https://www.debian.org/distrib/
    ftplist) (regardez dans la section « liste complète des miroirs »
    ). Les miroirs HTTP sont en général plus rapides que les miroirs
    FTP.

    Par exemple, supposons que le miroir Debian le plus proche soit
    http://mirrors.kernel.org. Si vous consultez ce miroir avec un
    navigateur web ou FTP, vous verrez que les répertoires principaux
    sont organisés comme ceci :

    http://mirrors.kernel.org/debian/dists/jessie/main/binary-amd64/...
    http://mirrors.kernel.org/debian/dists/jessie/contrib/binary-amd64/...

    Pour utiliser ce miroir avec apt, ajoutez cette ligne au fichier
    sources.list :

    deb http://mirrors.kernel.org/debian jessie main contrib

    Notez que « dists » est ajouté automatiquement, et les paramètres
    qui suivent le nom de version donnent accès à plusieurs
    répertoires.

    Après avoir ajouté les nouvelles sources, commentez les lignes « 
    deb » préexistantes dans le fichier sources.list en plaçant des
    caractères # au début des lignes.

4.3.2. Ajouter les sources d'un miroir local à APT

    Plutôt que d'utiliser des miroirs HTTP ou FTP, vous pouvez
    modifier /etc/apt/sources.list pour utiliser un miroir sur un
    disque local (éventuellement monté par NFS).

    Par exemple, le miroir de paquets peut être sous /var/ftp/debian
    /, et avoir des répertoires principaux tels que :

    /var/ftp/debian/dists/jessie/main/binary-amd64/...
    /var/ftp/debian/dists/jessie/contrib/binary-amd64/...

    Pour utiliser ce miroir avec apt, ajoutez cette ligne au fichier
    sources.list :

    deb file:/var/ftp/debian jessie main contrib

    Notez que « dists » est ajouté automatiquement, et les paramètres
    qui suivent le nom de version donnent accès à plusieurs
    répertoires.

    Après avoir ajouté les nouvelles sources, commentez les lignes « 
    deb » préexistantes dans le fichier sources.list en plaçant des
    caractères # au début des lignes.

4.3.3. Ajouter les sources d'un média optique à APT

    Si vous ne voulez utiliser que les CD (ou DVD ou Blu-ray),
    commentez les lignes « deb » existantes dans le fichier
    sources.list en plaçant des # au début des lignes.

    Assurez-vous de la présence d'une ligne dans /etc/fstab qui
    autorise le montage du CD au point de montage /media/cdrom. Par
    exemple, si /dev/sr0 est le lecteur de CD, le fichier /etc/fstab
    devrait contenir une ligne comme celle-ci :

    /dev/sr0 /media/cdrom auto noauto,ro 0 0

    Remarquez qu'il ne doit pas y avoir d'espace entre les mots
    noauto,ro dans la quatrième colonne.

    Pour vérifier que cela fonctionne, insérez un CD et essayez
    d'exécuter :

    # mount /media/cdrom    # montera le CD au point de montage /media/cdrom
    # ls -alF /media/cdrom  # devrait afficher le contenu de la racine du CD
    # umount /media/cdrom   # démontera le CD

    Puis, lancez :

    # apt-cdrom add

    pour chaque CD binaire Debian en votre possession, afin d'ajouter
    ses données dans la base d'APT.

4.4. Mettre à niveau les paquets

    Pour une mise à niveau des versions précédentes de Debian, il est
    recommandé d'utiliser le gestionnaire de paquets apt-get. Lors
    des versions précédentes, aptitude était recommandé, mais les
    dernières versions d'apt-get fournissent des fonctions
    équivalentes et se sont montrées plus robustes pour fournir le
    résultat attendu pour la mise à niveau.

    N'oubliez pas de monter les partitions requises (notamment les
    partitions racine et /usr) en lecture et écriture, avec une
    commande du type :

    # mount -o remount,rw /point_de_montage

    Puis, vérifiez à nouveau que les sources d'APT (dans /etc/apt/
    sources.list) se réfèrent soit à « jessie » soit à « stable ». Il
    ne doit y avoir aucune source pointant vers Wheezy.

    +--------------------------------------------------+
    |Note                                              |
    |                                                  |
    |Les lignes de source pour un CD font souvent      |
    |référence à « unstable » ; bien que cela soit     |
    |trompeur, vous ne devez pas les changer.          |
    +--------------------------------------------------+

4.4.1. Enregistrer la session

    Il est fortement recommandé d'utiliser le programme /usr/bin/
    script pour enregistrer une transcription de la session de mise à
    niveau. Ainsi, quand un problème survient, vous avez un
    enregistrement de ce qui s'est passé, et vous pouvez fournir les
    informations exactes pour un rapport de bogue. Pour démarrer un
    enregistrement, saisissez :

    # script -t 2>~/upgrade-jessieetape.time -a ~/upgrade-jessieetape.script

    ou quelque chose d'équivalent. Si vous devez utiliser à nouveau
    le script d'enregistrement (par exemple suite à un redémarrage),
    utilisez une nouvelle valeur pour etape afin d'indiquer quelle
    étape vous enregistrez. Ne mettez pas le fichier d'enregistrement
    dans un répertoire temporaire tel que /tmp ou /var/tmp (les
    fichiers de ces répertoires peuvent être détruits pendant la mise
    à niveau ou pendant un redémarrage).

    Le fichier d'enregistrement vous permettra également de revoir
    les informations qui ont défilé. Basculez simplement sur la
    deuxième console (en utilisant Alt+F2) et, après la connexion,
    utilisez less -R ~root/upgrade-jessieetape.script pour voir le
    fichier.

    Après avoir terminé la mise à niveau, vous pouvez stopper
    l'enregistrement en entrant exit à l'invite de commande.

    Si vous avez utilisé l'option -t de script, vous pouvez utiliser
    le programme scriptreplay pour rejouer la session entière :

    # scriptreplay ~/upgrade-jessieetape.time ~/upgrade-jessieetape.script

4.4.2. Mettre à jour la liste des paquets

    La liste des paquets disponibles pour la nouvelle version doit
    tout d'abord être récupérée, avec cette commande :

    # apt-get update

4.4.3. Assurez-vous d'avoir suffisamment d'espace disque pour la mise
à niveau

    Avant de faire la mise à niveau complète du système, telle
    qu'elle est décrite en Section 4.4.5, « Mettre à niveau le
    système », vous devez vous assurer d'avoir suffisamment d'espace
    disque. En effet, tous les paquets nécessaires à l'installation
    sont stockés dans /var/cache/apt/archives (et dans le
    sous-répertoire partial/ pendant le téléchargement). Vous devez
    donc vous assurer d'avoir suffisamment de place sur la partition
    qui contient /var/. Après le téléchargement, vous aurez
    probablement encore besoin de plus d'espace disque sur les autres
    partitions de système de fichiers pour pouvoir installer à la
    fois les paquets mis à niveau (qui peuvent contenir des binaires
    plus gros ou davantage de données) et les nouveaux paquets. Si
    l'espace disque vient à manquer, la mise à niveau sera
    incomplète, ce qui peut rendre le système difficile à récupérer.

    Le programme apt-get peut afficher des informations détaillées à
    propos de l'espace disque nécessaire à l'installation. Vous
    pouvez obtenir cette estimation avant d'effectuer vraiment la
    mise à niveau avec la commande :

    # apt-get -o APT::Get::Trivial-Only=true dist-upgrade
    [ ... ]
    XXX paquets mis à jour, XXX nouvellement installés, XXX à enlever et XXX non mis à jour.
    Il est nécessaire de télécharger xx,x Mo d'archives.
    Après dépaquetage, AAA Mo seront utilisés.

    Note

    Exécuter cette commande au début du processus de mise à niveau
    peut provoquer une erreur pour les raisons décrites dans les
    sections suivantes. Dans ce cas, vous devez attendre d'avoir
    effectué la mise à niveau minimale du système comme décrit en
    Section 4.4.4, « Mise à niveau minimale du système » avant
    d'exécuter cette commande pour estimer l'espace disque
    nécessaire.

    Si vous n'avez pas assez d'espace disque pour la mise à niveau, 
    apt-get vous enverra un message comme :

    E: Vous n'avez pas assez d'espace disponible dans /var/cache/apt/archives/.

    Si vous n'avez pas assez d'espace disque pour la mise à niveau,
    assurez-vous d'en libérer. Vous pouvez :

      * supprimer les paquets qui ont été téléchargés auparavant (dans /
        var/cache/apt/archives). Nettoyer le cache des paquets avec 
        apt-get clean supprimera tous les paquets téléchargés
        auparavant ;

      * supprimer les paquets oubliés. Si vous avez utilisé aptitude ou 
        apt-get pour installer manuellement des paquets dans Wheezy, le
        programme aura gardé la trace de ces paquets ; ainsi, quand un
        paquet est supprimé, le programme peut marquer comme redondants
        les paquets installés par le seul jeu des dépendances et qui ne
        sont plus nécessaires. Ils ne marquent pas pour la suppression
        les paquets que vous avez installés, au contraire de ceux qui ont
        été installés automatiquement par les dépendances. Pour supprimer
        les paquets installés automatiquement et qui ne sont plus
        utilisés, tapez :

        # apt-get autoremove

        Vous pouvez également utiliser deborphan, debfoster ou cruft pour
        trouver les paquets redondants. Ne supprimez pas aveuglément les
        paquets que ces outils présentent, particulièrement si vous
        utilisez des options non standard agressives, car ils sont
        susceptibles de produire des faux positifs. Il est hautement
        recommandé d'examiner manuellement les paquets suggérés à la
        suppression (c'est-à-dire leurs contenu, taille et description)
        avant de les supprimer.

      * supprimer les paquets qui prennent trop d'espace et qui ne sont
        pas actuellement nécessaires (vous pourrez les réinstaller après
        la mise à niveau). Si popularity-contest est installé, vous
        pouvez utiliser popcon-largest-unused pour faire la liste des
        paquets occupant le plus d'espace. Vous pouvez afficher les
        paquets qui prennent le plus de place avec dpigs (disponible dans
        le paquet debian-goodies) ou avec wajig (en lançant wajig size).
        Ils peuvent également être trouvés avec aptitude. Lancez aptitude
        en mode interactif, choisissez Vues → Nouvelle vue des paquets,
        tapez l puis ~i, tapez S puis ~installsize, ce qui créera une
        liste pratique pour travailler.

      * supprimer les traductions et les fichiers de localisation du
        système, s'ils ne sont pas nécessaires. Vous pouvez installer le
        paquet localepurge et le configurer de manière à ce qu'un jeu
        restreint de paramètres régionaux (« locales ») soit conservé sur
        le système. Cela réduira la place occupée dans /usr/share/locale.

      * déplacer temporairement vers un autre système les journaux
        système résidant sous/var/log/ (ou les supprimer définitivement).

      * utiliser un répertoire /var/cache/apt/archives temporaire. Vous
        pouvez utiliser un cache temporaire depuis un autre système de
        fichiers, un périphérique de stockage par USB, un disque dur
        temporaire, un système de fichiers déjà utilisé, etc.

        +-----------------------------------------------------+
        |Note                                                 |
        |                                                     |
        |N'utilisez pas de montage NFS car la connexion réseau|
        |pourrait être interrompue au cours de la mise à      |
        |niveau.                                              |
        +-----------------------------------------------------+

        Par exemple, si une clé USB est montée sur /media/cleusb :

         1. supprimez les paquets téléchargés lors d'une précédente
            installation :

            # apt-get clean

         2. copiez le répertoire /var/cache/apt/archives sur le disque 
            USB :

            # cp -ax /var/cache/apt/archives /media/cleusb/

         3. montez le répertoire de cache temporaire à la place de
            l'actuel :

            # mount --bind /media/cleusb/archives /var/cache/apt/archives

         4. après la mise à niveau, rétablissez le répertoire /var/cache/
            apt/archives initial :

            # umount /media/cleusb/archives

         5. supprimez le répertoire subsistant /media/cleusb/archives.

        Vous pouvez créer le répertoire de cache temporaire dans
        n'importe quel système de fichiers monté sur le système.

      * Effectuez une mise à niveau minimale (consultez la Section 4.4.4,
        « Mise à niveau minimale du système ») ou partielle suivie par
        une mise à niveau complète. Cela vous permettra de mettre à
        niveau partiellement le système, et de nettoyer le cache avant la
        mise à niveau complète.

    Notez que pour supprimer des paquets sans dommage, il est
    conseillé de changer sources.list pour pointer vers wheezy, comme
    décrit en Section A.2, « Vérifier la liste de sources ».

4.4.4. Mise à niveau minimale du système

    Il est possible que le lancement d'une mise à niveau complète
    (décrite ci-dessous) supprime un grand nombre de paquets que vous
    voudriez garder. Nous recommandons donc une action en deux
    temps : commencer par une mise à niveau minimale pour éviter ces
    conflits, puis faire une mise à niveau totale (consultez la
    Section 4.4.5, « Mettre à niveau le système »).

    Pour ce faire, exécutez d'abord :

    # apt-get upgrade

    Note

    Nous recommandions d'utiliser aptitude lors du processus de mise
    à niveau pour certaines versions précédentes. Cet outil n'est pas
    recommandé pour les mises à niveau de Wheezy à Jessie.

    Cette commande met à niveau les paquets qui peuvent l'être sans
    entraîner l'installation ou la suppression d'autres paquets.

    La mise à niveau minimale peut aussi être utilisée sur un système
    limité en taille, sur lequel une mise à niveau complète prendrait
    trop d'espace.

    Si le paquet apt-listchanges est installé avec sa configuration
    par défaut, il affichera de manière interactive les informations
    importantes sur les paquets mis à jour. Il est nécessaire
    d'utiliser la touche q une fois ces informations lues afin de
    quitter l'affichage interactif et poursuivre la mise à jour.

4.4.5. Mettre à niveau le système

    Vous êtes maintenant prêt à continuer avec la partie principale
    de la mise à niveau. Exécutez :

    # apt-get dist-upgrade

    Note

    Nous recommandions d'utiliser aptitude lors du processus de mise
    à niveau pour certaines versions précédentes. Cet outil n'est pas
    recommandé pour les mises à niveau de Wheezy à Jessie.

    Cette commande effectue une mise à niveau complète du système, en
    installant les versions les plus récentes de tous les paquets, et
    en résolvant tous les changements possibles de dépendances entre
    paquets des différentes versions. Si nécessaire, elle installe de
    nouveaux paquets (habituellement de nouvelles versions de
    bibliothèques, ou des paquets ayant changé de nom), et retire les
    paquets obsolètes en conflit.

    Lorsque la mise à niveau se fait à partir d'un ensemble de CD (ou
    DVD), on vous demandera d'insérer d'autres CD ou DVD à plusieurs
    moments de la mise à niveau. Vous pourriez devoir insérer
    plusieurs fois le même CD ou DVD. Cela est dû aux relations entre
    paquets répartis sur plusieurs supports.

    Les paquets déjà installés ayant une nouvelle version, mais qui
    ne peuvent être installés sans modifier l'état d'un autre paquet,
    seront laissés dans leur version actuelle (et affichés comme
    retenus — « held back »). Cela peut être résolu soit en utilisant
    aptitude et en choisissant d'installer ces paquets, soit en
    essayant apt-get install paquet.

4.5. Problèmes possibles pendant une mise à niveau

    Les parties suivantes décrivent les problèmes connus pouvant
    survenir lors d'une mise à niveau vers Jessie.

4.5.1. La mise à niveau échoue avec « Impossible de faire une
configuration immédiate ».

    Dans certains cas, l'étape apt-get dist-upgrade peut échouer après le
    téléchargement des paquets avec :

    E: Impossible de faire une configuration immédiate sur 'paquet. Veuillez consulter man 5 apt.conf à la section APT::Immediate-Configure pour plus de précisions.

    Si cela se produit, lancer apt-get dist-upgrade -o
    APT::Immediate-Configure=0 à la place devrait permettre à la mise
    à niveau d'avoir lieu.

    Une autre possibilité pouvant permettre de contourner ce problème
    consiste à ajouter temporairement des sources pour wheezy et
    jessie dans le fichier sources.list puis d'exécuter la commande 
    apt-get update.

4.5.2. Suppressions attendues

    La mise à niveau vers Jessie peut demander la suppression de
    paquets sur le système. Leur liste exacte dépendra des paquets
    installés sur le système. Ces notes de publication donnent des
    conseils généraux sur la méthode à utiliser, mais en cas de
    doute, il est recommandé d'examiner les suppressions de paquets
    proposées par chacune des méthodes avant de les effectuer
    réellement. Pour plus d'informations au sujet des paquets devenus
    obsolètes dans Jessie, veuillez consulter Section 4.10, « Paquets
    obsolètes ».

4.5.3. Boucles de conflits ou de prédépendances

    Il est parfois nécessaire d'activer l'option d'APT
    APT::Force-LoopBreak pour pouvoir temporairement retirer un
    paquet essentiel à cause de boucles « Conflicts/Pre-Depends ». 
    apt-get vous alertera à ce propos et interrompra la mise à
    niveau. Vous pouvez contourner ce problème en passant l'option -o
    APT::Force-LoopBreak=1 sur la ligne de commande d'apt-get.

    Il est possible que la structure de dépendances d'un système soit
    tellement défectueuse qu'elle requiert une intervention manuelle.
    Habituellement, cela signifie qu'il faut utiliser apt-get ou :

    # dpkg --remove nom_du_paquet

    pour éliminer certains des paquets en cause, ou :

    # apt-get -f install
    # dpkg --configure --pending

    Dans certains cas extrêmes, vous pourriez devoir forcer une
    réinstallation à l'aide d'une commande comme :

    # dpkg --install /chemin/vers/nom_du_paquet.deb

4.5.4. Conflits de fichiers

    Les conflits de fichiers ne devraient pas se produire si vous
    mettez à niveau depuis un système Wheezy « pur », mais ils
    peuvent se produire si des rétroportages non officiels sont
    installés. Un conflit de fichiers entraînera une erreur de ce
    type :

    Préparation du remplacement de <paquet-toto> (en utilisant <fichier-paquet-toto>) ...
    dpkg: erreur de traitement de <paquet-toto> (--install):
     tentative de remplacement de « <un-nom-de-fichier> »,
     qui appartient aussi au paquet <paquet-titi>
    dpkg-deb: sous-processus paste tué par le signal (Broken pipe)
     Des erreurs ont été rencontrées pendant l'exécution :
     <paquet-toto>

    Vous pouvez tenter de résoudre un conflit de fichiers en forçant
    la suppression du paquet mentionné sur la dernière ligne du
    message d'erreur :

    # dpkg -r --force-depends nom_du_paquet

    Après cela, vous devriez être en mesure de continuer la mise à
    niveau, en utilisant les commandes d'apt-get précédemment
    décrites.

4.5.5. Changements de configuration

    Durant la mise à niveau, on vous posera des questions pour
    configurer ou reconfigurer de nombreux paquets. Quand on vous
    demandera si des fichiers du répertoire /etc/init.d ou le fichier
    /etc/manpath.config doivent être remplacés par la version du
    responsable du paquet, il est généralement nécessaire de répondre
    « oui » pour assurer la cohérence du système. Vous pouvez
    toujours revenir aux versions précédentes, puisqu'elles sont
    sauvegardées avec une extension .dpkg-old.

    Si vous n'êtes pas certain de ce qu'il faut faire, notez le nom
    du paquet ou du fichier et examinez le problème plus tard. Vous
    pouvez chercher dans le fichier d'enregistrement pour revoir les
    informations qui étaient à l'écran lors de la mise à niveau.

4.5.6. Changement de session sur la console

    Si vous utilisez le système depuis la console locale, il est
    possible qu'à certains moments de la mise à niveau la console
    passe à une vue différente, et que la mise à niveau du système ne
    soit plus observable. Cela peut par exemple être le cas pour les
    systèmes de bureau quand le gestionnaire d'écran de connexion est
    relancé.

    Pour revenir à la console traitant le processus de mise à niveau,
    utilisez les touches Ctrl+Alt+F1 (si vous avez une interface de
    connexion graphique) ou Alt+F1 (si vous avez une console texte
    locale) pour revenir au terminal virtuel 1. Remplacez F1 avec la
    touche Fx où x correspond au numéro du terminal sur lequel se
    déroule la mise à niveau. Vous pouvez aussi utiliser Alt+flèche
    gauche ou Alt+flèche droite pour passer d'un terminal en mode
    texte à un autre.

4.5.7. Attention particulière à porter à certains paquets

    La plupart des paquets devrait passer docilement de Wheezy à
    Jessie. Il y a cependant un petit nombre de cas où une
    intervention manuelle peut être nécessaire, que ce soit avant ou
    pendant la mise à niveau. Ces interventions sont détaillées
    ci-dessous en fonction du paquet impliqué.

4.5.7.1. systemd

    La mise à niveau de Debian depuis Wheezy vers Jessie va par
    défaut faire migrer votre système d'init de SysV vers systemd. En
    fonction de votre système et de votre installation, vous pouvez
    avoir besoin de faire des changements manuellement. Les problèmes
    connus sont détaillés dans Section 5.6, « La mise à niveau
    installe le nouveau système d'initialisation par défaut de
    Jessie ».

4.5.7.2. LXC

    Si LXC est installé, vous pouvez devoir prendre des précautions
    supplémentaires lors de la mise à niveau de votre système et de
    vos conteneurs. Veuiller consulter Section 5.8, « Considérations
    au sujet de la mise à niveau des hôtes et conteneurs LXC » au
    sujet des problèmes connus et de leurs solutions.

4.6. Mise à niveau du noyau et des paquets liés

    Cette section explique comment mettre à niveau le noyau et
    identifie les problèmes potentiels liés à cette mise à niveau.
    Vous pouvez soit installer l'un des paquets linux-image-* fournis
    dans Debian ou compiler un noyau personnalisé à partir des
    sources.

    Veuillez noter que beaucoup d'informations dans cette section
    sont basées sur l'hypothèse que vous utilisez l'un des noyaux
    modulaires de Debian, avec les paquets initramfs-tools et udev.
    Si vous choisissez d'utiliser un noyau personnalisé qui ne
    nécessite pas d'initrd ou si vous utilisez un générateur d'initrd
    différent, certaines informations peuvent ne pas vous concerner.

4.6.1. Installer un métapaquet du noyau

    Quand vous faites une mise à niveau de Wheezy vers Jessie, il est
    fortement recommandé d'installer un métapaquet linux-image-*, si
    cela n’avait pas été déjà fait. Ces métapaquets vont
    automatiquement récupérer une nouvelle version par le processus
    de mise à niveau. Vous pouvez vérifier cela en exécutant :

    # dpkg -l "linux-image*" | grep ^ii | grep -i meta

    Si cela ne donne rien, vous devez alors soit installer un nouveau
    paquet linux-image vous-même ou installer un métapaquet
    linux-image. Pour voir la liste des métapaquets linux-image
    disponibles, exécutez :

    # apt-cache search linux-image- | grep -i meta | grep -v transition

    Si vous ne savez pas quel paquet sélectionner, exécutez uname -r
    et recherchez un paquet avec un nom similaire. Par exemple, si
    2.6.32-5-amd64 apparaît, il est recommandé d'installer
    linux-image-amd64. Vous pouvez également utiliser apt-cache pour
    voir une description longue de chaque paquet. Cela peut vous
    aider à choisir le meilleur paquet disponible. Par exemple :

    # apt-cache show linux-image-amd64

    Vous pouvez alors installer le paquet choisi en utilisant la
    commande apt-get install. Une fois ce nouveau noyau installé,
    vous devriez redémarrer dès que possible afin de profiter des
    améliorations fournies par la nouvelle version du noyau.
    Néanmoins, veuillez consulter Section 4.7, « Choses à faire avant
    le prochain redémarrage » avant de lancer le premier redémarrage
    suivant la mise à niveau.

    Pour les plus courageux, il existe un moyen facile pour compiler
    votre propre noyau sous Debian. Installez les sources du noyau
    fournies pas le paquet linux-source. Vous pouvez utiliser la
    cible deb-pkg du fichier Makefile fourni dans les sources pour
    construire un paquet binaire. Plus d'informations sont
    disponibles dans le Manuel du noyau Linux de Debian (http://
    kernel-handbook.alioth.debian.org/) , qui peut également être
    trouvé dans le paquet debian-kernel-handbook.

    Si possible, vous devriez mettre à niveau le noyau (par le paquet
    idoine) séparément de la mise à niveau (dist-upgrade) principale
    pour réduire les risques d'avoir un système temporairement non
    amorçable. Notez que cela devrait être effectué uniquement après
    le processus de mise à niveau minimal décrit en Section 4.4.4,
    « Mise à niveau minimale du système ».

4.6.2. Modifications apportées au montage des systèmes de fichiers
racine et /usr et à leur vérification.

    Désormais, initramfs-tools lancera également fsck sur le système
    de fichiers racine avant de le monter. Si le programe de
    démarrage choisi est systemd et si le système de fichiers /usr
    est séparé, il lancera aussi fcsk avant de monter /usr.

      * Si /usr est un système de fichiers séparé sur un périphérique
        RAID et que l'option INITRDSTART de /etc/default/mdadm n'est
        pas réglée à all, vous devrez la modifier pour inclure ce
        périphérique.

      * Si /usr est un système de fichiers séparé sur un volume
        logique LVM et que la ligne concernant /usr dans /etc/fstab
        désigne le périphérique par son UUID ou son LABEL, vous devez
        modifier cette ligne pour désigner le périphérique en
        utilisant le format /dev/mapper/VG-LV ou /dev/VG/LV.

      * Il n'est plus possible de monter en « bind » le système de
        fichiers /usr.

      * Si la RTC (« real time clock » — horloge en temps réel) est
        réglée sur l'heure locale et que l'heure locale est en avance
        sur l'heure UTC, e2fsck affichera un avertissement lors du
        démarrage au sujet de l'heure décalée en arrière (bogue
        nº 767040 (https://bugs.debian.org/767040) ). Vous pouvez
        désactiver cet avertissement en ajoutant les lignes suivantes
        dans /etc/e2fsck.conf :

        [options]
        broken_system_clock=1

4.7. Choses à faire avant le prochain redémarrage

    Lorsque apt-get dist-upgrade est terminé, la mise à niveau « 
    formelle » est terminée, mais il reste quelques petites choses
    dont vous devriez vous occuper avant le prochain redémarrage.

      * Lors de la mise à niveau de Wheezy vers Jessie, purger les
        anciens paquets avant le premier redémarrage peut être une
        bonne idée. En particulier, les scripts de démarrage
        obsolètes peuvent causer des problèmes. Veuillez consulter
        Section 4.8.1, « Purger les paquets supprimés » pour de plus
        amples informations sur la recherche et la purge des paquets
        supprimés.

4.8. Préparations pour la prochaine version

    Après la mise à niveau, il y a plusieurs choses que vous pouvez
    faire pour préparer la prochaine version.

      * Supprimez tous les paquets nouvellement redondants ou
        obsolètes comme décrits en Section 4.4.3, « Assurez-vous
        d'avoir suffisamment d'espace disque pour la mise à niveau »
        et Section 4.10, « Paquets obsolètes ». Vous devriez
        contrôler les fichiers de configuration qu'ils utilisent et
        envisager de purger les paquets pour supprimer leurs fichiers
        de configuration. Veuillez également consulter Section 4.8.1,
        « Purger les paquets supprimés ».

4.8.1. Purger les paquets supprimés

    Il est généralement conseillé de purger les paquets supprimés.
    C'est particulièrement vrai si ceux-ci ont été supprimés lors
    d'une mise à niveau précédente (par exemple la mise à niveau vers
    Wheezy) ou s'ils ont été fournis par des vendeurs tiers. En
    particulier, les anciens scripts init.d sont connus pour causer
    des problèmes.

    Attention
   
    En général, purger un paquet purgera également ses fichiers de
    journaux, donc vous pourriez vouloir les sauvegarder d'abord.

    La commande suivante affiche une liste de tous les paquets
    supprimés qui pourraient avoir laissé des fichiers de
    configuration sur le système (s'il y en a) :

    # dpkg -l | awk '/^rc/ { print $2 }'

    Les paquets peuvent être supprimés en utilisant apt-get purge. En
    supposant que vous souhaitiez tous les purger en une seule fois,
    vous pouvez utiliser la commande suivante :

    # apt-get purge $(dpkg -l | awk '/^rc/ { print $2 }')

    Si vous utilisez aptitude, vous pouvez également utiliser cette
    commande au lieu de la précédente :

    $ aptitude search '~c'
    $ aptitude purge '~c'

4.9. Composants obsolètes

    Avec la publication de Debian 9 (nom de code Stretch), un nombre
    important de fonctions seront obsolètes, et les utilisateurs
    devront changer pour de nouvelles alternatives pour prévoir le
    passage en 9.

    Cela inclut les fonctions suivantes :

      * Le paquet hardening-wrapper est déprécié et devrait être
        supprimé de Stretch.

4.10. Paquets obsolètes

    Avec Jessie, plusieurs milliers de nouveaux paquets apparaissent,
    tandis que bon nombre d'anciens paquets présents dans Wheezy
    disparaissent. Il n'est pas prévu de procédure de mise à niveau
    pour ces paquets obsolètes. Bien que rien ne vous empêche de
    continuer à utiliser ces paquets si vous le désirez, le projet
    Debian arrête habituellement leur suivi de sécurité un an après
    la sortie de Jessie^[5], et n'assure normalement pas d'autre
    prise en charge dans l'intervalle. Il est recommandé de remplacer
    ces paquets par leurs alternatives disponibles quand elles
    existent.

    Il y a plusieurs raisons pour lesquelles un paquet peut avoir été
    retiré de la distribution : il n'est plus maintenu en amont, il
    n'y a plus de responsable Debian intéressé par la maintenance du
    paquet, la fonctionnalité fournie par le paquet a été remplacée
    par un logiciel différent (ou une nouvelle version) ou il n'est
    plus considéré comme convenable pour Jessie en raison de ses
    bogues. Dans ce dernier cas, le paquet peut cependant toujours
    être présent dans la distribution « unstable ».

    Détecter quels paquets sont « obsolètes » dans un système à jour
    est facile car les interfaces de gestion des paquets les marquent
    comme tels. Si vous utilisez aptitude, vous verrez une liste de
    ces paquets sous l'entrée « Paquets obsolètes ou créés localement
     ».

    Le système de suivi des bogues de Debian (https://bugs.debian.org
    /) fournit souvent des informations complémentaires sur les
    raisons pour lesquelles un paquet a été retiré. Vous devriez
    consulter à la fois les comptes-rendus de bogue archivés pour le
    paquet lui-même et ceux du pseudo-paquet ftp.debian.org (https://
    bugs.debian.org/cgi-bin/pkgreport.cgi?pkg=ftp.debian.org&archive=
    yes) .

    La liste des paquets obsolètes comprend :

      * postgresql-9.1, dont le successeur est postgresql-9.4. Après
        la mise à niveau du système, vous devriez également prévoir
        de mettre vos bases de données PostgreSQL 9.1 à niveau vers
        PostgreSQL 9.4 en utilisant l'outil pg_upgradecluster. Pour
        les utilisateurs du langage procédural PL/perl, Jessie
        fournit un paquet postgresql-plperl-9.1 lié à la version de
        Jessie de libperl afin de permettre la mise à niveau vers la
        nouvelle version de perl dans Jessie tout en gardant les
        fonctions de l'ancienne base de données PL/perl utilisables
        jusqu'à ce que la base de données soit également mise à
        niveau.

      * python3.2, dont le successeur est python3.4 (la version 2.7
        est prise en charge dans à la fois Wheezy et Jessie.)
   
      * ruby1.8 et ruby1.9.1, dont le successeur est ruby2.1.
        Veuillez installer le paquet ruby pour suivre automatiquement
        la version actuelle de ruby.

      * mplayer ; les alternatives sont mplayer2 et mpv (nouveau dans
        Jessie). Veuillez noter que bien que ffmpeg ne soit pas livré
        avec Jessie, il sera certainement réintroduit dans Stretch.
        Veuillez également consulter le rapport de bogue nº 732159
        (http://bugs.debian.org/732159) .

      * openoffice.org, dont le successeur est libreoffice ;

      * squid, dont le successeur est squid3 ;

      * libjpeg-progs, dont le successeur est libjpeg-turbo-progs ;

      * openjdk-6-*, dont le successeur est openjdk-7-*.

4.10.1. Paquets factices

    Certains paquets de la version Wheezy ont été divisés en
    plusieurs paquets dans Jessie, souvent pour améliorer la
    maintenabilité du système. Pour faciliter la mise à niveau dans
    de tels cas, Jessie fournit souvent des paquets « factices » (« 
    dummy packages » en anglais) : des paquets vides qui ont le même
    nom que l'ancien paquet de la version Wheezy et dont les
    dépendances entraînent l'installation des nouveaux paquets. Ces
    paquets factices sont considérés comme des paquets redondants
    après la mise à niveau et peuvent être supprimés sans problème.

    La plupart des descriptions des paquets factices signalent le but
    de ces paquets. Cependant, elles ne sont pas uniformes, et le
    programme deborphan, avec les options de type --guess-*, peut
    être utile pour détecter ces paquets sur le système. Notez que
    certains paquets factices ne sont pas destinés à être supprimés
    après une mise à niveau car ils sont utilisés pour déterminer
    quelle est la version actuellement disponible d'un programme.


---------------------------------------------------------------------

    ^[1] Si la priorité de debconf est configurée à un très haut
    niveau, certaines demandes de configuration seront passées sous
    silence, mais les services qui dépendent de réponses par défaut
    qui ne s'appliquent pas au système ne vont pas pouvoir démarrer.

    ^[2] Par exemple : les services DNS ou DCHP, en particulier s'il
    n'y a pas de redondance ou de serveur de secours. Dans le cas de
    DHCP, l'utilisateur peut être déconnecté du réseau si le temps
    d'attribution de l'adresse est inférieur à celui mis pour
    terminer le processus de mise à niveau.

    ^[3] Cette fonctionnalité peut être désactivée en ajoutant le
    paramètre panic=0 aux paramètres d'amorçage.

    ^[4] Le système de gestion des paquets de Debian ne permet pas
    qu'un paquet supprime ou remplace un fichier appartenant à un
    autre paquet sauf si ce paquet est prévu pour remplacer cet autre
    paquet.

    ^[5] Ou aussi longtemps qu'il n'y a pas de nouvelle version
    pendant cet intervalle de temps. Il n'y a typiquement qu'au plus
    deux versions stables supportées à tout moment.

Chapitre 5. Problèmes à connaître pour Jessie

    Parfois, des changements ont des effets de bord que nous ne
    pouvons pas raisonnablement éviter sans nous exposer à des bogues
    à un autre endroit. Cette section documente les problèmes que
    nous connaissons. Veuillez également lire l'errata, la
    documentation des paquets concernés, les rapports de bogues et
    les autres sources d'informations mentionnées en Section 6.1,
    « Lectures pour aller plus loin ».

5.1. Limitations de la prise en charge de sécurité

    Il y a certains paquets pour lesquels Debian ne peut pas garantir
    de rétroportages de base pour les problèmes de sécurité. Ceux-ci
    sont couverts dans les sous-sections suivantes.

    Veuillez noter que le paquet debian-security-support, introduit
    dans Jessie, aide à suivre le statut de la prise en charge du
    suivi de sécurité des paquets installés.

5.1.1. État de sécurité des navigateurs web

    Debian 8 inclut plusieurs moteurs de navigateur web qui sont
    affectés par un flot continu de vulnérabilités de sécurité. Ce
    taux élevé de vulnérabilités ainsi que le manque partiel de prise
    en charge amont sous la forme de branches maintenues à long terme
    rendent difficiles les corrections de sécurité rétroportées. De
    plus, les interdépendances des bibliothèques rendent impossible
    la mise à niveau vers une nouvelle version. Par conséquent les
    navigateurs basés sur les moteurs webkit, qtwebkit et khtml sont
    inclus dans Jessie mais ne sont pas couverts par une prise en
    charge complète de la sécurité. Ces navigateurs ne devraient pas
    être utilisés sur des sites web non fiables.

    Pour un usage général de navigation web, nous recommandons
    Iceweasel et Chromium.

    Chromium − bien qu'il soit construit sur Webkit − est un paquet
    sans dépendance, qui sera maintenu à jour en reconstruisant les
    versions actuelles de Chromium pour stable. Iceweasel et Icedove
    seront également maintenus à jour en reconstruisant les versions
    ESR actuelles pour stable.

5.1.2. Manque de prise en charge de sécurité pour l'écosystème autour
de libv8 et Node.js

    La plate-forme Node.js est construite sur libv8-3.14 qui souffre
    d'un grand nombre de problèmes de sécurité, mais le projet et
    l'équipe de sécurité manquent de volontaires suffisamment
    intéressés et souhaitant investir beaucoup de temps pour corriger
    ces problèmes.

    Malheureusement, cela signifie que libv8-3.14, nodejs et
    l'écosystème de paquets node-* associé ne devraient pas être
    actuellement utilisés avec du contenu non sûr, par exemple des
    données non validées depuis Internet.

    De plus, ces paquets ne recevront aucune mise à jour de sécurité
    pendant la durée de vie de la distribution Jessie.

5.1.3. Limitation précoce de la prise en charge de sécurité

    La prise en charge en amont de la sécurité pour la version 1.19
    de mediawiki prendra fin pendant le cycle de vie de Jessie. Le
    paquet mediawiki est inclus dans Jessie afin de satisfaire les
    dépendances d'autres paquets.

    La prise en charge de la sécurité de mediawiki prendra fin en
    même temps que celle de Wheezy en avril 2016.

5.2. Le serveur OpenSSH est réglé par défaut sur « PermitRootLogin
without-password »

    Afin de renforcer la sécurité de l'installation par défaut, la
    configuration de openssh-server est maintenant réglée avec
    « PermitRootLogin without-password » par défaut. Si vous utilisez
    l'authentification par mot de passe pour l'utilisateur root, vous
    pourriez être affecté par ce changement.

    openssh-server essaiera de détecter de tels cas et augmentera la
    priorité de son invite debconf.

    Si vous souhaitez conserver l'authentification par mot de passe pour
    l'utilisateur root, vous pouvez également pré-répondre à cette
    question en utilisant :

    # La valeur « false » est correcte même si elle prête à confusion.
     $ echo 'openssh-server openssh-server/permit-root-login boolean false' | debconf-set-selections

5.3. Compatibilité de Puppet 2.7 et 3.7

    Si vous utilisez Puppet, soyez conscient que Puppet 3.7 n'est pas
    rétrocompatible avec Puppet 2.7. Entre autres choses, les règles
    de portée (« scoping ») ont changé et beaucoup de constructions
    dépréciées ont été supprimées. Veuillez consulter les notes de
    publication de Puppet 3.x (https://docs.puppetlabs.com/puppet/3/
    reference/release_notes.html#puppet-300) pour quelques-unes des
    modifications, mais gardez à l'esprit qu'il y en a davantage dans
    la version 3.7.

    Vérifier les fichiers de journaux de votre puppetmaster actuel à
    la recherche d'avertissements de dépréciation et résoudre tous
    ces avertissements avant de procéder à la mise à niveau
    simplifiera grandement les choses. Autrement ou en complément, le
    test des manifestes avec un outil comme le test de catalogue de
    Puppet (https://github.com/duritong/puppet_catalog_test) pourrait
    également trouver des problèmes potentiels avant la mise à
    niveau.

    Lors de la mise à niveau de Wheezy vers Jessie d'un système géré
    par Puppet, assurez-vous que le puppetmaster correspondant
    utilise au moins la version 3.7. Si le maître fonctionne avec le
    puppetmaster de Wheezy, le système géré sous Jessie ne sera pas
    capable de s'y connecter.

    Pour davantage d'informations sur les changements
    d'incompatibilité, veuillez consulter les problèmes de mise à
    niveau Telly (https://projects.puppetlabs.com/projects/puppet/
    wiki/Telly_Upgrade_Issues) et « The Angry Guide to Puppet 3 »
    (http://somethingsinistral.net/blog/the-angry-guide-to-puppet-3/)
    .

5.4. La mise à niveau vers PHP 5.6 produit des modifications de son
comportement

    La mise à niveau vers Jessie comprend une mise à niveau de PHP de
    la version 5.4 vers la version 5.6. Cela pourrait affecter tous
    les scripts PHP locaux et il vous est recommandé de vérifier ces
    scripts avant de mettre à niveau. Un sous-ensemble de ces
    problèmes est présenté ci-dessous :

      * Pour prévenir les attaques de type « homme du milieu » sur
        les transferts chiffrés, les flux clients vérifient
        dorénavant les certificats des pairs par défaut.

        En résultat de ces changements, un code existant utilisant
        des enveloppes de flux ssl:// ou tls:// (par exemple
        file_get_contents(), fsockopen() et stream_socket_client())
        pourrait ne plus réussir à se connecter sans désactiver
        manuellement la vérification des pairs grâce au réglage
        « verify_peer » du contexte de flux.

        Pour davantage d'informations sur ces problèmes particuliers,
        veuillez lire ce document (https://wiki.php.net/rfc/
        tls-peer-verification)

      * PHP modifie la gestion de l'insensibilité à la casse dans de
        nombreux cas :

          + Toute gestion de l'insensibilité à la casse pour les noms
            de classes, fonctions et constantes se fait d'après les
            règles ASCII. Les réglages de la locale actuelle sont
            ignorés.

          + Les mots-clés « self », « parent » et « static » sont
            dorénavant toujours insensibles à la casse.
   
          + La fonction json_decode() n'accepte plus les variantes
            non minuscules des valeurs booléennes.

      * Les fonctions de GUID logo (comme php_logo_guid()) ont été
        supprimées.

      * Il n'est plus possible d'écraser les clés dans les tableaux
        scalaires statiques. Veuillez consulter le bogue 66015 de PHP
        (https://bugs.php.net/bug.php?id=66015) pour un exemple et
        plus d'informations sur ce problème.

      * Les fonctions mcrypt_encrypt(), mcrypt_decrypt() et mcrypt_
        {MODE}() n'acceptent plus les clés ou vecteurs
        d'initialisation de taille incorrecte. De plus, un vecteur
        d'initialisation est maintenant nécessaire si l'algorithme de
        bloc utilisé le nécessite.

      * Pour des raisons d'ordre légal, l'implémentation de JSON
        fournie avec PHP a été remplacée par la version fournie par
        le module PECL « jsonc ». Tout code faisant des suppositions
        au sujet de détails d'implémentation de l'interpréteur JSON
        de PHP devrait être revu.

      * Le réglage "short_open_tag" est maintenant désactivé par
        défaut. Il est prévu de supprimer les variantes ASP des tags
        courts ("<?" et "?>") dans PHP7.

    Pour plus d'informations ou la liste complète des problèmes
    potentiels, veuillez consulter la liste amont des modifications
    qui ne sont pas rétrocompatibles pour PHP pour les versions 5.5
    (https://php.net/manual/en/migration55.incompatible.php) et 5.6
    (https://php.net/manual/en/migration56.incompatible.php) .

5.5. Modifications incompatibles dans Apache HTTPD 2.4

    Note
   
    Cette section ne s'applique qu'aux systèmes sur lesquels un
    serveur HTTPD Apache est installé et configuré manuellement.

    De nombreux changements ont eu lieu dans la configuration du
    serveur HTTPD Apache dans sa version 2.4. Du côté amont, la
    syntaxe a changé. Notamment, les directives de contrôle d'accès
    ont considérablement changé et nécessiteront une migration
    manuelle vers les nouvelles directives.

    Le module mod_access_compat est mentionné dans le guide amont de
    mise à niveau comme une alternative possible à la migration
    immédiate. Cependant, les rapports laissent penser que cela ne
    fonctionne pas toujours.

    La gestion des fichiers de configuration a également changé dans
    le paquet Debian. En particulier, tous les fichiers de
    configuration et les sites doivent maintenant se terminer par
    « .conf » pour être interprétés par défaut. Cette modification
    remplace également l'usage actuel de /etc/apache2/conf.d/.

    Note

    Lors de la mise à niveau, vous pourriez également voir des
    avertissements concernant les fichiers de configuration placés
    dans /etc/apache2/conf.d/ qui sont fournis par des paquets de
    Debian. Cet avertissement est inévitable mais sans danger car les
    paquets affectés déplaceront leur configuration quand leur mise à
    niveau sera terminée (ce qui se produit généralement après
    l'envoi de l'avertissement par le serveur HTTP Apache).

    Pour davantage d'informations et la liste complète des
    modifications, veuillez vous référer à :

      * Upgrading to 2.4 from 2.2 (http://httpd.apache.org/docs/2.4/
        upgrading.html) fourni par Apache pour la partie amont.
   
      * Le fichier /usr/share/doc/apache2/NEWS.Debian.gz fourni par
        le paquet apache2.

5.6. La mise à niveau installe le nouveau système d'initialisation
par défaut de Jessie

    Jessie est livrée avec systemd-sysv en tant que système
    d'initialisation par défaut. Ce paquet est automatiquement
    installé lors d’une mise à niveau.

    Si vous avez une préférence pour un autre système comme
    sysvinit-core ou upstart, il est recommandé de régler le pinning
    d'APT avant la mise à niveau. Cela peut également être nécessaire
    si vous mettez à niveau des conteneurs LXC avant leur hôte. Dans
    ce cas, veuillez vous référer à Section 5.8.1, « Mettre à niveau
    des invités LXC tournant sur des hôtes sous Wheezy ».

    Par exemple, pour empêcher systemd-sysv d'être installé lors de
    la mise à niveau, vous pouvez créer un fichier nommé /etc/apt/
    preferences.d/local-pin-init ayant le contenu suivant :

    Package: systemd-sysv
    Pin: release o=Debian
    Pin-Priority: -1

    Attention

    Soyez averti que certains paquets pourraient avoir un
    comportement affecté ou pourraient ne pas avoir toutes leurs
    fonctionnalités sous un autre système d'initialisation que celui
    par défaut.

    Veuillez noter que la mise à niveau pourrait installer des
    paquets contenant « systemd » dans leur nom malgré le pinning
    APT. Ces paquets seuls ne peuvent pas changer votre système
    d'initialisation. Pour utiliser systemd comme système
    d'initialisation, le paquet systemd-sysv doit d'abord être
    installé.

    Si APT ou aptitude a des difficultés à calculer un chemin de mise
    à niveau avec le pinning mis en place, vous pouvez l'aider en
    installant manuellement sysvinit-core et systemd-shim.

5.6.1. Gestion plus stricte des échecs de montage lors du démarrage
sous systemd

    Le nouveau système d'initialisation par défaut, systemd-sysv,
    gère les échecs de montages « auto » de façon plus stricte que ne
    le fait sysvinit. S'il échoue à monter un montage « auto » (sans
    l'option « nofail »), systemd lancera un shell d'urgence au lieu
    de poursuivre le démarrage.

    Nous recommandons que tous les points de montage démontables ou
    optionnels (« optional ») listés dans /etc/fstab, tels que les
    disques réseau non critiques, aient l'option « noauto » ou
    « nofail ».

5.6.2. Les scripts de démarrage obsolètes devraient être purgés

    Si vous faites une mise à niveau depuis une distribution
    précédente, votre système peut contenir des scripts de démarrage
    fournis par des paquets (désormais) supprimés. Ces scripts
    pourraient avoir des métadonnées imprécises ou sans dépendance,
    ce qui peut mener à des cycles de dépendance dans votre
    configuration de démarrage.

    Afin d'éviter cela, nous vous recommandons de regarder la liste
    des paquets se trouvant dans l'état « rc » (« supprimés, mais
    ayant encore des fichiers de configuration ») et de purger au
    moins ceux ayant des scripts de démarrage.

    Veuillez consulter Section 4.8.1, « Purger les paquets
    supprimés » pour de plus amples détails sur la façon de trouver
    et purger les paquets supprimés.

5.6.3. Les scripts de démarrage modifiés localement peuvent
nécessiter d'être portés vers systemd

    Note

    Cette section ne concerne que les systèmes dans lesquels les
    scripts de démarrage fournis par Debian ont été modifiés
    localement.

    Si vous avez modifié certains de vos scripts de démarrage fournis
    par Debian, sachez que ceux-ci pourraient avoir été remplacés par
    un fichier unit de systemd ou par systemd lui-même. Si debsums
    est installé, vous pouvez vérifier les scripts de démarrage
    modifiés localement en utilisant la commande suivante :

    debsums -c -e | grep ^/etc/init.d

    Autrement, la commande suivante peut-être utilisée en l'absence
    de debsums.

    dpkg-query --show -f'${Conffiles}' | sed 's, /,\n/,g' | \
      grep /etc/init.d | awk 'NF,OFS="  " {print $2, $1}' | \
      md5sum --quiet -c

    Si l'une de ces commandes désigne des fichiers et leurs paquets
    correspondants ou que systemd fournit désormais un fichier unit
    pour ce service, le fichier unit de systemd aura la priorité sur
    votre script de démarrage modifié localement. En fonction de la
    nature de la modification, il existe différentes manières
    d'effectuer la migration.

    Au besoin, il est possible de passer outre le fichier unit de
    systemd pour le faire lancer le script de démarrage. Pour
    davantage d'informations sur les fichiers unit systemd, veuillez
    consulter les ressources suivantes :

      * Comment convertir un script de démarrage SysV en un fichier
        de service systemd ? (http://0pointer.de/blog/projects/
        systemd-for-admins-3.html)

      * systemd.special — Special systemd units (http://0pointer.de/
        public/systemd-man/systemd.special.html)

      * Mon service ne peut pas être en temps réel ! (http://
        www.freedesktop.org/wiki/Software/systemd/
        MyServiceCantGetRealtime/) (contient également une brève
        mention sur l'invocation des scripts de démarrage à partir de
        fichiers unit)

5.6.4. Plymouth nécessaire aux invites de commandes au démarrage pour
les démarrages sous systemd

    Si votre démarrage est interactif (par exemple, nécessite un mot
    de passe pour un disque chiffré), veuillez vous assurer d'avoir
    installé et configuré plymouth. Veuillez consulter /usr/share/doc
    /plymouth/README.Debian pour des informations concernant
    l'installation de plymouth.

    Sans plymouth, il se pourrait que votre invite de commande au
    démarrage disparaisse. Les rapports suggèrent que l'invite de
    cryptsetup accepte toujours les entrées bien qu'elle ne soit pas
    visible. Si vous rencontriez ce problème, taper le bon mot de
    passe devrait toujours fonctionner.

5.6.5. Interaction entre logind et acpid

    Les événements ACPI peuvent être gérés par logind ou acpid. Dans
    le cas où les deux services sont configurés pour gérer les
    événements de différentes manières, des résultats non désirés
    peuvent se produire.

    Nous recommandons de migrer tout réglage n'étant pas par défaut
    vers logind et de désinstaller acpid. Autrement, il est également
    possible de configurer logind pour ignorer les événements ACPI en
    ajoutant :

    HandlePowerKey=ignore
    HandleSuspendKey=ignore
    HandleHibernateKey=ignore
    HandleLidSwitch=ignore

    au fichier /etc/systemd/logind.conf. Veuillez noter que cela
    pourrait modifier le comportement des environnements de bureau se
    basant sur logind.

5.6.6. Fonctionnalités de crypttab non prises en charge sous systemd
(par exemple "keyscript=...")

    Certaines options de cryptsetup ne sont malheureusement pas
    prises en charge lorsque le système d'initialisation est systemd.
    Ces fonctionnalités sont :

      * precheck

      * check

      * checkargs
   
      * noearly

      * loud

      * keyscript

    Si votre système dépend d'une des ces options pour démarrer, vous
    devrez utiliser sysvinit (sysvinit-core) comme système de
    démarrage. Veuillez consulter Section 5.6, « La mise à niveau
    installe le nouveau système d'initialisation par défaut de
    Jessie » pour savoir comment éviter un système de démarrage en
    particulier.

    Vous pouvez vérifier si une de ces options est utilisée dans
    votre système en lançant la commande suivante :

    grep -e precheck -e check -e checkargs -e noearly -e loud -e keyscript /etc/crypttab

    Si rien ne s'affiche en sortie de cette commande, votre système
    n'utilise aucune des options concernées.

5.6.7. systemd : envoie des SIGKILL trop tôt (corrigé dans 8.1)

    Note
   
    Ce problème a été corrigé dans la version mineure 8.1 de Jessie.

    Une régression a été rapportée dans systemd après la distribution
    de Jessie. Le bogue se produit à l'extinction ou au redémarrage
    pendant lesquels systemd n'attend pas suffisamment longtemps
    avant d'envoyer des SIGKILL aux processus. Cela peut conduire à
    la perte de données dans les processus n'ayant pas sauvegardé
    toutes leurs données au moment du redémarrage (par exemple les
    bases de données).

    Le problème est suivi dans le bogue nº 784720 (https://
    bugs.debian.org/783297) .

5.6.8. systemd : comportement de la commande 'halt'

    L'implémentation par sysvinit de la commande halt éteignait la
    machine. L'implémentation par systemd-sysv arrête le système mais
    n'éteint pas la machine. Pour couper le système et éteindre la
    machine, la commande poweroff doit être utilisée.

    Veuillez également consulter le bogue nº 760923 (https://
    bugs.debian.org/783297) .

5.7. Options de noyau requises pour Jessie

    Note

    Cette section est dédiée aux personnes qui compilent leur propre
    noyau. Si vous utilisez les noyaux compilés par Debian, vous
    pouvez ignorer cette section.

    Les options suivantes de configuration du noyau sont maintenant
    requises ou recommandées pour Jessie (en plus des options déjà
    présentes dans les distributions antérieures) :

    # Requis par udev
    CONFIG_DEVTMPFS=y
    # Requis par *certains* services systemd
    CONFIG_DEVPTS_MULTIPLE_INSTANCES=y
    # Requis par "bluez" (GNOME)
    CONFIG_BT=y
    # Requis par cups + systemd.
    CONFIG_PPDEV=y

    Les services systemd nécessitant CONFIG_DEVPTS_MULTIPLE_INSTANCES
    =y contiennent généralement au moins une des directives
    suivantes :

    PrivateTmp=yes
    PrivateDevices=yes
    PrivateNetwork=yes
    ProtectSystem=yes

    Si vous n'utilisez pas systemd ou savez qu'aucun des services de
    systemd n'utilise les directives mentionnées, l'option de
    configuration peut ne pas être nécessaire à votre système.

    Pour plus d'informations au sujet des prérequis, veuillez vous
    référer à la section "REQUIREMENTS" du fichier README (https://
    sources.debian.net/src/systemd/jessie/README/) dans le paquet
    systemd.

5.8. Considérations au sujet de la mise à niveau des hôtes et
conteneurs LXC

    Note
   
    Cette section ne concerne que les systèmes ayant des conteneurs
    et hôtes LXC. Les utilisateurs normaux n'en ont normalement pas.

    La mise à niveau de Wheezy vers Jessie fera migrer votre système
    vers le système de démarrage systemd par défaut (voir
    Section 5.6, « La mise à niveau installe le nouveau système
    d'initialisation par défaut de Jessie »).

    Lors de la migration d'un conteneur ou une machine virtuelle LXC,
    celle-ci aura différentes conséquences selon que le système hôte
    a déjà été mis à niveau vers Jessie ou non.

5.8.1. Mettre à niveau des invités LXC tournant sur des hôtes sous
Wheezy

    Si vous mettez à niveau un conteneur invité LXC tournant sur un
    système hôte sous Wheezy, il vous faudra empêcher l'invité de
    migrer automatiquement vers systemd. Cela est faisable grâce au
    pinning, décrit dans Section 5.6, « La mise à niveau installe le
    nouveau système d'initialisation par défaut de Jessie ».

    Ceci est nécessaire car l'hôte sous Wheezy n'a pas les
    fonctionnalités permettant de faire démarrer un systèmes
    utilisant systemd.

    Vous devriez être capable de passer à systemd dans un invité LXC
    après avoir mis à niveau le système hôte vers Jessie. Veuillez
    lire le paragraphe suivant pour savoir ce qui doit être adapté
    sur les hôtes sous Jessie.

5.8.2. Mettre à niveau des invités LXC tournant sur des hôtes sous
Jessie

    Afin de pouvoir démarrer des invités LXC avec systemd, vous devez
    adapter la configuration de votre conteneur LXC. La configuration
    du conteneur se trouve généralement dans /var/lib/lxc/
    NOM_DU_CONTENEUR/config. Vous devez ajouter les réglages suivants
    à la configuration :

    lxc.autodev = 1
    lxc.kmsg = 0

5.8.3. Informations supplémentaires

    Vous pouvez trouver de plus amples informations sur LXC dans
    Debian dans le wiki Debian (https://wiki.debian.org/LXC) .

5.9. Migration manuelle de disques chiffrés avec LUKS whirlpool
(configurations non standard)

    Note

    Cette section est dédiée aux personnes ayant installé elles-mêmes
    des disques chiffrés avec LUKS en utilisant le hachage whirlpool.
    L'installateur Debian n'a jamais géré la création de tels
    disques.

    Si vous avez configuré manuellement un disque chiffré avec LUKS
    whirlpool, vous aurez besoin de le migrer manuellement vers un
    hachage plus fort. Vous pouvez vérifier si votre disque utilise
    whirlpool avec la commande suivante :

    # /sbin/cryptsetup luksDump <disk-device> | grep -i whirlpool

    Pour davantage d'information sur la migration, veuillez consulter
    l'élément « 8.3 Gcrypt 1.6.x and later break Whirlpool » de la
    FAQ cryptsetup (https://code.google.com/p/cryptsetup/wiki/
    FrequentlyAskedQuestions) .

    Attention

    Si vous avez un tel disque, cryptsetup refusera de le déchiffrer
    par défaut. Si votre disque racine ou d'autres disques système
    (par exemple /usr) sont chiffrés avec whirlpool, vous devriez les
    migrer avant le premier redémarrage suivant la mise à niveau de
    cryptsetup.

5.10. Le bureau GNOME nécessite des graphismes 3D de base

    Le bureau GNOME 3.14 de Jessie ne propose plus de prise en charge
    de secours pour les machines ne disposant pas de graphismes 3D de
    base. Pour fonctionner correctement, il nécessite soit un PC
    suffisamment récent (toute machine fabriquée ces 10 dernières
    années devrait avoir la prise en charge requise de SSE2) ou, pour
    les architectures autres qu'i386 et amd64, un adaptateur
    graphique 3D accéléré avec les pilotes EGL.

5.11. Le bureau GNOME ne fonctionne pas avec le pilote AMD
propriétaire FGLRX

    Contrairement aux autres pilotes OpenGL, le pilote AMD FGLRX pour
    les adaptateurs Radeon ne prend pas en charge l'interface EGL.
    Ainsi, plusieurs applications GNOME, dont le cœur du bureau
    GNOME, ne démarreront pas du tout quand ce driver sera utilisé.

    Il est recommandé d'utiliser à la place le pilote libre radeon,
    qui est le pilote par défaut de Jessie.

5.12. Modifications des raccourcis clavier par défaut de GNOME

    Les raccourcis clavier par défaut du bureau GNOME ont changé afin
    de mieux correspondre à ceux utilisés sur d'autres systèmes
    d'exploitation.

    Les réglages de raccourcis clavier précédemment modifiés par
    l'utilisateur seront préservés lors de la mise à niveau. Ces
    réglages peuvent encore être configurés depuis le centre de
    contrôle de GNOME, accessible dans le menu en haut à droite en
    cliquant sur l'icône « configuration ».

5.13. Modifications dans l'interpréteur de commande par défaut pour
les utilisateurs système fourni par base-passwd.

    La mise à niveau du paquet base-passwd réinitialisera l'invite de
    commande de certains utilisateurs système à l'interpréteur de
    commande « nologin ». Sont concernés les utilisateurs suivants :

      * daemon

      * bin

      * sys

      * sync

      * games

      * man

      * lp

      * mail

      * news

      * uucp

      * proxy

      * www-data

      * backup

      * list

      * irc

      * gnats

      * nobody

    Si votre installation locale nécessite qu'un de ces utilisateurs
    ait un interpréteur de commande, vous devriez refuser la
    migration ou bien migrer puis changer l'interpréteur des
    utilisateurs correspondants. Des exemples notables incluent les
    sauvegardes locales faites avec l'utilisateur « backup » avec une
    authentification par « ssh-key ».

    Attention
   
    La migration se fera automatiquement si la priorité de votre
    question debconf est « high » ou plus.

    Si vous savez que vous souhaitez conserver l'interpréteur de
    commande d'un utilisateur donné, vous pouvez pré-répondre à cette
    question en utilisant :

    echo 'base-passwd base-passwd/system/nom_utilisateur/shell/shell-actuel-modifié/_usr_sbin_nologin boolean false' | debconf-set-selections

    Où nom_utilisateur est le nom de l'utilisateur en question et
    shell_actuel_modifié est le nom tronqué de l'interpréteur. La
    modification se fait en remplaçant tous les caractères qui ne
    sont pas alphanumériques, tiret ou underscore, par des
    underscores. Par exemple, /bin/bash devient _bin_bash.

5.14. Migration vers le nouveau logiciel KDE de courriel, calendrier
et contacts (Kontact)

    Le système Kontact de gestion d'informations personnelles a subi
    une mise à niveau majeure. La nouvelle version utilise beaucoup
    plus l'indexation des métadonnées et les données de chaque
    utilisateur doivent être migrées vers ce nouvel index.

    Courriels, événements du calendrier et contacts du carnet
    d'adresse sont automatiquement migrés lorsque l'utilisateur se
    connecte et que le composant associé est lancé. Certains réglages
    avancés tels que les filtres de courriel et les templates
    personnalisés nécessitent une intervention manuelle. De plus
    amples détails et des suggestions de solutions aux problèmes sont
    réunies dans le wiki Debian (https://wiki.debian.org/KDE/Jessie/
    kontact) .

5.15. Consoles virtuelles (« getty ») manquantes avec plusieurs
environnements de bureau

    Note

    Ce problème est marqué comme corrigé dans Jessie. Si vous êtes
    toujours capable de le reproduire, veuillez le rapporter dans le
    bogue nº 766462 (https://bugs.debian.org/766462) . Veuillez noter
    que vous pourriez avoir à désarchiver le problème d'abord
    (veuillez consulter la documentation du serveur de contrôle BTS
    de Debian (https://www.debian.org/Bugs/server-control) sur la
    façon de désarchiver les bogues).

    Si vous avez installé plusieurs environnements de bureau, il se
    peut qu'aucune des « consoles virtuelles » ne montre une invite
    de connexion.

    Ce problème semble se produire lorsque plymouth, systemd et GNOME
    sont tous installés. Ce problème est rapporté en tant que Bogue
    Debian nº 766462 (https://bugs.debian.org/766462) .

    Il a été signalé que supprimer l'argument « splash » de la ligne
    de commande du noyau pourrait permettre de contourner le
    problème. Veuillez modifier /etc/default/grub et ne pas oublier
    de lancer update-grub après modification du fichier.

5.16. "Signal VGA hors de portée" / écran noir lors du démarrage avec
grub-pc

    Il existe un problème de compatibilité dans grub-pc avec des
    cartes graphiques anciennes (par exemple la "ATI Rage 128 Pro
    Ultra TR") qui peut provoquer un écran noir lors du démarrage.
    L'écran peut afficher un message "Signal VGA hors de portée" (ou
    quelque chose de similaire).

    Un contournement simple est de régler GRUB_TERMINAL=console dans
    /etc/default/grub.

5.17. Validation plus stricte des fichiers cron dans crontab

    Le programme crontab est maintenant plus strict et pourrait
    refuser de sauvegarder un fichier cron si celui-ci est invalide.
    Si vous rencontrez des problèmes avec crontab -e, veuillez
    vérifiez votre crontab.

5.18. Modification dans la gestion des chemins de modules illisibles
perl.

    À partir de la version 5.18 (et 5.20, celle incluse dans Jessie),
    Perl s'arrêtera avec une erreur fatale lorsqu'il rencontrera des
    chemins de modules illisibles dans @INC. Le comportement
    précédent était d'ignorer de telles entrées. Il est recommandé de
    vérifier le contenu de @INC de votre environnement à la recherche
    de répertoires n'étant pas lisibles par tout le monde et de
    prendre les mesures appropriées.

    Vous pouvez voir le @INC par défaut de Perl en exécutant la
    commande perl -V.

5.19. Considérations au sujet de la mise à niveau des grappes Ganeti

5.19.1. Problème lors de la mise à niveau de grappes Ganeti avec les
instances basées sur DRBD (corrigé dans 8.1).

    Note
   
    Ce problème a été corrigé dans la version mineure 8.1 de Jessie.

    La version de ganeti (2.12.0-3) livrée avec Jessie ne prend pas
    en charge les migrations depuis les installations exécutant la
    version 2.5 et les versions précédentes (dont celle de Wheezy)
    dans les cas où ce sont des instances ayant des disques DRBD. Ce
    problème devrait être corrigé dans une mise à jour de la
    distribution et il est déconseillé de mettre à niveau les grappes
    Ganeti affectées en attendant. Vous pouvez trouvez de plus amples
    informations à propos de ce problème dans le rapport de bogue
    nº 783186 (https://bugs.debian.org/783186) .

5.19.2. Notes générales à propos de la mise à niveau des grappes
Ganeti

    La procédure de mise à niveau recommandée d'une grappe Ganeti de
    la version de Wheezy (2.5.2-1) vers celle de Jessie (2.12.0-3)
    est d'arrêter toutes les instances puis de mettre à niveau et
    redémarrer tous les nœuds en même temps. Cela garantira que
    toutes les instances utilisent la version de Jessie de
    l'hyperviseur et que tous les nœuds utilisent les même versions
    de Ganeti et DRBD.

    Veuillez noter que faire fonctionner une grappe mélangeant des
    nœuds en versions 2.5 et 2.12 n'est pas pris en charge. Veuillez
    également noter qu'en fonction de l'hyperviseur, les migrations à
    chaud pourraient ne pas fonctionner entre les versions
    d'hyperviseur de Wheezy et Jessie.

5.20. Nouveaux prérequis pour l'exécution de fichier dans Samba4

    Si un client demande qu'un fichier soit « ouvert pour
    exécution », Samba4 demandera que le bit d'exécution soit activé
    sur le fichier en plus des permissions de lecture habituelles.
    Cela a aussi pour effet que les scripts « netlogon » sont ignorés
    en silence s'ils n'ont pas ce bit activé.

5.21. Cryptsetup peut casser le démarrage avec BUSYBOX=n

    Note

    Cette section ne s'applique qu'aux personnes ayant manuellement
    modifié leur fichier /etc/initramfr-tools/initramfs.conf pour ne
    pas utiliser busybox.

    Si vous avez à la fois busybox et cryptsetup installés et
    configuré initramfs pour ne pas utiliser busybox, alors votre
    système pourrait ne pas démarrer.

    Veuillez vérifier la valeur de votre réglage de BUSYBOX dans /etc
    /initramfs-tools/initramfs.conf si ces deux paquets sont
    installés. Pour le moment, les contournements connus sont de
    désinstaller busybox ou d'utiliser le réglage BUSYBOX=y dans /etc
    /initramfs-tools/initramfs.conf.

    Avertissement

    Si vous avez dû faire une modification, n'oubliez pas de lancer
    update-initramfs -u pour mettre à jour votre initramfs.
    Autrement, vous pourriez malgré tout finir avec un démarrage
    cassé.

    Veuillez consulter le bogue nº 783297 (https://bugs.debian.org/
    783297) pour de plus amples informations.

5.22. Modifications incompatibles dans le serveur mandataire Squid

    Note
   
    Cette section ne s'applique qu'aux systèmes sur lesquels un
    serveur mandataire squid est installé.

    La configuration de squid a été modifiée de manière incompatible
    avec la précédente. En particulier, certains « helpers » de squid
    ont changé de nom. Si votre configuration utilise d'anciennes
    fonctionnalités ou d'anciens noms de « helpers », votre service
    squid pourrait échouer au démarrage après la mise à niveau.

    Veuillez consulter les notes de publications de l'amont pour plus
    d'informations. En anglais :

      * Release notes for Squid 3.2 (http://www.squid-cache.org/
        Versions/v3/3.2/RELEASENOTES.html) (Les helpers renommés
        peuvent être trouvés au chapitre 2.6 Helper Name Changes
        (http://www.squid-cache.org/Versions/v3/3.2/RELEASENOTES.html
        #ss2.6) )

      * Release notes for Squid 3.3 (http://www.squid-cache.org/
        Versions/v3/3.3/RELEASENOTES.html)

      * Release notes for Squid 3.4 (http://www.squid-cache.org/
        Versions/v3/3.4/RELEASENOTES.html)

Chapitre 6. Plus d'informations sur Debian

6.1. Lectures pour aller plus loin

    Outre ces notes de publication et le manuel d'installation,
    d'autres documents sont disponibles sur le projet de
    documentation Debian (DDP) dont le but est de créer une
    documentation de qualité pour les utilisateurs et les
    développeurs Debian. On peut y trouver des documents comme la
    référence Debian, le guide du nouveau responsable Debian, la
    foire aux questions (FAQ) Debian et d'autres encore. Pour tous
    les détails concernant les ressources disponibles, veuillez
    consulter le site web de la Documentation Debian (https://
    www.debian.org/doc/) et le site web du wiki Debian (https://
    wiki.debian.org/) .

    La documentation de chaque paquet est installée dans /usr/share/
    doc/paquet. Elle peut contenir les informations concernant le
    copyright, les détails spécifiques à Debian et toute la
    documentation d'origine.

6.2. Obtenir de l'aide

    Il y a beaucoup de sources d'aide et de conseils possibles pour
    les utilisateurs de Debian, mais on ne devrait les utiliser que
    si la recherche dans la documentation a été vaine. Cette section
    fournit une courte introduction aux sources qui peuvent être
    utiles aux nouveaux utilisateurs de Debian.

6.2.1. Listes de diffusion

    Les listes de diffusion les plus intéressantes pour les
    utilisateurs Debian sont les listes debian-user (en anglais),
    debian-user-french (en français) et les autres listes
    debian-user-langue (pour les autres langues). Pour plus
    d'informations sur ces listes et des précisions sur la façon de
    s'y inscrire, lisez https://lists.debian.org/ (https://
    lists.debian.org/) . Veuillez chercher la réponse à votre
    question dans les archives avant de poster sur la liste et
    veuillez suivre la charte de ces listes.

6.2.2. Chat (IRC)

    Debian a un canal IRC (pour les anglophones) dédié à l'aide et à
    l'assistance aux utilisateurs Debian. Il est situé sur le réseau
    IRC OFTC. Pour accéder au canal, pointez votre logiciel client
    IRC favori sur irc.debian.org et rejoignez le canal #debian.

    Merci de suivre les usages du canal de discussion et de respecter
    pleinement les autres utilisateurs. Les règles d'utilisation sont
    disponibles dans le Wiki Debian (https://wiki.debian.org/
    DebianIRC) .

    Pour plus d'informations sur OFTC, veuillez visiter le site web
    (http://www.oftc.net/) .

6.3. Signaler les bogues

    Nous nous efforçons en permanence de faire de Debian un système
    d'exploitation de qualité ; cependant cela ne signifie pas que
    les paquets que nous fournissons sont totalement exempts de
    bogues. En accord avec la philosophie de « développement ouvert »
    de Debian, nous fournissons à nos utilisateurs toutes les
    informations sur les bogues qui nous ont été signalés sur notre
    système de suivi des bogues (BTS). Le BTS est consultable à
    l'adresse https://bugs.debian.org/ (https://bugs.debian.org/) .

    Si vous trouvez un bogue dans la distribution ou dans un logiciel
    qui en fait partie, merci de le signaler afin que nous puissions
    le corriger pour les prochaines versions. Signaler les bogues
    nécessite une adresse électronique valide. Nous demandons cela
    afin que les développeurs puissent entrer en contact avec les
    personnes qui ont envoyé le rapport de bogue au cas où plus
    d'informations seraient nécessaires.

    Vous pouvez soumettre un rapport de bogue en utilisant le
    programme reportbug ou en envoyant un courrier électronique. Vous
    trouverez plus d'informations sur le système de suivi des bogues
    (BTS) et les moyens de l'utiliser dans la documentation de
    référence (disponible à /usr/share/doc/debian si vous avez
    installé doc-debian) ou en ligne sur le site du système de suivi
    des bogues (https://bugs.debian.org/) .

6.4. Contribuer à Debian

    Il n'est pas nécessaire d'être un expert pour contribuer à
    Debian. En aidant les utilisateurs qui ont des problèmes sur les
    diverses listes (https://lists.debian.org/) d'assistance vous
    contribuez à la communauté. Identifier (et également résoudre)
    les problèmes liés au développement de la distribution en
    participant aux listes (https://lists.debian.org/) de
    développement est aussi très utile. Pour maintenir la grande
    qualité de la distribution Debian, signalez les bogues (https://
    bugs.debian.org/) et aidez les développeurs à les trouver et à
    les résoudre. L'application how-can-i-help vous aide à trouver
    des bogues signalés adaptés sur lesquels vous pouvez travailler.
    Si vous êtes plutôt un littéraire, vous voudrez peut-être
    contribuer plus activement en écrivant des documentations (https:
    //www.debian.org/doc/cvs) ou en traduisant (https://
    www.debian.org/international/) la documentation existante dans
    votre langue.

    Si vous pouvez consacrer plus de temps, peut-être pouvez-vous
    gérer, au sein de Debian, un des logiciels de la grande
    collection des logiciels libres. Il est très important d'adopter
    ou de maintenir les programmes qui font partie de Debian. La base
    de données sur le travail à faire et les futurs paquets (https://
    www.debian.org/devel/wnpp/) détaille ces informations. Si vous
    êtes intéressé par des groupes particuliers, alors il vous plaira
    peut-être de contribuer à certains sous-projets (https://
    www.debian.org/devel/#projects) de Debian, comme les portages
    vers des architectures particulières et les « Debian Pure Blends
    (https://wiki.debian.org/DebianPureBlends)  » pour les groupes
    d’utilisateurs particuliers, parmi bien d’autres.

    Quelle que soit la manière dont vous travaillez dans la
    communauté du logiciel libre, en tant qu'utilisateur,
    programmeur, rédacteur ou traducteur, vous aidez la communauté.
    Contribuer est gratifiant, amusant, et, en même temps, cela vous
    permet de rencontrer de nouvelles personnes et cela vous vous
    donne chaud au cœur.

Annexe A. Gérer le système Wheezy avant la mise à niveau

    Cette annexe contient des informations sur la façon de vous
    assurer que vous pouvez installer ou mettre à jour des paquets de
    Wheezy avant de faire une mise à niveau vers Jessie. Cela ne
    devrait être nécessaire que dans des situations spécifiques.

A.1. Mettre à niveau le système Wheezy

    En gros, cela n'est pas différent de toutes les autres mises à
    niveau de Wheezy qui ont déjà été faites. La seule différence est
    que vous devez tout d'abord vous assurer que la liste de paquets
    contient toujours des références à Wheezy comme expliqué en
    Section A.2, « Vérifier la liste de sources » .

    Si vous mettez le système à niveau en utilisant un miroir Debian,
    il sera automatiquement mis à niveau vers la dernière version
    mineure de Wheezy.

A.2. Vérifier la liste de sources

    Si l'une des lignes de /etc/apt/sources.list se réfère à
    « stable », c'est que Jessie est déjà « utilisé ». Ce n'est pas
    forcément ce que vous voulez si vous n'êtes pas encore prêt pour
    la mise à niveau. Si apt-get update a déjà été exécuté, vous
    pouvez encore revenir en arrière sans problème en suivant la
    procédure ci-dessous.

    Si des paquets de Jessie ont déjà été installés, il n'y a
    probablement plus beaucoup d'intérêt à installer des paquets de
    Wheezy. Dans ce cas, vous devrez décider vous-même si vous voulez
    continuer ainsi ou non. Il est possible de revenir à des versions
    antérieures pour des paquets, mais cela n'est pas traité ici.

    Ouvrez le fichier /etc/apt/sources.list avec votre éditeur favori
    (en tant que superutilisateur) et recherchez une référence à « 
    stable » dans toutes les lignes commençant par deb http: ou deb
    ftp:. Si vous en trouvez, changez stable en wheezy.

    Si des lignes commencent par deb file:, vous devrez vérifier
    vous-même si l'emplacement auquel elles se réfèrent contient une
    archive de Wheezy ou de Jessie.

    Important

    Ne changez pas les lignes qui commencent par deb cdrom:. Faire
    cela invaliderait la ligne et vous devriez à nouveau exécuter 
    apt-cdrom. Ne vous inquiétez pas si une ligne de source « cdrom »
    se réfère à « unstable ». C'est normal, bien que cela paraisse
    trompeur.

    Si des modifications ont déjà été effectuées, sauvegardez le
    fichier et exécutez :

    # apt-get update

    pour rafraîchir la liste des paquets.

A.3. Supprimer les fichiers de configuration obsolètes

    Avant de mettre à jour le système vers Jessie, il est recommandé
    de supprimer les vieux fichiers de configuration (tels que les
    fichiers *.dpkg-{new,old} dans /etc) du système.

A.4. Mettre à niveau les anciens paramètres linguistiques régionaux
vers UTF-8

    Si le système utilise des paramètres linguistiques régionaux non
    basés sur UTF-8, vous êtes fortement encouragé à changer et
    utiliser des paramètres linguistiques régionaux compatibles
    UTF-8. Par le passé, certains bogues^[6] ne se manifestaient que
    sur des systèmes n'utilisant pas des paramètres linguistiques
    régionaux compatibles UTF-8. Pour le bureau, de vilains
    correctifs dans les bibliothèques internes permettent d'utiliser
    ces anciens paramètres linguistiques régionaux, mais il ne sera
    plus possible à terme de les gérer correctement.

    Pour configurer les paramètres linguistiques régionaux du
    système, vous pouvez exécuter la commande dpkg-reconfigure
    locales. Sélectionnez des paramètres linguistiques régionaux
    compatibles UTF-8 lors du choix du jeu de paramètres régionaux
    actifs par défaut pour le système. De plus, vous devriez examiner
    les paramètres linguistiques régionaux des utilisateurs et vous
    assurer que la configuration de leur environnement n'active pas
    d'anciens paramètres linguistiques régionaux.


---------------------------------------------------------------------

    ^[6] Dans l'économiseur d'écran GNOME qui utilise des mots de
    passe avec des caractères non ASCII, la prise en charge de
    pam_ldap ou même la possibilité de déverrouiller l'écran ne sont
    pas forcément fiables quand on n'utilise pas UTF-8. Le lecteur
    d'écran de GNOME est touché par le bogue nº 599197 (http://
    bugs.debian.org/599197) . Le gestionnaire de fichiers Nautilus
    (ainsi que tous les programmes utilisant glib et probablement
    ceux utilisant Qt) suppose que les noms de fichiers sont en UTF-8
    alors que l'interpréteur de commandes suppose qu'ils sont écrits
    avec l'encodage des paramètres linguistiques régionaux
    (« locales ») actuels. Pour un usage quotidien, les noms de
    fichiers non ASCII ne sont pas utilisables sur de telles
    installations. De plus, le lecteur d'écran gnome-orca (qui permet
    aux utilisateurs ayant une déficience visuelle d'accéder à
    l'environnement de bureau GNOME) réclame les paramètres
    linguistiques régionaux UTF-8 depuis Squeeze ; avec un jeu de
    caractères ancien, il sera incapable de lire des informations de
    la fenêtre pour les éléments du bureau tels que le panneau
    Nautilus/GNOME ou le menu Alt-F1.

Annexe B. Contributeurs des notes de publication

    De nombreuses personnes ont contribué aux notes de publication,
    notamment (liste non exhaustive) :

    Adam Di Carlo, Andreas Barth, Andrei Popescu, Anne Bezemer, Bob 
    Hilliard, Charles Plessy, Christian Perrier, Daniel Baumann, 
    David Prévot, Eddy Petrişor, Emmanuel Kasper, Esko Arajärvi, 
    Frans Pop, Giovanni Rapagnani, Gordon Farquharson, Javier 
    Fernández-Sanguino Peña, Jens Seidel, Jonas Meurer, Jonathan 
    Nieder, Joost van Baal-Ilić, Josip Rodin, Julien Cristau, Justin
    B Rye, LaMont Jones, Luk Claes, Martin Michlmayr, Michael Biebl, 
    Moritz Mühlenhoff, Niels Thykier, Noah Meyerhans, Noritada 
    Kobayashi, Osamu Aoki, Peter Green, Rob Bradford, Samuel Thibault
    , Simon Bienlein, Simon Paillard, Stefan Fritsch, Steve Langasek,
    Steve McIntyre, Tobias Scherer, Vincent McIntyre et W. Martin 
    Borgert.

    Ce document a été traduit dans de nombreuses langues. Nos
    remerciements vont aux traducteurs !

    Traduction française par : Thomas Vincent, Thomas Blein, Romain 
    Doumenc, Steve Petruzzello, David Prévot, Simon Paillard, 
    Christian Perrier, Jean-Luc Coulon, Philippe Batailler, Stéphane 
    Blondon, Yannick Rhoelly, Frédéric Bothamy, Denis Barbier

Index

A

Abiword, Quoi de neuf dans la distribution ?
Apache, Quoi de neuf dans la distribution ?

B

BIND, Quoi de neuf dans la distribution ?
Blu-ray, CD, DVD et BD

C

Calligra, Quoi de neuf dans la distribution ?
CD, CD, DVD et BD
Courier, Quoi de neuf dans la distribution ?

D

Dia, Quoi de neuf dans la distribution ?
DocBook XML, Sources de ce document
DVD, CD, DVD et BD

E

Evolution, Quoi de neuf dans la distribution ?
Exim, Quoi de neuf dans la distribution ?

G

GCC, Quoi de neuf dans la distribution ?
GNOME, Quoi de neuf dans la distribution ?
GNUcash, Quoi de neuf dans la distribution ?
GNUmeric, Quoi de neuf dans la distribution ?

K

KDE, Quoi de neuf dans la distribution ?

L

LibreOffice, Quoi de neuf dans la distribution ?
LXDE, Quoi de neuf dans la distribution ?

O

OpenSSH, Quoi de neuf dans la distribution ?

P

packages

    apache2, Modifications incompatibles dans Apache HTTPD 2.4
    apt, Fournir des comptes-rendus de mise à niveau, Préparer les
        sources d'APT, Ajouter des sources Internet à APT, Ajouter
        les sources d'un miroir local à APT
    apt-listchanges, Mise à niveau minimale du système
    aptitude, Assurez-vous d'avoir suffisamment d'espace disque pour
        la mise à niveau, Purger les paquets supprimés
    base-passwd, Modifications dans l'interpréteur de commande par
        défaut pour les utilisateurs système fourni par base-passwd.
    busybox, Cryptsetup peut casser le démarrage avec BUSYBOX=n
    cryptsetup, Migration manuelle de disques chiffrés avec LUKS
        whirlpool (configurations non standard), Cryptsetup peut
        casser le démarrage avec BUSYBOX=n
    dblatex, Sources de ce document
    debian-goodies, Assurez-vous d'avoir suffisamment d'espace disque
        pour la mise à niveau
    debian-kernel-handbook, Installer un métapaquet du noyau
    debian-security-support, Sécurité, Limitations de la prise en
        charge de sécurité
    doc-debian, Signaler les bogues
    docbook-xsl, Sources de ce document
    dpkg, Fournir des comptes-rendus de mise à niveau
    ffmpeg, Paquets obsolètes
    games-content-dev, Mélange Debian Games
    ganeti, Problème lors de la mise à niveau de grappes Ganeti avec
        les instances basées sur DRBD (corrigé dans 8.1).
    gcc, Sécurité
    grub-pc, "Signal VGA hors de portée" / écran noir lors du
        démarrage avec grub-pc
    hardening-wrapper, Composants obsolètes
    how-can-i-help, Contribuer à Debian
    initramfs-tools, Interpréteur de commande de débogage pendant
        l'amorçage utilisant un initrd, Mise à niveau du noyau et des
        paquets liés, Modifications apportées au montage des systèmes
        de fichiers racine et /usr et à leur vérification.
    libjpeg-progs, Paquets obsolètes
    libjpeg-turbo-progs, Paquets obsolètes
    libreoffice, Paquets obsolètes
    libv8-3.14, Manque de prise en charge de sécurité pour
        l'écosystème autour de libv8 et Node.js
    linux-image-*, Mise à niveau du noyau et des paquets liés
    linux-image-amd64, Installer un métapaquet du noyau
    linux-source, Installer un métapaquet du noyau
    localepurge, Assurez-vous d'avoir suffisamment d'espace disque
        pour la mise à niveau
    mediawiki, Limitation précoce de la prise en charge de sécurité
    mplayer, Paquets obsolètes
    mplayer2, Paquets obsolètes
    mpv, Paquets obsolètes
    needrestart, Sécurité
    nodejs, Manque de prise en charge de sécurité pour l'écosystème
        autour de libv8 et Node.js
    openjdk-6-*, Paquets obsolètes
    openjdk-7-*, Paquets obsolètes
    openoffice.org, Paquets obsolètes
    openssh-server, Le serveur OpenSSH est réglé par défaut sur
        « PermitRootLogin without-password »
    perl, Modification dans la gestion des chemins de modules
        illisibles perl.
    php-horde, Applications PHP
    plymouth, Plymouth nécessaire aux invites de commandes au
        démarrage pour les démarrages sous systemd, Consoles
        virtuelles (« getty ») manquantes avec plusieurs
        environnements de bureau
    popularity-contest, Assurez-vous d'avoir suffisamment d'espace
        disque pour la mise à niveau
    postgresql-9.1, Paquets obsolètes
    postgresql-9.4, Paquets obsolètes
    postgresql-plperl-9.1, Paquets obsolètes
    puppetmaster, Compatibilité de Puppet 2.7 et 3.7
    python3.2, Paquets obsolètes
    python3.4, Paquets obsolètes
    release-notes, Signaler des bogues au sujet de ce document
    ruby, Paquets obsolètes
    ruby1.8, Paquets obsolètes
    ruby1.9.1, Paquets obsolètes
    ruby2.1, Paquets obsolètes
    squid, Paquets obsolètes
    squid3, Paquets obsolètes
    systemd, Nouveau système d'initialisation par défaut (systemd), 
        Les scripts de démarrage modifiés localement peuvent
        nécessiter d'être portés vers systemd, Options de noyau
        requises pour Jessie, Consoles virtuelles (« getty »)
        manquantes avec plusieurs environnements de bureau
    systemd-shim, La mise à niveau installe le nouveau système
        d'initialisation par défaut de Jessie
    systemd-sysv, Nouveau système d'initialisation par défaut
        (systemd), La mise à niveau installe le nouveau système
        d'initialisation par défaut de Jessie, Gestion plus stricte
        des échecs de montage lors du démarrage sous systemd, 
        systemd : comportement de la commande 'halt'
    sysvinit, Nouveau système d'initialisation par défaut (systemd), 
        Interpréteur de commande de débogage pendant l'amorçage
        utilisant systemd, systemd : comportement de la commande
        'halt'
    sysvinit-core, La mise à niveau installe le nouveau système
        d'initialisation par défaut de Jessie, Fonctionnalités de
        crypttab non prises en charge sous systemd (par exemple
        "keyscript=...")
    tinc, Préparer un environnement sain pour la mise à niveau
    udev, Mise à niveau du noyau et des paquets liés
    upgrade-reports, Fournir des comptes-rendus de mise à niveau
    upstart, La mise à niveau installe le nouveau système
        d'initialisation par défaut de Jessie
    xmlroff, Sources de ce document
    xsltproc, Sources de ce document

Perl, Quoi de neuf dans la distribution ?
PHP, Quoi de neuf dans la distribution ?
Postfix, Quoi de neuf dans la distribution ?
PostgreSQL, Quoi de neuf dans la distribution ?

X

Xfce, Quoi de neuf dans la distribution ?

Glossaire

ACPI

    Advanced Configuration and Power Interface (configuration avancée
    et interface de gestion d'énergie)

ALSA

    Advanced Linux Sound Architecture (architecture avancée de
    gestion du son sous Linux)

APM

    Advanced Power Management (gestion avancée de l'énergie)

BD

    Disque Blu-ray

CD

    Compact Disc (disque compact)

CD-ROM

    Compact Disc Read Only Memory (mémoire en lecture seule sur
    disque compact)

DHCP

    Dynamic Host Configuration Protocol (protocole de configuration
    dynamique des hôtes)

DNS

    Domain Name System (système de gestion des noms de domaine)

DVD

    Digital Versatile Disc (disque numérique multifonction)

GIMP

    GNU Image Manipulation Program (programme de manipulation
    d'images GNU)

GNU

    GNU's Not Unix (GNU n'est pas Unix)

GPG

    GNU Privacy Guard (gardien de confidentialité GNU)

IDE

    Integrated Drive Electronics (électronique de lecteur intégré)

LDAP

    Lightweight Directory Access Protocol (protocole léger de gestion
    d'annuaire)

LILO

    LInux LOader (programme d'amorce de Linux)

LSB

    Linux Standard Base (normes de base de Linux)

LVM

    Logical Volume Manager (gestionnaire de volumes logiques)

MTA

    Mail Transport Agent (agent de transport de courrier
    électronique)

NBD

    Network Block Device (périphérique de bloc réseau)

NFS

    Network File System (système de fichiers en réseau)

NIC

    Network Interface Card (carte d'interface réseau)

NIS

    Network Information Service (service d'information réseau)

OSS

    Open Sound System (système ouvert de gestion du son)

RAID

    Redundant Array of Independent Disks (ensemble redondant de
    disques indépendants)

RPC

    Remote Procedure Call (appel distant de procédure)

SATA

    Serial Advanced Technology Attachment (attachement en série
    avancé)

SSL

    Secure Sockets Layer (couche de sockets sécurisées)

TLS

    Transport Layer Security (couche de transport sécurisée)

UEFI

    Unified Extensible Firmware Interface (interface micrologicielle
    extensible unifiée)

USB

    Universal Serial Bus (bus série universel)

UUID

    Universally Unique Identifier (identifiant unique universel)

VGA

    Video Graphics Array (table de graphismes vidéo)

WPA

    Wi-Fi Protected Access (réseau sans fil avec accès protégé)

